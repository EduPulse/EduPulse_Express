(this.webpackJsonpedupulse=this.webpackJsonpedupulse||[]).push([[0],{27:function(e,t){var a="production",n=window.location.origin;e.exports=Object.freeze({environment:a,applicationRoot:n,URIs:{post:"/components/academicUser/viewArticle/",user:"/components/academicUser/authorProfile/"},clients:{unsplash:{access_key:"1BUdbzubiRw5_iYRYdYdth_ud40ySWBVwPtUgSjWTME"}}})},425:function(e,t,a){},426:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(37),o=a.n(c),r=(a(425),a(2)),s=(a(426),a(18)),l=a(120),d=a(12),j=a(709),b=a(23),u=a(711),h=a(712),p=a(659),m=a(410),x=a(97),f=a.n(x),O=a(59),g=a.n(O),v=a.p+"static/media/EduPulse.ed9db9c5.png",y=a(660),w=a(676),S=a(662),C=a(84),k=a(713),N=a(81),I=a.n(N),F="data:image/png;base64,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",D="data:image/png;base64,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",A=a(27),_=a.n(A),T=a(0),B=["in","children","onEnter","onExited"],P=Object(j.a)((function(e){return{root:Object(d.a)({background:"#4411A8",paddingLeft:"0px",paddingRight:"0px"},e.breakpoints.up("sm"),{paddingLeft:"10%",paddingRight:"10%"}),edupulseIcon:{marginRight:e.spacing(2)},loginButton:{backgroundColor:"#935FF9",borderRadius:"50px","&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},color:"white",width:"20%",marginRight:e.spacing(2)},grow:{flexGrow:1},menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),search:Object(d.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(b.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:"#DFDAE8",borderRadius:"15px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"230px",height:"370px"},logo:{width:"70px",height:"70px",borderRadius:"6px",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",display:"block",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},usericon:{width:"150px",height:"150px",display:"block",margin:"20px auto"},authicons:{display:"block",marginTop:"40px"}}})),E=i.a.forwardRef((function(e,t){var a=e.in,n=e.children,i=e.onEnter,c=e.onExited,o=Object(l.a)(e,B),r=Object(C.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&i&&i()},onRest:function(){!a&&c&&c()}});return Object(T.jsx)(C.animated.div,Object(s.a)(Object(s.a)({ref:t,style:r},o),{},{children:n}))}));function R(){var e=P(),t=i.a.useState(!1),a=Object(r.a)(t,2),n=a[0],c=a[1];return Object(T.jsxs)("div",{className:e.grow,children:[Object(T.jsx)(u.a,{position:"fixed",className:e.root,children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(T.jsx)(f.a,{})}),Object(T.jsx)("div",{className:e.edupulseIcon,children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px"}})}),Object(T.jsxs)("div",{className:e.search,children:[Object(T.jsx)("div",{className:e.searchIcon,children:Object(T.jsx)(g.a,{})}),Object(T.jsx)(m.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(T.jsx)("div",{className:e.grow}),Object(T.jsx)(y.a,{variant:"contained",className:e.loginButton,onClick:function(){c(!0)},children:"Login"})]})}),Object(T.jsx)(w.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:e.modal,open:n,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(E,{in:n,children:Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)("img",{src:v,alt:"logo",className:e.logo}),Object(T.jsx)(k.a,{color:"primary",children:Object(T.jsx)(I.a,{className:e.usericon})}),Object(T.jsx)("div",{className:e.authicons,children:Object(T.jsx)("center",{children:Object(T.jsx)("button",{onClick:function(){window.location.href=_.a.applicationRoot+"/openid/google"},style:{padding:"0px 0px",margin:"0px",border:"none",backgroundColor:"#DFDAE8",cursor:"pointer"},children:Object(T.jsx)("img",{src:F,alt:"google button",style:{width:"218px"},onMouseOver:function(e){return e.currentTarget.src=D},onMouseOut:function(e){return e.currentTarget.src=F}})})})})]})})})]})}var U=a(716),L=a(714),z=a(773),M=a(5),W=a.n(M),V=a(715);function G(e,t){var a=_.a.applicationRoot+"/api/"+e;if(void 0!==t){var n=[];for(var i in t)n.push(i);return a+"?"+n.reduce((function(e,a){return e+"&"+a+"="+t[a]}),"").slice(1)}return a}var Y=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],c=G("tag_operation/");Object(n.useEffect)((function(){W.a.get(c).then((function(e){var t=0,a=[];e.data.map((function(n){0!==Math.floor(Math.random()*Math.ceil(e.data.length/10))&&(a[t++]={label:n.verbose,value:n._id})})),i(a)})).catch((function(){console.error("load failed")}))}),[c]);var o=["primary","default","secondary"];return Object(T.jsx)("div",{children:a.length>0?a.map((function(e){return Object(T.jsx)(L.a,{href:"/tagLookup/"+e.value,style:{textDecoration:"none"},children:Object(T.jsx)(z.a,{variant:"filled",color:o[Math.floor(3*Math.random())],label:e.label,style:{margin:10,fontSize:15,backgroundColor:"white"}})})})):Object(T.jsxs)("div",{children:[Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6,marginTop:10}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}})]})})},q=a.p+"static/media/bg.80d39411.jpg",H=["in","children","onEnter","onExited"],K=Object(j.a)((function(e){return{card:{backgroundImage:"url(".concat(q,")"),color:"#4411A8",padding:"20px 20px",height:"200px",borderRadius:"15px",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",backgroundPosition:"center",backgroundSize:"cover"},joinButton:{borderRadius:"50px",padding:e.spacing(1,6),margin:e.spacing(1,0),fontWeight:"700"},text1:{fontWeight:"400",color:"black",margin:e.spacing(0,0,0,0)},text2:{margin:e.spacing(0,0,2,0)},text3:{fontWeight:"400",color:"black",margin:e.spacing(6,0,0,0)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:"#DFDAE8",borderRadius:"15px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"230px",height:"370px"},logo:{width:"70px",height:"70px",borderRadius:"6px",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",display:"block",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},usericon:{width:"150px",height:"150px",display:"block",margin:"20px auto"},authicons:{display:"block",marginTop:"40px"}}})),Q=i.a.forwardRef((function(e,t){var a=e.in,n=e.children,i=e.onEnter,c=e.onExited,o=Object(l.a)(e,H),r=Object(C.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&i&&i()},onRest:function(){!a&&c&&c()}});return Object(T.jsx)(C.animated.div,Object(s.a)(Object(s.a)({ref:t,style:r},o),{},{children:n}))}));var J=function(){var e=K(),t=i.a.useState(!1),a=Object(r.a)(t,2),n=a[0],c=a[1];return Object(T.jsxs)("div",{className:e.card,children:[Object(T.jsx)("h2",{className:e.text1,children:"Welcome to"}),Object(T.jsx)("h1",{className:e.text2,children:"EduPulse"}),Object(T.jsx)("h4",{className:e.text3,children:"Still haven't joined with us?"}),Object(T.jsx)(y.a,{variant:"outlined",color:"secondary",className:e.joinButton,onClick:function(){c(!0)},children:" Join "}),Object(T.jsx)(w.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:e.modal,open:n,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(Q,{in:n,children:Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)("img",{src:v,alt:"logo",className:e.logo}),Object(T.jsx)(k.a,{color:"primary",children:Object(T.jsx)(I.a,{className:e.usericon})}),Object(T.jsx)("div",{className:e.authicons,children:Object(T.jsx)("center",{children:Object(T.jsx)("button",{onClick:function(){window.location.href=_.a.applicationRoot+"/openid/google"},style:{padding:"0px 0px",margin:"0px",border:"none",backgroundColor:"#DFDAE8",cursor:"pointer"},children:Object(T.jsx)("img",{src:F,alt:"google button",style:{width:"218px"},onMouseOver:function(e){return e.currentTarget.src=D},onMouseOut:function(e){return e.currentTarget.src=F}})})})})]})})})]})},Z=a(717),X=a(718),$=a(720),ee=a(719),te=a(721),ae=a(774),ne=a(86),ie=a(243),ce=a(146),oe=a.n(ce),re=a(98),se=a.n(re),le=a(69),de=a.n(le),je=a(62),be=a.n(je),ue=a(767),he=a(365),pe=a.n(he),me=a(129),xe=["in","children","onEnter","onExited"],fe=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper2:{backgroundColor:"#DFDAE8",borderRadius:"15px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"80vw",height:"80vh",overflowY:"scroll"}}})),Oe=i.a.forwardRef((function(e,t){var a=e.in,n=e.children,i=e.onEnter,c=e.onExited,o=Object(l.a)(e,xe),r=Object(C.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&i&&i()},onRest:function(){!a&&c&&c()}});return Object(T.jsx)(C.animated.div,Object(s.a)(Object(s.a)({ref:t,style:r},o),{},{children:n}))}));var ge=function(e){var t=fe(),a=Object(n.useState)(!1),i=Object(r.a)(a,2),c=i[0],o=i[1],s=Object(me.a)(new Date(e.data.createdAt))+" ago";return Object(T.jsxs)("div",{children:[Object(T.jsx)(p.a,{children:Object(T.jsx)(pe.a,{onClick:function(){o(!0)}})}),Object(T.jsx)(w.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:t.modal,open:c,onClose:function(){o(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(Oe,{in:c,children:Object(T.jsx)("div",{className:t.paper2,children:Object(T.jsxs)(U.a,{container:!0,spacing:5,style:{marginTop:"30px",marginBottom:"30px"},children:[Object(T.jsx)(U.a,{item:!0,xs:!0,style:{},children:Object(T.jsxs)("center",{children:[Object(T.jsx)(ae.a,{"aria-label":"user",src:e.data.author.profilePicture,style:{width:"150px",height:"150px"}}),Object(T.jsx)("div",{children:Object(T.jsx)(ne.a,{variant:"h5",color:"textPrimary",component:"p",style:{margin:"10px 0"},children:e.data.author.name})}),Object(T.jsxs)("div",{style:{margin:"20px 0"},children:[Object(T.jsx)(de.a,{style:{width:"40px",height:"40px"}}),Object(T.jsx)(ne.a,{variant:"h5",color:"textPrimary",component:"p",children:e.data.article.upvotes.length})]}),Object(T.jsxs)("div",{style:{margin:"20px 0"},children:[Object(T.jsx)(be.a,{style:{width:"40px",height:"40px"}}),Object(T.jsx)(ne.a,{variant:"h5",color:"textPrimary",component:"p",children:e.data.viewCount})]})]})}),Object(T.jsxs)(U.a,{item:!0,xs:8,style:{border:"1px solid #DBDBDB",borderRadius:"15px",backgroundColor:"white"},children:[Object(T.jsxs)("div",{style:{borderBottom:"1px solid #DBDBDB"},children:[Object(T.jsx)("div",{style:{width:"100%",height:"200px",backgroundImage:"url(".concat(e.data.article.current.coverImage,")"),borderRadius:"10px",backgroundSize:"cover"}}),Object(T.jsx)(ne.a,{variant:"h4",color:"textPrimary",component:"p",style:{margin:"10px"},children:e.data.article.current.title}),Object(T.jsx)("div",{align:"right",style:{color:"grey"},children:s})]}),Object(T.jsx)("div",{dangerouslySetInnerHTML:{__html:e.data.article.current.content}})]})]})})})})]})},ve=["in","children","onEnter","onExited"],ye=Object(j.a)((function(e){return{root:{borderRadius:"15px",marginBottom:"20px"},media:{height:0,margin:"0px 5px",borderRadius:"10px",paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},likes:{paddingLeft:"5px",paddingRight:"40px"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:"#DFDAE8",borderRadius:"15px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"230px",height:"370px"},paper2:{backgroundColor:"#DFDAE8",borderRadius:"15px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"80vw",height:"80vh",overflowY:"scroll"},logo:{width:"70px",height:"70px",borderRadius:"6px",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",display:"block",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},usericon:{width:"150px",height:"150px",display:"block",margin:"20px auto"},authicons:{display:"block",marginTop:"40px"},card:{maxWidth:345,margin:e.spacing(2)}}})),we=i.a.forwardRef((function(e,t){var a=e.in,n=e.children,i=e.onEnter,c=e.onExited,o=Object(l.a)(e,ve),r=Object(C.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&i&&i()},onRest:function(){!a&&c&&c()}});return Object(T.jsx)(C.animated.div,Object(s.a)(Object(s.a)({ref:t,style:r},o),{},{children:n}))}));function Se(e){var t=e.loading,a=void 0!==t&&t,n=ye();return Object(T.jsxs)(Z.a,{className:n.root,children:[Object(T.jsx)(X.a,{avatar:a?Object(T.jsx)(V.a,{animation:"wave",variant:"circle",width:40,height:40}):"",action:a?null:Object(T.jsx)(p.a,{"aria-label":"settings",children:Object(T.jsx)(se.a,{})}),title:a?Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}):"",subheader:a?Object(T.jsx)(V.a,{animation:"wave",height:10,width:"40%"}):"5 hours ago"}),a?Object(T.jsx)(V.a,{animation:"wave",variant:"rect",className:n.media}):"",Object(T.jsx)(ee.a,{children:a?Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)(V.a,{animation:"wave",height:30,style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:30,width:"80%"})]}):""})]})}function Ce(){var e=ye(),t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(r.a)(o,2),l=s[0],d=s[1],j=function(){d(!0)},b=G("posts/feed");return Object(n.useEffect)((function(){W.a.get(b).then((function(e){console.log(e.data),c(e.data)})).catch((function(e){console.log(e)}))}),[b]),Object(T.jsxs)("div",{children:[i.length>0?i.map((function(t){return"article"===t.type&&"published"===t.article.status&&"Anyone"===t.visibility?Object(T.jsxs)(Z.a,{className:e.root,children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{"aria-label":"recipe",className:e.avatar,src:t.author.profilePicture},Object(ue.a)()),title:t.author.name,subheader:new Date(t.createdAt).toLocaleString()}),Object(T.jsx)($.a,{className:e.media,image:t.article.current.coverImage,title:"Paella dish"}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(ne.a,{variant:"h5",color:"textPrimary",component:"p",children:t.article.current.title})}),Object(T.jsxs)(te.a,{disableSpacing:!0,children:[Object(T.jsx)(p.a,{"aria-label":"add to favorites",onClick:j,children:Object(T.jsx)(de.a,{})}),Object(T.jsx)(ne.a,{variant:"h7",className:e.likes,children:t.article.upvotes.length}),Object(T.jsx)(p.a,{"aria-label":"views",onClick:j,children:Object(T.jsx)(be.a,{})}),Object(T.jsxs)(ne.a,{variant:"h7",className:e.likes,children:[t.viewCount," Views"]}),Object(T.jsx)(p.a,{"aria-label":"share",onClick:j,children:Object(T.jsx)(oe.a,{})}),Object(T.jsx)(ge,{data:t}),Object(T.jsx)(ne.a,{variant:"h7",children:"View more..."})]})]},Object(ue.a)()):""})):Object(T.jsxs)("div",{children:[Object(T.jsx)(Se,{loading:!0}),Object(T.jsx)(Se,{loading:!0}),Object(T.jsx)(Se,{loading:!0})]}),Object(T.jsx)(w.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:e.modal,open:l,onClose:function(){d(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(we,{in:l,children:Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)("img",{src:v,alt:"logo",className:e.logo}),Object(T.jsx)(k.a,{color:"primary",children:Object(T.jsx)(I.a,{className:e.usericon})}),Object(T.jsx)("div",{className:e.authicons,children:Object(T.jsx)("center",{children:Object(T.jsx)("button",{onClick:function(){window.location.href=_.a.applicationRoot+"/openid/google"},style:{padding:"0px 0px",margin:"0px",border:"none",backgroundColor:"#DFDAE8",cursor:"pointer"},children:Object(T.jsx)("img",{src:F,alt:"google button",style:{width:"218px"},onMouseOver:function(e){return e.currentTarget.src=D},onMouseOut:function(e){return e.currentTarget.src=F}})})})})]})})})]})}var ke=a(52),Ne=a(6),Ie=a(775),Fe=a(663),De=a(724),Ae=a(664),_e=a(722),Te=a(723),Be=a(366),Pe=a.n(Be),Ee=a(367),Re=a.n(Ee),Ue=a(368),Le=a.n(Ue),ze=a(16),Me=a(369),We=a.n(Me),Ve=Object(j.a)((function(e){var t;return{root:{background:"#4411A8"},edupulseIcon:{marginRight:e.spacing(2),marginLeft:e.spacing(2)},grow:{flexGrow:1},menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{marginRight:e.spacing(2)}),inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:(t={display:"none"},Object(d.a)(t,e.breakpoints.up("md"),{display:"flex"}),Object(d.a)(t,"alignItems","center"),t),list:{width:250},fullList:{width:"auto"}}}));function Ge(){var e=Ve(),t=i.a.useState({left:!1}),a=Object(r.a)(t,2),n=a[0],c=a[1],o=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&c(Object(s.a)(Object(s.a)({},n),{},Object(d.a)({},e,t)))}},l=function(t){return Object(T.jsxs)("div",{className:Object(Ne.a)(e.list,Object(d.a)({},e.fullList,"top"===t||"bottom"===t)),role:"presentation",onClick:o(t,!1),onKeyDown:o(t,!1),children:[Object(T.jsx)("center",{children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px",boxShadow:"rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px",margin:"10px 0px",borderRadius:"5px"}})}),Object(T.jsxs)(Fe.a,{children:[Object(T.jsx)(ze.b,{to:"/components/admin/AdminHome",style:{textDecoration:"none",color:"black"},children:Object(T.jsxs)(Ae.a,{button:!0,children:[Object(T.jsx)(_e.a,{children:Object(T.jsx)(Pe.a,{})}),Object(T.jsx)(Te.a,{primary:"Dashboard"})]},"Dashboard")}),Object(T.jsx)(ze.b,{to:"/components/admin/UserAccManage",style:{textDecoration:"none",color:"black"},children:Object(T.jsxs)(Ae.a,{button:!0,onClick:function(){},children:[Object(T.jsx)(_e.a,{children:Object(T.jsx)(Re.a,{})}),Object(T.jsx)(Te.a,{primary:"User Accounts"})]},"User Accounts")}),Object(T.jsx)(ze.b,{to:"/components/admin/AdvManage",style:{textDecoration:"none",color:"black"},children:Object(T.jsxs)(Ae.a,{button:!0,children:[Object(T.jsx)(_e.a,{children:Object(T.jsx)(Le.a,{})}),Object(T.jsx)(Te.a,{primary:"Advertisements"})]},"Advertisements")}),Object(T.jsx)(ze.b,{to:"/components/admin/Moderators",style:{textDecoration:"none",color:"black"},children:Object(T.jsxs)(Ae.a,{button:!0,children:[Object(T.jsx)(_e.a,{children:Object(T.jsx)(We.a,{})}),Object(T.jsx)(Te.a,{primary:"Moderators"})]},"Moderators")})]}),Object(T.jsx)(De.a,{}),Object(T.jsx)("div",{style:{alignItems:"center",backgroundColor:"red"},children:Object(T.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(e){e.preventDefault(),window.location.href=_.a.applicationRoot+"/openid/logout"},style:{position:"absolute",bottom:"70px",width:"50%",left:0,right:0,margin:"auto"},children:"Logout"})})]})};return Object(T.jsx)("div",{className:e.grow,children:Object(T.jsx)(u.a,{position:"fixed",className:e.root,children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:["left"].map((function(e){return Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)(f.a,{onClick:o(e,!0),children:e}),Object(T.jsx)(Ie.a,{anchor:e,open:n[e],onClose:o(e,!1),children:l(e)})]},e)}))}),Object(T.jsx)("div",{className:e.edupulseIcon,children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px"}})}),Object(T.jsx)("div",{className:e.grow}),Object(T.jsx)("div",{className:e.sectionDesktop,children:Object(T.jsx)(ne.a,{style:{marginRight:"20px",fontWeight:"600"},children:"Welcome, Admin"})})]})})})}for(var Ye=a(244),qe=a(156),He={maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Site Visits Last 7 Days"}},interaction:{mode:"index",intersect:!1},stacked:!1,scales:{y:{type:"linear",display:!0,position:"left"}}},Ke=(new Date).getDay(),Qe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Je=[],Ze=7;Ze>=1;Ze--)Ke-Ze>=0?Je.push(Qe[Ke-Ze]):Je.push(Qe[Ke-Ze+7]);for(var Xe=function(){var e=[0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0],a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=Object(n.useState)([]),l=Object(r.a)(s,2),d=l[0],j=l[1],b=G("charts/userLogins");return Object(n.useEffect)((function(){W.a.get(b).then((function(e){console.log(e.data),o(e.data.academic),j(e.data.general)}))}),[b]),c.map((function(t){return e[7-Number(Object(me.a)(new Date(t._id)).split(" ")[0])]=t.count})),d.map((function(e){return t[7-Number(Object(me.a)(new Date(e._id)).split(" ")[0])]=e.count})),console.log(e),console.log(t),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"chart-container",style:{position:"relative",height:"40vh",width:"92vw"},children:Object(T.jsx)(qe.b,{data:{labels:Je,datasets:[{label:"Academic Users",data:e,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.5)",yAxisID:"y",tension:.5},{label:"General Users",data:t,fill:!1,backgroundColor:"rgb(54, 162, 235)",borderColor:"rgba(54, 162, 235, 0.5)",yAxisID:"y",tension:.5}]},options:He})})})},$e=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],i=t[1],c=G("charts/totalusers");return Object(n.useEffect)((function(){W.a.get(c).then((function(e){console.log(e),i(e.data)}))}),[c]),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(qe.c,{data:{labels:["Academic","General"],datasets:[{label:"# of Votes",data:[a.academic,a.general],backgroundColor:["rgba(255, 99, 132, 0.4)","rgba(54, 162, 235, 0.4)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]},options:{plugins:{title:{display:!0,text:"Total Registered Users Breakdown"}}}})})},et={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{title:{display:!0,text:"New User Registrations in Last 7 Days"}}},tt=(new Date).getDay(),at=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],nt=[],it=7;it>=1;it--)tt-it>=0?nt.push(at[tt-it]):nt.push(at[tt-it+7]);var ct=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],c=[0,0,0,0,0,0,0],o=G("charts/userRegistrations");return Object(n.useEffect)((function(){W.a.get(o).then((function(e){i(e.data)}))}),[o]),a.map((function(e){return c[7-Number(Object(me.a)(new Date(e._id)).split(" ")[0])]=e.count})),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(qe.a,{data:{labels:nt,datasets:[{label:"# of Registrations",data:c,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:et})})},ot=a(9),rt=a(730),st=a(732),lt=a(726),dt=a(729),jt=a(731),bt=a(725),ut=a(407),ht=a(49),pt=a.n(ht),mt=a(776),xt=a(727),ft=a(373),Ot=a.n(ft),gt=a(372),vt=a.n(gt),yt=Object(j.a)((function(e){return{modal:{display:"flex",justifyContent:"center"},paper:{backgroundColor:"#DFDAE8",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"15px",width:"80%",height:"80%",margin:"40px 0",overflowY:"scroll"},formTitleContainer:{backgroundColor:"#4411A8",width:"50%",marginTop:"10px",borderRadius:"15px",padding:"5px 5px",marginBottom:"20px"},formTitle:{color:"white"},textfield:{margin:e.spacing(1,2,1,0)},formControl:{margin:e.spacing(1,0),minWidth:250},Newbutton:{marginTop:"20px",borderRadius:"50px"},submitbutton:{width:"30%",padding:"10px 10px",borderRadius:"10px",marginTop:"10px"}}})),wt=Object(j.a)({root:{"& > *":{borderBottom:"unset"}}});function St(e){var t=e.row,a=i.a.useState(!1),n=Object(r.a)(a,2),c=n[0],o=n[1],s=wt();return Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsxs)(bt.a,{className:s.root,children:[Object(T.jsx)(lt.a,{children:Object(T.jsx)(p.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!c)},children:c?Object(T.jsx)(vt.a,{}):Object(T.jsx)(Ot.a,{})})}),Object(T.jsx)(lt.a,{component:"th",scope:"row",children:t.reportedBy}),Object(T.jsx)(lt.a,{children:t.title})]}),Object(T.jsx)(bt.a,{children:Object(T.jsx)(lt.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(T.jsx)(xt.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(T.jsxs)(mt.a,{margin:1,alignContent:"center",children:["Report Description -",t.msg]})})})})]})}var Ct=function(e){var t=yt(),a=i.a.useState(!1),c=Object(r.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)([]),d=Object(r.a)(l,2),j=d[0],b=d[1],u=j.map((function(e){return t=e.message,a=e.reportedBy.name,n=e.title,i=e._id,{msg:t,reportedBy:a,title:n,id:i};var t,a,n,i})),h=Object(ot.a)((function(e){return{head:{backgroundColor:"#4411A8",color:e.palette.common.white,fontSize:"18px",fontWeight:"600"}}}))(lt.a),p=G("accreports/manageReports");return Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){var t=G("accreports/get");W.a.post(t,{data:e.id}).then((function(e){console.log(e.data),b(e.data.reports),s(!0)}))},children:"Review"}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:o,onClose:function(){s(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:o,children:Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)("div",{className:t.formTitleContainer,children:Object(T.jsx)("h3",{className:t.formTitle,align:"center",children:"Active Reports Details "})})}),Object(T.jsxs)("center",{children:[Object(T.jsx)(dt.a,{component:Ye.a,style:{margin:"20px 20px",width:"70vw",borderRadius:"15px"},children:Object(T.jsxs)(rt.a,{"aria-label":"collapsible table",children:[Object(T.jsx)(jt.a,{style:{color:"white"},children:Object(T.jsxs)(bt.a,{children:[Object(T.jsx)(h,{}),Object(T.jsx)(h,{children:"Reported By"}),Object(T.jsx)(h,{children:"Report title"})]})}),Object(T.jsx)(st.a,{children:u.map((function(e){return Object(T.jsx)(St,{row:e},e.id)}))})]})}),Object(T.jsx)(y.a,{variant:"contained",color:"primary",style:{margin:"0 10px"},onClick:function(){var t;t=e.id,pt()({title:"Confirm?",text:"User Account will be reinstated",icon:"warning",buttons:!0}).then((function(e){e&&W.a.post(p,{data:t,type:"reInstate"}).then((function(e){console.log(e.data),pt()("User Account is reinstated successfully",{icon:"success"})}))}))},children:"Reinstate User Account"}),Object(T.jsx)(y.a,{variant:"contained",color:"secondary",style:{margin:"0 10px"},onClick:function(){var t;t=e.id,pt()({title:"Confirm?",text:"User account will be deactiavted",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&W.a.post(p,{data:t,type:"deactive"}).then((function(e){console.log(e.data),pt()("User Account is reinstated successfully",{icon:"success"})}))}))},children:"Deactivate User Account"})]})]})})})]})},kt=Object(j.a)((function(e){return{title:{color:"#4411A8"},titlecontainer:{backgroundColor:"white",width:"40vw",marginTop:"80px",borderRadius:"20px",padding:"5px 5px",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px"},table:{minWidth:700}}})),Nt=Object(ot.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(bt.a);var It=Object(ot.a)((function(e){return{head:{backgroundColor:"#4411A8",color:e.palette.common.white,fontSize:16,fontWeight:"600"},body:{fontSize:14}}}))(lt.a);var Ft=function(){var e=kt(),t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=G("accreports");Object(n.useEffect)((function(){W.a.get(o).then((function(e){console.log(e.data),c(e.data)}))}),[o]);var s=i.map((function(e){return t=e._id._id,a=e._id.name,n=e._id.role,i=e._id.university,{Id:t,name:a,role:n,university:i};var t,a,n,i}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("center",{children:Object(T.jsx)("div",{className:kt().titlecontainer,children:Object(T.jsx)("h2",{className:kt().title,children:"User Account Reports Managment"})})}),Object(T.jsx)("div",{align:"center",children:Object(T.jsx)(dt.a,{component:Ye.a,style:{margin:"20px 100px",width:"80%",borderRadius:"15px"},children:Object(T.jsxs)(rt.a,{className:e.table,"aria-label":"customized table",children:[Object(T.jsx)(jt.a,{children:Object(T.jsxs)(bt.a,{children:[Object(T.jsx)(It,{align:"center",children:"User Name"}),Object(T.jsx)(It,{align:"center",children:"Account Type"}),Object(T.jsx)(It,{align:"center",children:"University"}),Object(T.jsx)(It,{align:"center"})]})}),Object(T.jsx)(st.a,{children:s.map((function(e){return Object(T.jsxs)(Nt,{children:[Object(T.jsx)(It,{component:"th",scope:"row",children:e.name}),Object(T.jsx)(It,{align:"center",children:e.role}),Object(T.jsx)(It,{align:"center",children:e.university}),Object(T.jsx)(It,{align:"center",children:Object(T.jsx)(Ct,{id:e.Id})})]},e.Id)}))})]})})})]})},Dt=a(738),At=a(670),_t=a(740),Tt=a(669),Bt=a(675),Pt=a(107),Et=a.n(Pt),Rt=a(74),Ut=Object(j.a)((function(e){return{modal:{display:"flex",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"5px",width:"600px",overflow:"scroll",margin:"20px 0"},formTitleContainer:{backgroundColor:"#4411A8",width:"80%",marginTop:"10px",borderRadius:"5px",padding:"5px 5px",marginBottom:"20px"},formTitle:{color:"white"},textfield:{margin:e.spacing(1,2,1,0)},formControl:{margin:e.spacing(1,0),minWidth:250},newad:{marginTop:"20px",borderRadius:"50px",backgroundColor:"green"}}}));var Lt=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],i=t[1],c=Ut(),o=Object(n.useState)({clientName:"",phone:"",email:"",advertType:"",adpackage:0,startDate:"",endDate:"",redirectLink:"",description:""}),l=Object(r.a)(o,2),j=l[0],b=l[1],u=function(e){b((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))},h=Object(n.useState)(null),p=Object(r.a)(h,2),m=p[0],x=p[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:c.newad,onClick:function(){i(!0)},children:"Publish New Ad +"}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:a,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:a,children:Object(T.jsx)("div",{className:c.paper,children:Object(T.jsxs)("form",{className:c.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("clientName",j.clientName),t.append("phone",j.phone),t.append("email",j.email),t.append("advertType",j.advertType),t.append("adpackage",j.adpackage),t.append("startDate",j.startDate),t.append("endDate",j.endDate),t.append("redirectLink",j.redirectLink),t.append("description",j.description),t.append("media",m,m.name),W()({method:"post",url:G("ad/new"),data:t,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);console.log(t)}}).then((function(e){pt()("Ad saved successfully","","success"),console.log(e),b({clientName:"",phone:"",email:"",advertType:"",adpackage:0,startDate:"",endDate:"",redirectLink:"",description:""}),x(null)})).catch((function(e){console.log(e)}))},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)("div",{className:c.formTitleContainer,children:Object(T.jsx)("h2",{className:c.formTitle,align:"center",children:"Publish New Ad"})})}),Object(T.jsx)("h4",{children:"Client Details"}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-full-width",label:"Client Name",placeholder:"Placeholder",fullWidth:!0,variant:"outlined",className:c.textfield,value:j.clientName,name:"clientName",onChange:u})}),Object(T.jsxs)("div",{style:{justifyContent:"space-between",display:"flex",flexWrap:"wrap"},children:[Object(T.jsx)(Dt.a,{id:"outlined-number",label:"Phone Number",type:"number",variant:"outlined",value:j.phone,name:"phone",onChange:u,required:!0}),Object(T.jsx)(Dt.a,{id:"outlined-textarea",label:"Email",placeholder:"Placeholder",variant:"outlined",style:{width:"60%"},value:j.email,name:"email",onChange:u})]}),Object(T.jsx)("h4",{children:"Advertisment Details"}),Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(T.jsxs)(Tt.a,{variant:"outlined",className:c.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Advertisment type"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Advertisment type",name:"advertType",onChange:u,defaultValue:"",children:[Object(T.jsx)(_t.a,{value:"Image",defaultValue:!0,children:"Image"}),Object(T.jsx)(_t.a,{value:"Video",children:"Video"})]})]}),Object(T.jsxs)(Tt.a,{variant:"outlined",className:c.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Package"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Advertisment type",name:"adpackage",onChange:u,defaultValue:"",children:[Object(T.jsx)(_t.a,{value:1,defaultValue:!0,children:"Package 1"}),Object(T.jsx)(_t.a,{value:2,children:"Package 2"}),Object(T.jsx)(_t.a,{value:3,children:"Package 3"}),Object(T.jsx)(_t.a,{value:4,children:"Package 4"})]})]})]}),Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(Dt.a,{id:"datetime-local",label:"Start Date",type:"date",defaultValue:"2021-08-24",className:c.textField,InputLabelProps:{shrink:!0},name:"startDate",onChange:u}),Object(T.jsx)(Dt.a,{id:"datetime-local",label:"End Date",type:"date",defaultValue:"2021-08-24",className:c.textField,InputLabelProps:{shrink:!0},name:"endDate",onChange:u})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-full-width",label:"Redirect Link",fullWidth:!0,variant:"outlined",className:c.textfield,value:j.redirectLink,name:"redirectLink",onChange:u})}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,fullWidth:!0,rows:4,variant:"outlined",className:c.textfield,value:j.description,name:"description",onChange:u})}),Object(T.jsx)(Rt.a,{onChange:function(e){var t=Object(r.a)(e,1)[0];t&&x(t)},acceptedFiles:["image/jpeg","image/png","image/bmp","video/mp4","video/mkv"],maxFileSize:5e7,filesLimit:1,showFileNamesInPreview:!0,filename:"media"}),Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:c.button,startIcon:Object(T.jsx)(Et.a,{}),type:"submit",children:"Post Ad"})]})})})})]})},zt=a(381),Mt=a.n(zt),Wt=a(741),Vt=a(379),Gt=a.n(Vt),Yt=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,2,2)}}})),qt=function(e){var t=Yt(),a=i.a.useState(!1),n=Object(r.a)(a,2),c=n[0],o=n[1];return Object(T.jsxs)("div",{style:{display:"table-cell"},children:[Object(T.jsx)(Wt.a,{title:"Preview Ad",children:Object(T.jsx)(p.a,{"aria-label":"Preview Ad",children:Object(T.jsx)(Mt.a,{onClick:function(){o(!0)}})})}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:c,onClose:function(){o(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:c,children:Object(T.jsx)("div",{className:t.paper,children:Object(T.jsx)("a",{href:e.href,className:"link-with-preview",children:Object(T.jsx)(Ht,{image:e.image,type:e.type,desc:e.desc,redirect:e.redirect})})})})})]})},Ht=function(e){return Object(T.jsx)("div",{className:"card",children:"Image"===e.type?Object(T.jsxs)("div",{children:[Object(T.jsx)("img",{src:e.image,className:"card-img-top",alt:"",style:{width:"600px"}}),Object(T.jsxs)("h5",{className:"card-title",children:["Redirect Link - ",e.redirect]}),Object(T.jsxs)("h5",{className:"card-title",style:{width:"600px"},children:["Description - ",e.desc]})]}):Object(T.jsxs)("div",{children:[Object(T.jsx)(Gt.a,{url:e.image,playing:!0,controls:!0}),Object(T.jsxs)("h5",{className:"card-title",children:["Redirect Link - ",e.redirect]}),Object(T.jsxs)("h5",{className:"card-title",style:{width:"600px"},children:["Description - ",e.desc]})]})})},Kt=a(147),Qt=a.n(Kt),Jt=function(e){return Object(T.jsx)("div",{style:{display:"table-cell"},children:Object(T.jsx)(Wt.a,{title:"Delete",children:Object(T.jsx)(p.a,{"aria-label":"delete",children:Object(T.jsx)(Qt.a,{onClick:function(){var t,a;t=e.id,a=e.client,pt()({title:"Confirm?",text:"Ad will be removed permanently",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?W.a.delete(G("ad/delete"),{data:{adID:t,Client:a}}).then((function(e,t){pt()("Ad removed successfully","","success")})).catch((function(e){console.log(e)})):pt()("Your imaginary file is safe!")}))}})})})})},Zt=a(382),Xt=a.n(Zt),$t=Object(j.a)((function(e){return{modal:{display:"flex",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"5px",width:"600px",overflow:"scroll",margin:"20px 0"},formTitleContainer:{backgroundColor:"#4411A8",width:"80%",marginTop:"10px",borderRadius:"5px",padding:"5px 5px",marginBottom:"20px"},formTitle:{color:"white"},textfield:{margin:e.spacing(1,2,1,0)},formControl:{margin:e.spacing(1,0),minWidth:250},newad:{marginTop:"20px",borderRadius:"50px"}}})),ea=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),i=a[0],c=a[1],o=$t(),l=Object(n.useState)({advertType:"",adpackage:0,startDate:"",endDate:"",redirectLink:"",description:""}),j=Object(r.a)(l,2),b=j[0],u=j[1],h=function(e){u((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))},m=Object(n.useState)(null),x=Object(r.a)(m,2),f=x[0],O=x[1],g=Object(n.useState)(null),v=Object(r.a)(g,2),C=(v[0],v[1],Object(n.useState)(!1)),k=Object(r.a)(C,2);k[0],k[1];return Object(T.jsxs)("div",{style:{display:"table-cell"},children:[Object(T.jsx)(Wt.a,{title:"Create New Ad for this Client",children:Object(T.jsx)(p.a,{"aria-label":"Create New Ad for this Client",children:Object(T.jsx)(Xt.a,{style:{color:"green"},onClick:function(){c(!0)}})})}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:i,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:i,children:Object(T.jsx)("div",{className:o.paper,children:Object(T.jsxs)("form",{className:o.root,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=new FormData;a.append("client",e.client),a.append("advertType",b.advertType),a.append("adpackage",b.adpackage),a.append("startDate",b.startDate),a.append("endDate",b.endDate),a.append("redirectLink",b.redirectLink),a.append("description",b.description),a.append("media",f,f.name),W()({method:"put",url:G("ad/same_client_new"),data:a,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);console.log(t)}}).then((function(e){pt()("Ad saved successfully","","success"),console.log(e),u({advertType:"",adpackage:0,startDate:"",endDate:"",redirectLink:"",description:""}),O(null)})).catch((function(e){console.log(e)}))},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)("div",{className:o.formTitleContainer,children:Object(T.jsx)("h2",{className:o.formTitle,align:"center",children:"Publish New Ad"})})}),Object(T.jsx)("h4",{children:"Advertisment Details"}),Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(T.jsxs)(Tt.a,{variant:"outlined",className:o.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Advertisment type"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Advertisment type",name:"advertType",onChange:h,defaultValue:"",children:[Object(T.jsx)(_t.a,{value:"Image",defaultValue:!0,children:"Image"}),Object(T.jsx)(_t.a,{value:"Video",children:"Video"})]})]}),Object(T.jsxs)(Tt.a,{variant:"outlined",className:o.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Package"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Advertisment type",name:"adpackage",onChange:h,defaultValue:"",children:[Object(T.jsx)(_t.a,{value:1,defaultValue:!0,children:"Package 1"}),Object(T.jsx)(_t.a,{value:2,children:"Package 2"}),Object(T.jsx)(_t.a,{value:3,children:"Package 3"}),Object(T.jsx)(_t.a,{value:4,children:"Package 4"})]})]})]}),Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(Dt.a,{id:"datetime-local",label:"Start Date",type:"date",defaultValue:"2021-08-24",className:o.textField,InputLabelProps:{shrink:!0},name:"startDate",onChange:h}),Object(T.jsx)(Dt.a,{id:"datetime-local",label:"End Date",type:"date",defaultValue:"2021-08-24",className:o.textField,InputLabelProps:{shrink:!0},name:"endDate",onChange:h})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-full-width",label:"Redirect Link",fullWidth:!0,variant:"outlined",className:o.textfield,value:b.redirectLink,name:"redirectLink",onChange:h})}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,fullWidth:!0,rows:4,variant:"outlined",className:o.textfield,value:b.description,name:"description",onChange:h})}),Object(T.jsx)(Rt.a,{onChange:function(e){var t=Object(r.a)(e,1)[0];t&&O(t)},acceptedFiles:["image/jpeg","image/png","image/bmp","video/mp4","video/mkv"],maxFileSize:5e7,filesLimit:1,showFileNamesInPreview:!0,filename:"media"}),Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:o.button,startIcon:Object(T.jsx)(Et.a,{}),type:"submit",children:"Post Ad"})]})})})})]})},ta=a(383),aa=a.n(ta),na=Object(j.a)((function(e){return{modal:{display:"flex",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"5px",width:"600px",overflow:"scroll",margin:"20px 0"},formTitleContainer:{backgroundColor:"#4411A8",width:"80%",marginTop:"10px",borderRadius:"5px",padding:"5px 5px",marginBottom:"20px"},formTitle:{color:"white"},textfield:{margin:e.spacing(1,2,1,0)},formControl:{margin:e.spacing(1,0),minWidth:250},newad:{marginTop:"20px",borderRadius:"50px"}}})),ia=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)([]),l=Object(r.a)(o,2),j=l[0],b=l[1],u=na(),h=Object(n.useState)({advertType:"",adpackage:"",startDate:"",endDate:"",redirectLink:"",description:""}),m=Object(r.a)(h,2),x=m[0],f=m[1],O=function(e){f((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))},g=Object(n.useState)(null),v=Object(r.a)(g,2),C=v[0],k=v[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(Wt.a,{title:"Edit Ad",children:Object(T.jsx)(p.a,{"aria-label":"Edit Ad",children:Object(T.jsx)(aa.a,{onClick:function(){var t=G("ad/getAD");W.a.post(t,{data:{adID:e.id,Client:e.client}}).then((function(e){b(e.data.advertisements[0]),c(!0)})).catch((function(e){console.log(e)}))}})})}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:u.modal,open:i,onClose:function(){c(!1),f({advertType:"",adpackage:"",startDate:"",endDate:"",redirectLink:"",description:""})},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:i,children:Object(T.jsx)("div",{className:u.paper,children:Object(T.jsxs)("form",{className:u.root,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=new FormData;a.append("client",e.client),a.append("id",e.id),a.append("advertType",x.advertType),a.append("adpackage",x.adpackage),a.append("startDate",x.startDate),a.append("endDate",x.endDate),a.append("redirectLink",x.redirectLink),a.append("description",x.description),null!=C&&a.append("media",C,C.name),W()({method:"put",url:G("ad/updateAD"),data:a,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);console.log(t)}}).then((function(e){pt()("Ad updated successfully","","success"),console.log(e),f({advertType:"",adpackage:"",startDate:"",endDate:"",redirectLink:"",description:""}),k(null)})).catch((function(e){console.log(e)}))},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)("div",{className:u.formTitleContainer,children:Object(T.jsx)("h2",{className:u.formTitle,align:"center",children:"Edit Advertisment "})})}),Object(T.jsx)("h4",{children:"Advertisment Details"}),Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(T.jsxs)(Tt.a,{variant:"outlined",className:u.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Advertisment type"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Advertisment type",name:"advertType",onChange:O,defaultValue:j.type,children:[Object(T.jsx)(_t.a,{value:"Image",defaultValue:!0,children:"Image"}),Object(T.jsx)(_t.a,{value:"Video",children:"Video"})]})]}),Object(T.jsxs)(Tt.a,{variant:"outlined",className:u.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Package"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Advertisment type",name:"adpackage",onChange:O,defaultValue:j.package,children:[Object(T.jsx)(_t.a,{value:"1",defaultValue:!0,children:"Package 1"}),Object(T.jsx)(_t.a,{value:"2",children:"Package 2"}),Object(T.jsx)(_t.a,{value:"3",children:"Package 3"}),Object(T.jsx)(_t.a,{value:"4",children:"Package 4"})]})]})]}),Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)(Dt.a,{id:"datetime-local",label:"Start Date",type:"date",defaultValue:"2021-08-24",className:u.textField,InputLabelProps:{shrink:!0},name:"startDate",onChange:O}),Object(T.jsx)(Dt.a,{id:"datetime-local",label:"End Date",type:"date",defaultValue:"2021-08-24",className:u.textField,InputLabelProps:{shrink:!0},name:"endDate",onChange:O})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-full-width",label:"Redirect Link",fullWidth:!0,variant:"outlined",className:u.textfield,defaultValue:j.redirectLink,name:"redirectLink",onChange:O})}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,fullWidth:!0,rows:4,variant:"outlined",className:u.textfield,defaultValue:j.Description,name:"description",onChange:O})}),Object(T.jsx)(Rt.a,{onChange:function(e){var t=Object(r.a)(e,1)[0];t&&k(t)},acceptedFiles:["image/jpeg","image/png","image/bmp","video/mp4","video/mkv"],maxFileSize:5e7,filesLimit:1,showFileNamesInPreview:!0,filename:"media"}),Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:u.button,startIcon:Object(T.jsx)(Et.a,{}),type:"submit",children:"Post Ad"})]})})})})]})},ca=Object(j.a)((function(e){return{title:{color:"#4411A8"},titlecontainer:{backgroundColor:"white",width:"40vw",marginTop:"80px",borderRadius:"20px",padding:"5px 5px",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px"},table:{minWidth:700}}})),oa=Object(ot.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(bt.a);var ra=Object(ot.a)((function(e){return{head:{backgroundColor:"#4411A8",color:e.palette.common.white,fontSize:16,fontWeight:"600"},body:{fontSize:14}}}))(lt.a);var sa=function(){var e=ca(),t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=G("ad");Object(n.useEffect)((function(){W.a.get(o).then((function(e){c(e.data),console.log(e.data)}))}),[o]);var s=i.map((function(e){return e.advertisements.map((function(t){return function(e,t,a,n,i,c,o,r,s){return{Client:e,Package:t,Type:a,StartingDate:n,EndDate:i,Link:c,AdID:o,Description:r,redirectLink:s}}(e.publicName,t.package,t.type,new Date(t.starting).toLocaleString().split(",")[0],new Date(t.validTill).toLocaleString().split(",")[0],t.Media,t._id,t.Description,t.redirectLink)}))}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("center",{children:Object(T.jsx)("div",{className:ca().titlecontainer,children:Object(T.jsx)("h2",{className:ca().title,children:"Advertisments Management"})})}),Object(T.jsxs)("div",{align:"center",children:[Object(T.jsx)(Lt,{}),Object(T.jsx)(dt.a,{component:Ye.a,style:{margin:"20px 100px",width:"80%",borderRadius:"15px"},children:Object(T.jsxs)(rt.a,{className:e.table,"aria-label":"customized table",children:[Object(T.jsx)(jt.a,{children:Object(T.jsxs)(bt.a,{children:[Object(T.jsx)(ra,{align:"center",children:"Client"}),Object(T.jsx)(ra,{align:"center",children:"Package"}),Object(T.jsx)(ra,{align:"right",children:"Type"}),Object(T.jsx)(ra,{align:"right",children:"StartingDate"}),Object(T.jsx)(ra,{align:"right",children:"EndDate"}),Object(T.jsx)(ra,{})]})}),Object(T.jsx)(st.a,{children:s.map((function(e){return e.map((function(e){return Object(T.jsxs)(oa,{children:[Object(T.jsx)(ra,{component:"th",scope:"row",style:{paddingLeft:"40px"},children:e.Client}),Object(T.jsx)(ra,{align:"center",children:e.Package}),Object(T.jsx)(ra,{align:"right",children:e.Type}),Object(T.jsx)(ra,{align:"right",children:e.StartingDate}),Object(T.jsx)(ra,{align:"right",children:e.EndDate}),Object(T.jsx)(ra,{align:"right",children:Object(T.jsxs)("div",{style:{display:"inline-table"},children:[Object(T.jsx)(qt,{image:e.Link,type:e.Type,desc:e.Description,redirect:e.redirectLink}),Object(T.jsx)(ea,{client:e.Client}),Object(T.jsx)(ia,{client:e.Client,id:e.AdID}),Object(T.jsx)(Jt,{client:e.Client,id:e.AdID})]})})]},e.Link)}))}))})]})})]})]})},la=a(772),da=Object(j.a)((function(e){return{modal:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"15px",width:"500px",margin:"20px 0"},formTitleContainer:{backgroundColor:"#4411A8",width:"80%",marginTop:"10px",borderRadius:"15px",padding:"5px 5px",marginBottom:"20px"},formTitle:{color:"white"},textfield:{margin:e.spacing(1,2,1,0)},formControl:{margin:e.spacing(1,0),minWidth:250},Newbutton:{marginTop:"20px",borderRadius:"50px"},submitbutton:{width:"30%",padding:"10px 10px",borderRadius:"10px",marginTop:"10px"},selectbox:{margin:e.spacing(1,2,1,0)}}})),ja=function(){var e=da(),t=Object(n.useState)(!1),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(""),l=Object(r.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(null),u=Object(r.a)(b,2),h=u[0],p=u[1],m=Object(n.useState)(null),x=Object(r.a)(m,2),f=x[0],O=x[1],g=function(){c(!1)},v=G("Moderators/new");return Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:e.Newbutton,onClick:function(){c(!0)},children:"Add New Moderator +"}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:i,onClose:g,closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:i,children:Object(T.jsx)("div",{className:e.paper,children:Object(T.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),W.a.post(v,{email:d,univeristy:h,faculty:f}).then((function(e){pt()("Moderator added successfully","","success").then(g()),j("")})).catch((function(e){console.log(e)}))},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)("div",{className:e.formTitleContainer,children:Object(T.jsx)("h2",{className:e.formTitle,align:"center",children:"Add New Moderator "})})}),Object(T.jsx)(Dt.a,{id:"outlined-full-width",label:"Enter email",fullWidth:!0,variant:"outlined",className:e.textfield,name:"email",onChange:function(e){j(e.target.value)}}),Object(T.jsx)(la.a,{id:"combo-box-demo",options:["University of Colombo","University of Peradeniya","University of Sri Jayewardenpura","University of Kelaniya","University of Moratuwa","University of Jaffna","University of Ruhuna","Eastern University Sri Lanka","Rajarata University of Sri Lanka","Wayamba University of Sri Lanka","Sabaragamuwa University of Sri Lanka","South Eastern University of Sri Lanka","The Open University of Sri Lanka","University of Buddhism & Pali of Sri Lanka"],getOptionLabel:function(e){return e},style:{width:300},renderInput:function(e){return Object(T.jsx)(Dt.a,Object(s.a)(Object(s.a)({},e),{},{label:"Select the Univeristy",variant:"outlined"}))},className:e.selectbox,onChange:function(e,t){p(t)}}),Object(T.jsx)(la.a,{id:"combo-box-demo",options:["Faculty of Arts","Faculty of Education","Faculty of Graduate Studies","Faculty of Law","Faculty of Management and Finance","Faculty of Medicine","Faculty of Science","Faculty of Computing","Faculty of Nursing","School of Computing","Sri Palee Campus"],getOptionLabel:function(e){return e},style:{width:300},renderInput:function(e){return Object(T.jsx)(Dt.a,Object(s.a)(Object(s.a)({},e),{},{label:"Select the faculty",variant:"outlined"}))},className:e.selectbox,onChange:function(e,t){O(t)}}),Object(T.jsx)("center",{children:Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:e.submitbutton,type:"submit",children:" Submit "})})]})})})})]})},ba=function(e){return Object(T.jsx)("div",{children:Object(T.jsx)(Wt.a,{title:"Delete",children:Object(T.jsx)(p.a,{"aria-label":"delete",children:Object(T.jsx)(Qt.a,{onClick:function(){var t;t=e.id,pt()({title:"Confirm?",text:"Moderator will be removed",icon:"warning",buttons:!0}).then((function(e){e&&W.a.post(G("Moderators/delete"),{data:t}).then((function(e,t){pt()("Moderator removed successfully","","success")})).catch((function(e){console.log(e)}))}))}})})})})},ua=Object(j.a)((function(e){return{title:{color:"#4411A8"},titlecontainer:{backgroundColor:"white",width:"40vw",marginTop:"80px",borderRadius:"20px",padding:"5px 5px",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px"},table:{minWidth:700}}})),ha=Object(ot.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(bt.a);var pa=Object(ot.a)((function(e){return{head:{backgroundColor:"#4411A8",color:e.palette.common.white},body:{fontSize:14}}}))(lt.a),ma=function(){var e=ua(),t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=G("Moderators/");Object(n.useEffect)((function(){W.a.get(o).then((function(e){c(e.data),console.log(e.data)}))}),[o]);var s=i.map((function(e){return t=e.name,a=e.academicInstitute.name,n=e._id,{Name:t,University:a,Id:n};var t,a,n}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("center",{children:Object(T.jsx)("div",{className:ua().titlecontainer,children:Object(T.jsx)("h2",{className:ua().title,children:"Moderators Management"})})}),Object(T.jsxs)("div",{align:"center",children:[Object(T.jsx)(ja,{}),Object(T.jsx)(dt.a,{component:Ye.a,style:{margin:"20px 100px",width:"60%",borderRadius:"15px"},children:Object(T.jsxs)(rt.a,{className:e.table,"aria-label":"customized table",children:[Object(T.jsx)(jt.a,{children:Object(T.jsxs)(bt.a,{children:[Object(T.jsx)(pa,{align:"center",children:"Name"}),Object(T.jsx)(pa,{align:"center",children:"University and Faculty"}),Object(T.jsx)(pa,{})]})}),Object(T.jsx)(st.a,{children:s.map((function(e){return Object(T.jsxs)(ha,{children:[Object(T.jsx)(pa,{component:"th",scope:"row",children:e.Name}),Object(T.jsx)(pa,{align:"center",children:e.University}),Object(T.jsx)(pa,{align:"right",children:Object(T.jsx)("div",{style:{display:"inline-table"},children:Object(T.jsx)(ba,{id:e.Id})})})]},e.Name)}))})]})})]})]})},xa=Object(j.a)((function(e){return{root:{flexGrow:1,margin:"20px 30px"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,borderRadius:"15px"},title:{color:"#4411A8"},titlecontainer:{backgroundColor:"white",width:"40vw",marginTop:"50px",borderRadius:"20px",padding:"5px 5px"},userstat:{height:"25%",margin:"10px 10px",borderRadius:"15px",padding:"5px 5px"},number:{marginTop:"0px"}}}));var fa=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)("center",{children:Object(T.jsx)("div",{className:xa().titlecontainer,children:Object(T.jsx)("h2",{className:xa().title,children:"EduPulse Dashboard"})})}),Object(T.jsx)("div",{className:xa().root,children:Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:12,md:12,children:Object(T.jsx)(Ye.a,{className:xa().paper,children:Object(T.jsx)(Xe,{})})}),Object(T.jsx)(U.a,{item:!0,xs:12,md:4,children:Object(T.jsx)(Ye.a,{className:xa().paper,children:Object(T.jsx)($e,{})})}),Object(T.jsx)(U.a,{item:!0,xs:12,md:8,children:Object(T.jsx)(Ye.a,{className:xa().paper,children:Object(T.jsx)(ct,{})})})]})})]})},Oa=function(){var e=Object(ke.i)();console.log(e);var t=Object(ke.g)();return console.log(t),Object(T.jsx)(ze.a,{children:Object(T.jsxs)("div",{children:[Object(T.jsx)(Ge,{}),Object(T.jsxs)(ke.c,{children:[Object(T.jsx)(ke.a,{path:"/components/admin/AdminHome",exact:!0,component:fa}),Object(T.jsx)(ke.a,{path:"/components/admin/UserAccManage",component:Ft}),Object(T.jsx)(ke.a,{path:"/components/admin/AdvManage",component:sa}),Object(T.jsx)(ke.a,{path:"/components/admin/Moderators",component:ma})]})]})})},ga=a(743),va=a(744),ya=a(766),wa=a(759),Sa=a(768),Ca=a(770),ka=a(760),Na=a(742),Ia=a(406),Fa=a(222),Da=a.n(Fa),Aa=a(109),_a=a.n(Aa),Ta=a(132),Ba=Ta.a().shape({name:Ta.b().required(),personalEmail:Ta.b().required().email(),role:Ta.b().required(),profilePicture:Ta.b().required().url(),_id:Ta.b().required().length(24)}),Pa=function(e){try{Ba.isValid(e).then((function(){localStorage.setItem("user",JSON.stringify(e)),console.log("user logged in")})).catch((function(e){throw e}))}catch(t){console.error(t)}},Ea=function(){try{return JSON.parse(localStorage.getItem("user"))}catch(e){return console.error(e),null}},Ra=Object(j.a)((function(e){return{root:Object(d.a)({background:"#4411A8",paddingLeft:"0px",paddingRight:"0px"},e.breakpoints.up("sm"),{paddingLeft:"10%",paddingRight:"10%"}),edupulseIcon:{marginRight:e.spacing(2)},postbutton:{backgroundColor:"#935FF9",borderRadius:10,"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},color:"white",width:"15%",marginRight:e.spacing(2)},grow:{flexGrow:1},menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(b.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({textAlign:"left",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function Ua(){var e=Ra(),t=i.a.useState(null),a=Object(r.a)(t,2),n=a[0],c=a[1],o=i.a.useState(null),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Boolean(n),b=Boolean(l),x=function(e){c(e.currentTarget)},O=function(){d(null)},y=function(){c(null),O()},w="primary-search-account-menu",S=Object(T.jsxs)(Ia.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:w,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:y,children:[Object(T.jsx)(_t.a,{onClick:function(){y(),window.location.href="/components/academicUser/ProfileInfo"},children:"User Profile"}),Object(T.jsx)(_t.a,{onClick:function(){y(),window.location.href="/components/academicUser/AcademicDashboard"},children:"Academic Dashboard"}),Object(T.jsx)(_t.a,{children:Object(T.jsx)(ze.b,{to:"/components/AboutUs",style:{color:"#000",textDecoration:"none"},children:"About Us"})}),Object(T.jsx)(_t.a,{onClick:function(){y(),window.location.href=A.applicationRoot+"/openid/logout"},children:"Logout"})]}),C="primary-search-account-menu-mobile",k=Object(T.jsxs)(Ia.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:C,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:O,children:[Object(T.jsxs)(_t.a,{children:[Object(T.jsx)(p.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(T.jsx)(Na.a,{color:"secondary",children:Object(T.jsx)(Da.a,{})})}),Object(T.jsx)("p",{children:"Messages"})]}),Object(T.jsxs)(_t.a,{children:[Object(T.jsx)(p.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(T.jsx)(Na.a,{color:"secondary",children:Object(T.jsx)(_a.a,{})})}),Object(T.jsx)("p",{children:"Notifications"})]}),Object(T.jsxs)(_t.a,{onClick:x,children:[Object(T.jsx)(p.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(T.jsx)(I.a,{})}),Object(T.jsx)("p",{children:"Profile"})]})]});return Object(T.jsxs)("div",{className:e.grow,children:[Object(T.jsx)(u.a,{position:"fixed",className:e.root,children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(T.jsx)(f.a,{})}),Object(T.jsx)("div",{className:e.edupulseIcon,children:Object(T.jsx)(ze.b,{to:"/components/academicUser",style:{textDecoration:"none",color:"#fff"},children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px"}})})}),Object(T.jsxs)("div",{className:e.search,children:[Object(T.jsx)("div",{className:e.searchIcon,children:Object(T.jsx)(g.a,{})}),Object(T.jsx)(m.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},style:{width:"75%"},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&window.location.assign("/components/academicUser/search/"+e.target.value)}})]}),Object(T.jsx)("div",{className:e.grow}),Object(T.jsx)("div",{className:e.sectionDesktop,children:Object(T.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":w,"aria-haspopup":"true",onClick:x,color:"inherit",children:Object(T.jsx)(ae.a,{alt:"Profile image",src:Ea()?Ea().profilePicture:null})})}),Object(T.jsx)("div",{className:e.sectionMobile,children:Object(T.jsx)(p.a,{"aria-label":"show more","aria-controls":C,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(T.jsx)(se.a,{})})})]})}),k,S]})}var La=a(405),za=Object(j.a)((function(e){return{chip:{marginInline:e.spacing(.5),marginBlock:e.spacing(.2),height:16,fontSize:e.typography.subtitle2,backgroundColor:"transparent",color:"light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},chipCritical:{color:"red",border:"1px solid red"},chipOpen:{color:"orange",border:"1px solid orange"},chipInReview:{color:"green",border:"1px solid green"},chipInfo:{color:e.palette.primary.main,border:"1px solid "+e.palette.primary.main}}}));function Ma(e,t,a){var n=za();return void 0===t||null===t?Object(T.jsx)(z.a,{label:e,className:"".concat(n.chip)},a):"critical"===t?Object(T.jsx)(z.a,{label:e,className:"".concat(n.chip," ").concat(n.chipCritical)},a):"info"===t?Object(T.jsx)(z.a,{label:e,className:"".concat(n.chip," ").concat(n.chipInfo)},a):"open"===t?Object(T.jsx)(z.a,{label:e,className:"".concat(n.chip," ").concat(n.chipOpen)},a):"in-review"===t?Object(T.jsx)(z.a,{label:e,className:"".concat(n.chip," ").concat(n.chipInReview)},a):Object(T.jsx)(z.a,{label:e,className:"".concat(n.chip)},a)}var Wa=Object(j.a)((function(e){return{card:{display:"flex",margin:e.spacing(.5),width:"100%"},root:{display:"flex",flexDirection:"row",padding:e.spacing(1),width:"100%"},left:{display:"flex",paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},right:{display:"flex",flexDirection:"column",justifyContent:"left",textAlign:"left",paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},inline:{display:"inline"},body:{textAlign:"justify"},chipArray:{display:"flex",flexDirection:"row",flexWrap:"wrap",listStyle:"none",justifyContent:"right",padding:e.spacing(.2)}}})),Va=function(e){return e.split(" ").reduce((function(e,t){return e+" "+t.charAt(0).toUpperCase()+t.slice(1)}),"").trim()};function Ga(e){var t,a=Wa(),n=e.report,c={id:e._id,name:"post"===n.type?n._id.post.author.name:n._id.comment.commenter.name,userId:"post"===n.type?n._id.post.author._id:n._id.comment.commenter._id,avatar:"post"===n.type?n._id.post.author.profilePicture:n._id.comment.commenter.profilePicture,role:"post"===n.type?n._id.post.author.role:n._id.comment.commenter.role,title:"post"===n.type?n._id.post.article.current.title:null,body:"post"===n.type?(t=n._id.post.article.current.content,(new DOMParser).parseFromString(t,"text/html").body.textContent.replace(/([A-Z])/g," $1").trim()||""):n._id.comment.content,type:n.type,time:"post"===n.type?n._id.post.createdAt:n._id.comment.createdAt,categories:n.categories,counts:n.counts};return Object(T.jsx)(i.a.Fragment,{children:Object(T.jsxs)(Ae.a,{button:!0,divider:!0,selected:e.isSelected(c.id),alignItems:"flex-start",style:{width:"100%"},onClick:function(){e.select(c.id)},children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(ze.b,{to:_.a.URIs.user+c.userId,children:Object(T.jsx)(ae.a,{alt:c.name,src:c.avatar})})}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(T.jsx)(Te.a,{disableTypography:!0,primary:Object(T.jsxs)(ne.a,{variant:"caption",children:[Object(T.jsx)(ze.b,{to:_.a.URIs.user+c.userId,underline:"hover",children:c.name}),"post"===c.type?" posted":" commented","\xa0\u2022\xa0",Object(La.a)(new Date(c.time),new Date,{addSuffix:!0})]}),secondary:Object(T.jsxs)(ne.a,{variant:"subtitle2",className:a.body,color:"textPrimary",children:[Object(T.jsx)("b",{children:c.title}),"post"===c.type?" - ".concat(c.body.slice(0,200)," ..."):"".concat(c.body.slice(0,200)," ...")]})}),Object(T.jsxs)("div",{component:"ul",className:a.chipArray,children:[Ma(Va(c.type),"info","chip-type"),c.counts.open>=5?Ma(Va("Open: "+c.counts.open),"critical","chip-open"):Ma(Va("Open: "+c.counts.open),"open","chip-open"),Ma(Va("In Review: "+c.counts.inReview),"in-review","chip-review"),c.categories.map((function(e,t){return Ma(Va(e),null,"chip-cat-"+t)}))]})]})]})})}var Ya=a(745),qa=a(734),Ha=a(748),Ka=a(771),Qa=a(746),Ja=a(747),Za=a(291),Xa=a(733);function $a(e){var t=function(t,a){"clickaway"!==a&&e.close()};return Object(T.jsx)(Xa.a,{open:e.open,autoHideDuration:5e3,onClose:t,anchorOrigin:{horizontal:"left",vertical:"bottom"},children:Object(T.jsx)(Ca.a,{onClose:t,severity:e.type,children:e.message})})}var en=Object(j.a)((function(e){return{card:{display:"flex",marginInline:e.spacing(1),width:"100%"},root:{display:"flex",flexDirection:"row",margin:e.spacing(1)},action:{display:"flex",flexDirection:"row",justifyContent:"start",padding:e.spacing(1)},left:{display:"flex",paddingInline:e.spacing(1)},right:{display:"flex",flexDirection:"column",justifyContent:"left",textAlign:"left",paddingInline:e.spacing(1)},inline:{display:"inline"},body:{textAlign:"justify"},chipArray:{display:"flex",flexDirection:"row",flexWrap:"wrap",listStyle:"none",justifyContent:"right",padding:e.spacing(.2)},small:{width:e.spacing(3),height:e.spacing(3)}}}));function tn(e){var t,a=en(),i=Object(n.useState)(!1),c=Object(r.a)(i,2),o=c[0],l=c[1],d=e.report,j=Object(n.useState)({open:!1,message:null,type:null}),b=Object(r.a)(j,2),u=b[0],h=b[1];return Object(T.jsxs)(Ae.a,{button:!0,divider:!0,selected:e.isEntryItemSelected(e.index),alignItems:"flex-start",onClick:function(){return e.setEntryItemSelected(e.index)},children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(ze.b,{to:_.a.URIs.user+d.reportedBy._id,children:Object(T.jsx)(ae.a,{alt:d.reportedBy.name,src:d.reportedBy.profilePicture})})}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(Te.a,{disableTypography:!0,primary:Object(T.jsxs)(ne.a,{variant:"caption",children:[Object(T.jsx)(ze.b,{to:_.a.URIs.user+d.reportedBy._id,underline:"hover",children:d.reportedBy.name}),"\xa0\u2022\xa0",d.reportedBy.role,"\xa0\u2022\xa0",Object(La.a)(new Date(d.createdAt),new Date,{addSuffix:!0})]}),secondary:Object(T.jsxs)(ne.a,{variant:"subtitle2",className:a.body,children:[Object(T.jsx)("b",{children:d.title})," - ".concat(d.message.slice(0,50)).concat(d.message.length>100?"...":"")]})}),Object(T.jsxs)("div",{component:"ul",className:a.chipArray,children:["open"===d.status?Ma("Open","open"):"in review"===d.status?Ma("In Review","in-review"):Ma("Closed","closed"),Ma("Category: "+(t=d.category,t.split(" ").reduce((function(e,t){return e+" "+t.charAt(0).toUpperCase()+t.slice(1)}),"").trim()))]})]}),Object(T.jsx)($a,{open:u.open,message:u.message,type:u.type,close:function(){var e=u;e.open=!1,h(Object(s.a)({},e))}}),Object(T.jsx)(va.a,{children:Object(T.jsx)(Wt.a,{title:"Mark for review",children:Object(T.jsx)(Ka.a,{edge:"end",onChange:function(t){l(!0);var a=t.target.checked;fetch(G("reports"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({_ids:[d._id],status:a?"in review":"open"})}).then((function(t){if(!t.ok)throw new Error("".concat(t.status,", ").concat(t.statusText));!0===a?e.review(e.index):e.revert(e.index),l(!1)})).catch((function(e){console.error(e),l(!1),h({open:!0,message:e.toString(),type:"error"})}))},color:"primary",indeterminate:o,disabled:o,checked:d.checked})})})]})}var an=Object(j.a)((function(e){return{card:{display:"flex",flexDirection:"row",justifyContent:"flex-start",height:"fit-content",maxWidth:"70%",margin:e.spacing(1)}}}));function nn(e){var t,a=an();return Object(T.jsx)(Z.a,{variant:"outlined",className:a.card,children:Object(T.jsxs)(Ae.a,{alignItems:"flex-start",children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(L.a,{href:_.a.URIs.user+e.report.reportedBy._id,children:Object(T.jsx)(ae.a,{alt:e.report.reportedBy.name,src:e.report.reportedBy.profilePicture})})}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(Te.a,{disableTypography:!0,primary:Object(T.jsxs)(ne.a,{variant:"caption",children:[Object(T.jsx)(L.a,{href:_.a.URIs.user+e.report.reportedBy._id,children:Object(T.jsx)("u",{children:e.report.reportedBy.name})}),"\xa0reported \xa0\u2022\xa0",e.report.reportedBy.role,"\xa0\u2022\xa0",Object(La.a)(new Date(e.report.createdAt),new Date,{addSuffix:!0})]}),secondary:Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)(ne.a,{variant:"subtitle2",className:a.body,children:Object(T.jsx)("b",{children:e.report.title})}),Object(T.jsx)(ne.a,{variant:"subtitle2",className:a.body,children:e.report.message}),Object(T.jsx)(ne.a,{variant:"subtitle2",className:a.body,children:Object(T.jsxs)("i",{children:[Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Moderator Comment: "}),e.report.comment]})})]})}),Object(T.jsx)("div",{component:"ul",className:a.chipArray,children:Ma("Category: "+(t=e.report.category,t.split(" ").reduce((function(e,t){return e+" "+t.charAt(0).toUpperCase()+t.slice(1)}),"").trim()))})]})]})})}var cn=a.p+"static/media/relation.1c2f9793.svg",on=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"start",padding:e.spacing(1)},root_row:{display:"flex",flexDirection:"row",height:"fit-content",width:"100%"},m1:{margin:e.spacing(1)},m2:{margin:e.spacing(2)},articleView:{width:"80%",padding:e.spacing(1),margin:e.spacing(1)}}})),rn=function(e){var t={replace:function(e){var a=e.name,n=e.children;if(a)return"a"===a?Object(T.jsx)("span",{children:Object(Za.b)(n,t)}):void 0}},a=on();return Object(T.jsx)(Ye.a,{variant:"outlined",className:a.articleView,children:Object(T.jsxs)(Ae.a,{dense:!0,alignItems:"flex-start",children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(L.a,{href:_.a.URIs.user+e.author._id,children:Object(T.jsx)(ae.a,{alt:e.author.name,src:e.author.profilePicture})})}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(T.jsx)(Te.a,{disableTypography:!0,primary:Object(T.jsxs)(ne.a,{variant:"caption",children:[Object(T.jsx)(L.a,{href:_.a.URIs.user+e.author._id,children:Object(T.jsx)("u",{children:e.author.name})}),"\xa0posted \xa0\u2022\xa0",Object(La.a)(new Date(e.createdAt),new Date,{addSuffix:!0})]})}),Object(T.jsx)(Z.a,{variant:"outlined",children:Object(T.jsx)(Wt.a,{title:"Click to open post","aria-label":"add",children:Object(T.jsxs)(Ya.a,{href:_.a.URIs.post+e._id,children:[Object(T.jsx)("div",{style:{maxHeight:"20vh",width:"100%",overflow:"hidden"},children:Object(T.jsx)("img",{src:e.article.current.coverImage,style:{height:"auto",maxWidth:"100%",backgroundSize:"cover",backgroundPosition:"center"}})}),Object(T.jsx)("div",{style:{padding:20},children:Object(Za.a)(e.article.current.content,t)})]})})})]})]})})},sn=function(e){var t=on();return Object(T.jsx)(Ye.a,{variant:"outlined",className:t.articleView,children:Object(T.jsxs)(Ae.a,{dense:!0,alignItems:"flex-start",children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(L.a,{href:_.a.URIs.user+e.commenter._id,children:Object(T.jsx)(ae.a,{alt:e.commenter.name,src:e.commenter.profilePicture})})}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(T.jsx)(Te.a,{disableTypography:!0,primary:Object(T.jsxs)(ne.a,{variant:"caption",children:[Object(T.jsx)(L.a,{href:_.a.URIs.user+e.commenter._id,children:Object(T.jsx)("u",{children:e.commenter.name})}),"\xa0commented \xa0\u2022\xa0",Object(La.a)(new Date(e.createdAt),new Date,{addSuffix:!0})]})}),Object(T.jsx)(Z.a,{variant:"outlined",children:Object(T.jsx)(Wt.a,{title:"Click to open post","aria-label":"add",children:Object(T.jsx)(Ya.a,{href:"/post/".concat(e._id),children:Object(T.jsx)("div",{style:{padding:20},children:Object(T.jsx)(ne.a,{variant:"caption",children:e.content})})})})})]})]})})},ln=function(e){if(!e.report||!e._id)return null;var t=on(),a=e.report,i=(Object(ke.e)(),Object(n.useState)((function(){var t=0;if(e.selected){var n=a.reports.findIndex((function(t){return t._id===e.selected}));n>=0&&(t=n)}return t}))),c=Object(r.a)(i,2),o=c[0],l=c[1],d=function(e){return e===o},j=Object(n.useState)(!1),b=Object(r.a)(j,2),u=b[0],h=b[1],m=Object(n.useState)(a.reports.filter((function(e){return e.checked})).length>0),x=Object(r.a)(m,2),f=x[0],O=x[1],g=function(){a.reports.filter((function(e){return e.checked})).length>0?O(!0):O(!1)},v=function(t){var n=a;"in review"!==n.reports[t].status&&(n.counts.inReview+=1,n.counts.open-=1,n.reports[t].status="in review"),n.reports[t].checked=!0,e.updateReport(n),g()},w=function(t,n){var i=a;"open"!==i.reports[t].status&&(i.counts.inReview-=1,i.counts.open+=1,i.reports[t].status="open"),i.reports[t].checked=!1,i.reports[t].comment=n||i.reports[t].comment,e.updateReport(i),g()},S=Object(n.useState)(!0),C=Object(r.a)(S,2),k=C[0],N=C[1],I=Object(n.useState)(!1),F=Object(r.a)(I,2),D=F[0],A=F[1],_=Object(n.useState)({open:!1,message:null,type:null}),B=Object(r.a)(_,2),P=B[0],E=B[1];return Object(T.jsxs)(qa.a,{fullScreen:!0,open:e.open,children:[Object(T.jsxs)(U.a,{container:!0,className:t.root,children:[Object(T.jsx)(U.a,{item:!0,xs:12,children:Object(T.jsxs)(U.a,{container:!0,className:t.root_row,style:{alignItems:"center"},children:[Object(T.jsx)(U.a,{item:!0,xs:4,className:t.root_row,style:{justifyContent:"flex-start"},children:Object(T.jsx)(Sa.a,{mdUp:!0,children:Object(T.jsx)(p.a,{"aria-label":"back button",children:Object(T.jsx)(Qa.a,{})})})}),Object(T.jsx)(U.a,{item:!0,xs:4,className:t.root_row,style:{justifyContent:"center"},children:Object(T.jsx)(ne.a,{variant:"h6",children:"Reports"})}),Object(T.jsx)(U.a,{item:!0,xs:4,className:t.root_row,style:{justifyContent:"flex-end"},children:Object(T.jsx)(p.a,{"aria-label":"close button",onClick:function(){e.close()},children:Object(T.jsx)(Ja.a,{})})})]})}),Object(T.jsxs)(U.a,{item:!0,xs:12,md:5,style:{height:"90%"},children:[Object(T.jsx)(Fe.a,{style:{overflow:"auto",height:"77%"},children:a.reports.map((function(e,t){return Object(T.jsx)(tn,{index:t,report:e,isEntryItemSelected:d,setEntryItemSelected:l,review:v,revert:w},e._id)}))}),Object(T.jsx)(De.a,{variant:"fullWidth"}),Object(T.jsx)("form",{onSubmit:function(t){t.preventDefault(),h(!0);var n={_ids:a.reports.filter((function(e){return e.checked})).map((function(e){return e._id})),status:k?"closed":"open",comment:document.getElementById("".concat(e._id,"-form-comment")).value,content:{_id:e._id,type:a.type,remove:D}};fetch(G("reports"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){if(h(!1),!t.ok)throw new Error("".concat(t.status,", ").concat(t.statusText));!0===n.content.remove&&e.removed(n.content.type),"open"===n.status?a.reports.forEach((function(e,t){e.checked&&w(t,n.comment)})):a.reports.forEach((function(t,i){t.checked&&function(t,n){var i=a;i.counts.inReview-=1,i.counts.total-=1,i.reports[t].status="closed",i.reports[t].comment=n||i.reports[t].comment,i.reports[t].checked=!1,e.updateReport(i),g()}(i,n.comment)}))})).catch((function(e){E({open:!0,message:e.toString(),type:"error"})}))},children:Object(T.jsxs)(U.a,{container:!0,style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",width:"100%",paddingBlock:"3vh"},children:[Object(T.jsx)(U.a,{item:!0,xs:8,children:Object(T.jsx)(Wt.a,{title:"Add comment",children:Object(T.jsx)(Dt.a,{id:"".concat(e._id,"-form-comment"),label:"Comment",multiline:!0,minRows:5,maxRows:5,variant:"outlined",style:{width:"90%",marginLeft:10}})})}),Object(T.jsxs)(U.a,{item:!0,xs:4,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(T.jsx)(Wt.a,{title:"Close selected reports after update",children:Object(T.jsx)(Ha.a,{checked:k,onChange:function(){return N(!k)},control:Object(T.jsx)(Ka.a,{id:"".concat(e._id,"-form-check"),color:"primary"}),label:"Close reports",disabled:u})}),Object(T.jsx)(Wt.a,{title:"Remove "+a.type,children:Object(T.jsx)(Ha.a,{checked:D,onChange:function(){return A(!D)},control:Object(T.jsx)(Ka.a,{id:"".concat(e._id,"-form-content"),color:"primary"}),label:"Remove "+a.type,disabled:u})}),Object(T.jsx)(Wt.a,{title:"Update selected reports",children:Object(T.jsx)("span",{children:Object(T.jsx)(y.a,{color:"primary",variant:"contained",type:"submit",disabled:u||!1===f,children:"Update"})})})]})]})})]}),Object(T.jsx)(U.a,{item:!0,xs:7,style:{height:"90%"},children:Object(T.jsxs)(U.a,{container:!0,style:{display:"flex",flexDirection:"row",height:"90vh",justifyContent:"left"},children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(De.a,{orientation:"vertical",variant:"middle",style:{marginInline:20}})}),Object(T.jsxs)(U.a,{item:!0,style:{display:"flex",flexDirection:"column",width:"92%",height:"100%",overflow:"auto"},children:[Object(T.jsx)("div",{children:Object(T.jsx)(nn,{report:a.reports[o]})}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignSelf:"flex-end",width:"100%",justifyContent:"flex-end"},children:[Object(T.jsx)("img",{src:cn,style:{width:"10%",margin:0,height:"auto",alignSelf:"flex-start",opacity:"0.2"}}),"post"===a.type?rn(a._id.post):sn(a._id.comment)]})]})]})})]}),Object(T.jsx)($a,{open:P.open,message:P.message,type:P.type,close:function(){var e=P;e.open=!1,E(Object(s.a)({},e))}})]})},dn=a(735),jn=a(736),bn=a(751),un=a(667),hn=a(672),pn=a(737),mn=a(749),xn=a(750),fn=a(765),On=Object(j.a)((function(e){return{card:{display:"flex",margin:e.spacing(.5),width:"100%"},root:{display:"flex",flexDirection:"row",padding:e.spacing(1)},left:{display:"flex",paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},right:{display:"flex",flexDirection:"column",justifyContent:"left",textAlign:"left",paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},inline:{display:"inline"},body:{textAlign:"justify"},chipArray:{display:"flex",flexDirection:"row",flexWrap:"wrap",listStyle:"none",justifyContent:"right",padding:e.spacing(.2)},button:{margin:e.spacing(1)}}}));function gn(e){var t=On(),a=e.user,i=Object(n.useState)(!1),c=Object(r.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(e.user.academic.role),p=Object(r.a)(h,2),m=p[0],x=p[1],f=Object(n.useState)({open:!1,message:null,type:null}),O=Object(r.a)(f,2),g=O[0],v=O[1];return Object(T.jsxs)(Ae.a,{divider:!0,alignItems:"flex-start",onClick:function(){e.select(a._id)},children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(ze.b,{to:_.a.URIs.user+a._id,children:Object(T.jsx)(ae.a,{alt:a.name,src:a.profilePicture})})}),Object(T.jsx)(Te.a,{disableTypography:!0,style:{display:"flex",flexDirection:"column"},primary:Object(T.jsxs)(ne.a,{variant:"body1",children:[Object(T.jsx)(ze.b,{to:_.a.URIs.user+a._id,underline:"hover",children:a.name}),Object(T.jsx)("span",{children:Object(T.jsxs)(ne.a,{variant:"caption",children:["\xa0\u2022\xa0joined\xa0",Object(fn.a)(new Date(a.createdAt),"h:mm a, do MMMM yyyy")]})})]}),secondary:Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)(De.a,{orientation:"vertical",flexItem:!0,style:{marginInline:10,margin:5}}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsxs)(ne.a,{variant:"subtitle2",color:"textPrimary",style:{display:"flex",alignItems:"center"},children:[Object(T.jsx)(mn.a,{style:{marginInline:5,marginBlock:2}}),Object(T.jsx)(Wt.a,{title:"Click to open in mail app",children:Object(T.jsx)("a",{href:"mailto: ".concat(a.academicEmail),children:a.academicEmail})})]}),Object(T.jsxs)(ne.a,{variant:"subtitle2",color:"textPrimary",style:{display:"flex",alignItems:"center"},children:[Object(T.jsx)(xn.a,{style:{marginInline:5,marginBlock:2}}),Object(T.jsx)("span",{children:a.academic.role[0].toUpperCase()+a.academic.role.substr(1)})]})]})]})}),Object(T.jsxs)(qa.a,{open:b,children:[Object(T.jsx)(dn.a,{children:"Select academic role"}),Object(T.jsxs)(jn.a,{children:[Object(T.jsx)(bn.a,{children:"Select acadamic role to assign to this user."}),Object(T.jsxs)(Tt.a,{required:!0,style:{minWidth:160},children:[Object(T.jsx)(At.a,{id:"pending-users-".concat(a._id,"-form-label"),children:"Academic role"}),Object(T.jsxs)(Bt.a,{labelId:"pending-users-".concat(a._id,"-form-label"),id:"pending-users-".concat(a._id,"-form-select"),value:m,onChange:function(e){return x(e.target.value)},input:Object(T.jsx)(un.a,{}),children:[Object(T.jsx)(_t.a,{value:"undergraduate",children:"Undergraduate"}),Object(T.jsx)(_t.a,{value:"staff",children:"Staff"}),Object(T.jsx)(_t.a,{value:"lecturer",children:"Lecturer"})]}),Object(T.jsx)(hn.a,{children:"Required"})]})]}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{variant:"text",className:t.button,onClick:function(){return u(!1)},children:"Cancel"}),Object(T.jsx)(y.a,{variant:"text",color:"primary",className:t.button,onClick:function(t){t.preventDefault(),l(!0);var n={_id:a._id,state:"academic",role:m};fetch(G("pending-users"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){if(l(!1),!t.ok)throw new Error("".concat(t.status,", ").concat(t.statusText));u(!1),l(!1),e.remove(a._id)})).catch((function(e){l(!1),v({open:!0,message:e.toString(),type:"error"})}))},children:"Submit"})]})]}),Object(T.jsx)($a,{open:g.open,message:g.message,type:g.type,close:function(){var e=g;e.open=!1,v(Object(s.a)({},e))}}),Object(T.jsxs)(va.a,{children:[Object(T.jsx)(y.a,{variant:"outlined",disabled:o,onClick:function(t){t.preventDefault(),l(!0);var n={_id:a._id,state:"none"};fetch(G("pending-users"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){if(l(!1),!t.ok)throw new Error("".concat(t.status,", ").concat(t.statusText));l(!1),e.remove(a._id)})).catch((function(e){l(!1),v({open:!0,message:e.toString(),type:"error"})}))},className:t.button,children:"Reject"}),Object(T.jsx)(y.a,{variant:"contained",disabled:o,color:"primary",className:t.button,onClick:function(){return u(!0)},children:"Accept"})]})]})}var vn=Object(j.a)((function(e){return{card:{display:"flex",margin:e.spacing(.5),width:"100%"},root:{display:"flex",flexDirection:"row",padding:e.spacing(1)},left:{display:"flex",paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},right:{display:"flex",flexDirection:"column",justifyContent:"left",textAlign:"left",paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},inline:{display:"inline"},body:{textAlign:"justify"},chipArray:{display:"flex",flexDirection:"row",flexWrap:"wrap",listStyle:"none",justifyContent:"right",padding:e.spacing(.2)},button:{margin:e.spacing(1)}}}));function yn(e){var t,a=vn(),i=e.user,c=Object(n.useState)(!1),o=Object(r.a)(c,2),l=o[0],j=o[1],b=Object(n.useState)(!1),u=Object(r.a)(b,2),h=u[0],p=u[1],m=Object(n.useState)(e.user.academic.role),x=Object(r.a)(m,2),f=x[0],O=x[1],g=Object(n.useState)(e.user.role),v=Object(r.a)(g,2),w=v[0],S=v[1],C=Object(n.useState)({open:!1,message:null,type:null}),k=Object(r.a)(C,2),N=k[0],I=k[1];return Object(T.jsxs)(Ae.a,{divider:!0,alignItems:"flex-start",onClick:function(){e.select(i._id)},children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(ze.b,{to:_.a.URIs.user+i._id,children:Object(T.jsx)(ae.a,{alt:i.name,src:i.profilePicture})})}),Object(T.jsx)(Te.a,{disableTypography:!0,style:{display:"flex",flexDirection:"column"},primary:Object(T.jsxs)(ne.a,{variant:"body1",children:[Object(T.jsx)(ze.b,{to:_.a.URIs.user+i._id,underline:"hover",children:i.name}),Object(T.jsx)("span",{children:Object(T.jsxs)(ne.a,{variant:"caption",children:["moderator"===e.user.role?" \u2022 moderator":"","\xa0\u2022\xa0joined\xa0",Object(fn.a)(new Date(i.createdAt),"h:mm a, do MMMM yyyy")]})})]}),secondary:Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)(De.a,{orientation:"vertical",flexItem:!0,style:{marginInline:10,margin:5}}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsxs)(ne.a,{variant:"subtitle2",color:"textPrimary",style:{display:"flex",alignItems:"center"},children:[Object(T.jsx)(mn.a,{style:{marginInline:5,marginBlock:2}}),Object(T.jsx)(Wt.a,{title:"Click to open in mail app",children:Object(T.jsx)("a",{href:"mailto: ".concat(i.academicEmail),children:i.academicEmail})})]}),Object(T.jsxs)(ne.a,{variant:"subtitle2",color:"textPrimary",style:{display:"flex",alignItems:"center"},children:[Object(T.jsx)(xn.a,{style:{marginInline:5,marginBlock:2}}),Object(T.jsx)("span",{children:i.academic.role[0].toUpperCase()+i.academic.role.substr(1)})]})]})]})}),Object(T.jsxs)(qa.a,{open:h,children:[Object(T.jsx)(dn.a,{children:"Take Action"}),Object(T.jsxs)(jn.a,{children:[Object(T.jsx)(bn.a,{children:"Take an action for this user."}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsxs)(Tt.a,{style:{minWidth:160,margin:"10px"},children:[Object(T.jsx)(At.a,{id:"all-users-".concat(i._id,"-aca-role-label"),children:"Academic role"}),Object(T.jsxs)(Bt.a,{labelId:"all-users-".concat(i._id,"-aca-role-label"),id:"all-users-".concat(i._id,"-aca-role-select"),value:f,onChange:function(e){return O(e.target.value)},input:Object(T.jsx)(un.a,{}),disabled:"academic"!==w,children:[Object(T.jsx)(_t.a,{value:"undergraduate",children:"Undergraduate"}),Object(T.jsx)(_t.a,{value:"staff",children:"Staff"}),Object(T.jsx)(_t.a,{value:"lecturer",children:"Lecturer"})]})]}),Object(T.jsxs)(Tt.a,{style:{minWidth:160,margin:"10px"},children:[Object(T.jsx)(At.a,{id:"all-users-".concat(i._id,"-role-label"),children:"User role"}),Object(T.jsxs)(Bt.a,{labelId:"all-users-".concat(i._id,"-role-label"),id:"all-users-".concat(i._id,"-role-select"),value:w,onChange:function(e){return S(e.target.value)},input:Object(T.jsx)(un.a,{}),children:[Object(T.jsx)(_t.a,{value:"general",children:"General"}),Object(T.jsx)(_t.a,{value:"academic",children:"Academic"})]})]})]})]}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{variant:"text",className:a.button,onClick:function(){return p(!1)},children:"Cancel"}),Object(T.jsx)(y.a,{variant:"text",color:"primary",className:a.button,onClick:function(t){t.preventDefault(),j(!0);var a={_id:i._id,academic:{role:f},role:w};fetch(G("institute/users"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){if(j(!1),!t.ok)throw new Error("".concat(t.status,", ").concat(t.statusText));p(!1),j(!1),"general"===a.role&&e.remove(i._id)})).catch((function(e){j(!1),I({open:!0,message:e.toString(),type:"error"})}))},children:"Submit"})]})]}),Object(T.jsx)($a,{open:N.open,message:N.message,type:N.type,close:function(){var e=N;e.open=!1,I(Object(s.a)({},e))}}),Object(T.jsx)(va.a,{children:Object(T.jsx)(y.a,(t={variant:"outlined",disabled:l,color:"primary",className:a.button},Object(d.a)(t,"disabled","moderator"===e.user.role),Object(d.a)(t,"onClick",(function(){return p(!0)})),Object(d.a)(t,"children","Take Action"),t))})]})}var wn=a(178),Sn=a(671),Cn=a(752),kn=a(754),Nn=a(755),In=a(756),Fn=a(757),Dn=a(758),An=a(753),_n=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"column"},m1:{margin:e.spacing(1)},m2:{margin:e.spacing(2)},body:{marginInline:e.spacing(2),marginBlock:e.spacing(1)},bodyText:{marginInline:e.spacing(2),marginBlock:e.spacing(1),width:"100%"},contactContainer:{marginInline:e.spacing(2),marginBlock:e.spacing(1),width:"90%",justifyContent:"center"},contact:{width:"100%",display:"flex",alignItems:"start"},contactContent:{width:"100%",display:"flex",alignItems:"center"},statContainer:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},input:{marginInline:e.spacing(1)},inputSmall:{width:"40ch"},inputSmallIntended:{marginRight:e.spacing(1),marginLeft:e.spacing(5),width:"40ch"},cover:{marginInline:e.spacing(1),"&:hover":{zIndex:1,"& $coverBackdrop":{opacity:.15},"& $coverIcon":{opacity:1}}},coverBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},coverIcon:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white,opacity:.4,height:"25%",width:"auto",transition:e.transitions.create("opacity")},coverImage:{position:"absolute",top:0,bottom:0,width:"100%",height:"auto"}}}));function Tn(e){var t=_n(),a=Object(n.useState)(!0),i=Object(r.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)({}),d=Object(r.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)({open:!1,message:null,type:null}),h=Object(r.a)(u,2),p=h[0],m=h[1],x=Object(n.useState)(!1),f=Object(r.a)(x,2),O=f[0],g=f[1];Object(n.useEffect)((function(){w()}),[c]);var v=function(e){var a=Object(n.useState)(e.data.name),i=Object(r.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(e.data.description),d=Object(r.a)(l,2),u=d[0],h=d[1],p=Object(n.useState)(e.data.domain),m=Object(r.a)(p,2),x=m[0],f=m[1],v=Object(n.useState)(e.data.contactDetails.email),w=Object(r.a)(v,2),S=w[0],C=w[1],k=Object(n.useState)(e.data.contactDetails.phoneNos),N=Object(r.a)(k,2),I=N[0],F=N[1],D=Object(n.useState)(e.data.contactDetails.address),A=Object(r.a)(D,2),_=A[0],B=A[1],P=Object(n.useState)(e.data.coverImage),E=Object(r.a)(P,2),R=E[0],L=E[1],z=Object(n.useState)(!1),M=Object(r.a)(z,2),W=M[0],V=M[1],Y=Object(n.useState)({open:!1,message:null,type:null}),q=Object(r.a)(Y,2),H=q[0],K=q[1],Q=Object(n.useState)(!1),J=Object(r.a)(Q,2),Z=J[0],X=J[1];return Object(T.jsxs)(qa.a,{open:O,onClose:function(){return g(!1)},fullWidth:!0,maxWidth:"md",children:[Object(T.jsx)(dn.a,{children:"Update Institute Details"}),Object(T.jsxs)(jn.a,{dividers:!0,children:[Object(T.jsxs)(wn.a,{focusRipple:!0,style:{height:"20vh",width:"100%",overflow:"hidden"},className:t.cover,id:"form-banner-upload-imposter",component:"label",for:"form-banner-upload",disabled:Z,children:[Object(T.jsx)("img",{src:R,className:t.coverImage}),Object(T.jsx)("span",{className:t.coverBackdrop}),Object(T.jsx)(Cn.a,{hidden:Z,className:t.coverIcon}),Object(T.jsx)("input",{type:"file",id:"form-banner-upload",onChange:function(t){var a=new FormData;a.append("cover",t.target.files[0]),L(null),X(!0),fetch(G("institute/cover"),{method:"POST",body:a}).then((function(e){if(X(!1),200!==e.status)throw"Cover image not uploaded";e.json().then((function(e){L(e.coverUrl)}))})).catch((function(t){console.error(t),L(e.data.coverImage)}))},style:{display:"none"}}),Object(T.jsx)(An.a,{hidden:!1===Z,style:{width:"100%",alignSelf:"flex-end"}})]}),Object(T.jsxs)("form",{children:[Object(T.jsx)(Tt.a,{style:{width:"100%"},children:Object(T.jsx)(Dt.a,{id:"info-update-title",label:"Name",type:"text",variant:"standard",fullWidth:!0,margin:"normal",className:t.input,defaultValue:c,onChange:function(e){return o(e.target.value)}})}),Object(T.jsx)(Tt.a,{style:{width:"100%"},children:Object(T.jsx)(Dt.a,{id:"info-update-desc",label:"Description",type:"text",variant:"standard",fullWidth:!0,margin:"normal",className:t.input,defaultValue:u,onChange:function(e){return h(e.target.value)},minRows:1,multiline:!0})}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(U.a,{container:!0,spacing:1,alignItems:"flex-end",className:t.input,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(kn.a,{})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(Dt.a,{id:"info-update-domain",label:"Website",type:"url",variant:"standard",className:t.inputSmall,margin:"normal",defaultValue:x,onChange:function(e){return f(e.target.value)}})})]})}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(U.a,{container:!0,spacing:1,alignItems:"flex-end",className:t.input,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(Nn.a,{})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(Dt.a,{id:"info-update-email",label:"Email",type:"email",variant:"standard",className:t.inputSmall,margin:"normal",defaultValue:S,onChange:function(e){return C(e.target.value)}})})]})}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(U.a,{container:!0,spacing:1,alignItems:"flex-end",className:t.input,children:[Object(T.jsx)(U.a,{item:!0,style:{alignSelf:"flex-start",marginTop:30},children:Object(T.jsx)(In.a,{})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(Sn.a,{style:{marginTop:30},children:"Phone Numbers:"}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(Dt.a,{id:"info-update-phone-1",label:"Phone number 1",type:"tel",variant:"standard",margin:"dense",className:t.inputSmall,defaultValue:I[0],onChange:function(e){var t=I;t[0]=e.target.value,F(t)}}),Object(T.jsx)(Dt.a,{id:"info-update-phone-2",label:"Phone number 2",type:"tel",variant:"standard",margin:"dense",className:t.inputSmall,defaultValue:I[1],onChange:function(e){var t=I;t[1]=e.target.value,F(t)}})]})]})})]})}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(U.a,{container:!0,spacing:1,alignItems:"flex-end",className:t.input,children:[Object(T.jsx)(U.a,{item:!0,style:{alignSelf:"flex-start",marginTop:30},children:Object(T.jsx)(Fn.a,{})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(Sn.a,{style:{marginTop:30},children:"Address:"}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(Dt.a,{id:"info-update-add-1",label:"Address Line 1",type:"text",variant:"standard",margin:"dense",className:t.inputSmall,defaultValue:_?_.line1:null,onChange:function(e){var t=_;t.line1=e.target.value,B(Object(s.a)({},t))}}),Object(T.jsx)(Dt.a,{id:"info-update-add-2",label:"Address Line 2",type:"text",variant:"standard",margin:"dense",className:t.inputSmall,defaultValue:_?_.line2:null,onChange:function(e){var t=_;t.line2=e.target.value,B(Object(s.a)({},t))}}),Object(T.jsx)(Dt.a,{id:"info-update-add-city",label:"City",type:"text",variant:"standard",margin:"dense",className:t.inputSmall,defaultValue:_?_.city:null,onChange:function(e){var t=_;t.city=e.target.value,B(Object(s.a)({},t))}}),Object(T.jsx)(Dt.a,{id:"info-update-add-country",label:"Country",type:"text",variant:"standard",margin:"dense",className:t.inputSmall,defaultValue:_?_.country:null,onChange:function(e){var t=_;t.country=e.target.value,B(Object(s.a)({},t))}})]})]})})]})})]})]}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{variant:"text",disabled:W,onClick:function(){return g(!1)},children:"Cancel"}),Object(T.jsx)(y.a,{variant:"text",disabled:W,color:"primary",onClick:function(){return function(){var t={_id:e.data._id,name:c,domain:x,description:u,coverImage:R,contactDetails:{email:S,phoneNos:I,address:_}};V(!0),fetch(G("institute"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("".concat(e.status,", ").concat(e.statusText));V(!1);var a=j;a.name=t.name,a.domain=t.domain,a.description=t.description,a.coverImage=t.coverImage,a.contactDetails=t.contactDetails,b(Object(s.a)({},a)),g(!1)})).catch((function(e){console.error(e),V(!1),K({open:!0,message:e.toString(),type:"error"})}))}()},children:"Submit"})]}),Object(T.jsx)($a,{open:H.open,message:H.message,type:H.type,close:function(){var e=H;e.open=!1,K(Object(s.a)({},e))}})]})},w=function(){!1!==c&&fetch(G("institute")).then((function(e){if(!e.ok)throw new Error("".concat(e.status,", ").concat(e.statusText));return e.json()})).then((function(e){b(e),o(!1)})).catch((function(e){console.error(e),m({open:!0,message:e.toString(),type:"error"})}))},S=function(e){return e<Math.pow(10,3)?String(e):e<Math.pow(10,6)?(e/Math.pow(10,3)).toFixed(1)+"K":e<Math.pow(10,9)?(e/Math.pow(10,6)).toFixed(1)+"M":e<Math.pow(10,12)?(e/Math.pow(10,9)).toFixed(1)+"B":(e/Math.pow(10,12)).toFixed(1)+"T"};return c?Object(T.jsxs)("div",{children:[Object(T.jsx)(V.a,{height:"20vh",width:"100%",variant:"rect"}),Object(T.jsxs)("div",{children:[Object(T.jsx)(ne.a,{variant:"h5",align:"left",className:t.body,children:Object(T.jsx)(V.a,{variant:"text"})}),Object(T.jsx)(De.a,{className:t.m1}),Object(T.jsx)(ne.a,{variant:"subtitle2",color:"textSecondary",align:"left",className:t.body,children:Object(T.jsx)(V.a,{variant:"text"})}),Object(T.jsx)(De.a,{className:t.m1}),Object(T.jsxs)(U.a,{container:!0,spacing:1,className:t.contactContainer,children:[Object(T.jsxs)(U.a,{item:!0,xs:4,className:t.statContainer,children:[Object(T.jsx)(ne.a,{color:"primary",variant:"h4",align:"center",children:Object(T.jsx)(V.a,{variant:"text",width:"5vw"})}),Object(T.jsx)(ne.a,{variant:"subtitle2",align:"center",children:Object(T.jsx)(V.a,{variant:"text",width:"4vw"})})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,className:t.statContainer,children:[Object(T.jsx)(ne.a,{color:"primary",variant:"h4",align:"center",children:Object(T.jsx)(V.a,{variant:"text",width:"5vw"})}),Object(T.jsx)(ne.a,{variant:"subtitle2",align:"center",children:Object(T.jsx)(V.a,{variant:"text",width:"4vw"})})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,className:t.statContainer,children:[Object(T.jsx)(ne.a,{color:"primary",variant:"h4",align:"center",children:Object(T.jsx)(V.a,{variant:"text",width:"5vw"})}),Object(T.jsx)(ne.a,{variant:"subtitle2",align:"center",children:Object(T.jsx)(V.a,{variant:"text",width:"4vw"})})]})]}),Object(T.jsx)(De.a,{className:t.m1}),Object(T.jsxs)(U.a,{container:!0,spacing:1,className:t.contactContainer,children:[Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)(ne.a,{variant:"subtitle2",className:t.contactContent,children:[Object(T.jsx)(V.a,{variant:"rect",width:32,height:32,className:t.m1}),Object(T.jsx)(V.a,{variant:"text",width:"8vw"})]})}),Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)(ne.a,{variant:"subtitle2",className:t.contactContent,children:[Object(T.jsx)(V.a,{variant:"rect",width:32,height:32,className:t.m1}),Object(T.jsx)(V.a,{variant:"text",width:"8vw"})]})}),Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)("div",{className:t.contactContent,children:[Object(T.jsx)(V.a,{variant:"rect",width:32,height:32,className:t.m1,style:{alignSelf:"start"}}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(V.a,{variant:"text",width:"8vw"}),Object(T.jsx)(V.a,{variant:"text",width:"8vw"}),Object(T.jsx)(V.a,{variant:"text",width:"8vw"})]})]})}),Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)("div",{className:t.contactContent,children:[Object(T.jsx)(V.a,{variant:"rect",width:32,height:32,className:t.m1,style:{alignSelf:"start"}}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(V.a,{variant:"text",width:"8vw"}),Object(T.jsx)(V.a,{variant:"text",width:"8vw"}),Object(T.jsx)(V.a,{variant:"text",width:"8vw"}),Object(T.jsx)(V.a,{variant:"text",width:"8vw"})]})]})})]}),Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},className:t.m1,children:Object(T.jsx)(V.a,{variant:"rect",width:152,height:36})})]}),Object(T.jsx)($a,{open:p.open,message:p.message,type:p.type,close:function(){var e=p;e.open=!1,m(Object(s.a)({},e))}})]}):Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)("div",{style:{height:"20vh",width:"100%",overflow:"hidden"},children:Object(T.jsx)("img",{src:j.coverImage,style:{height:"auto",maxWidth:"100%",backgroundSize:"cover",backgroundPosition:"center"}})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(ne.a,{variant:"h5",align:"left",className:t.body,children:j.name}),Object(T.jsx)(De.a,{className:t.m1}),Object(T.jsx)(ne.a,{variant:"subtitle2",color:"textSecondary",align:"left",className:t.body,children:j.description}),Object(T.jsx)(De.a,{className:t.m1}),Object(T.jsxs)(U.a,{container:!0,spacing:1,className:t.contactContainer,children:[Object(T.jsxs)(U.a,{item:!0,xs:4,className:t.statContainer,children:[Object(T.jsx)(ne.a,{color:"primary",variant:"h4",align:"center",children:S(j.stats.noUsers)}),Object(T.jsx)(ne.a,{variant:"subtitle2",align:"center",children:"members"})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,className:t.statContainer,children:[Object(T.jsx)(ne.a,{color:"primary",variant:"h4",align:"center",children:S(j.stats.noPosts)}),Object(T.jsx)(ne.a,{variant:"subtitle2",align:"center",children:"posts"})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,className:t.statContainer,children:[Object(T.jsx)(ne.a,{color:"primary",variant:"h4",align:"center",children:S(j.stats.noViews)}),Object(T.jsx)(ne.a,{variant:"subtitle2",align:"center",children:"post views"})]})]}),Object(T.jsx)(De.a,{className:t.m1}),Object(T.jsxs)(U.a,{container:!0,spacing:1,className:t.contactContainer,children:[Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)(ne.a,{variant:"subtitle2",className:t.contactContent,children:[Object(T.jsx)(kn.a,{className:t.m1}),Object(T.jsx)("a",{href:j.domain,style:{wordBreak:"break-word"},children:j.domain?j.domain:"none"})]})}),Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)(ne.a,{variant:"subtitle2",className:t.contactContent,children:[Object(T.jsx)(Dn.a,{className:t.m1}),Object(T.jsx)("a",{href:"mailto:".concat(j.contactDetails.email),style:{wordBreak:"break-word"},children:j.contactDetails.email?j.contactDetails.email:"none"})]})}),Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)("div",{className:t.contactContent,children:[Object(T.jsx)(In.a,{className:t.m1,style:{alignSelf:"start"}}),Object(T.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:j.contactDetails.phoneNos.map((function(e,t){return Object(T.jsx)(ne.a,{variant:"subtitle2",align:"left",children:e},t)}))})]})}),Object(T.jsx)(U.a,{item:!0,xs:6,className:t.contact,children:Object(T.jsxs)("div",{className:t.contactContent,children:[Object(T.jsx)(Fn.a,{className:t.m1,style:{alignSelf:"start"}}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsxs)(ne.a,{variant:"subtitle2",align:"left",children:[j.contactDetails.address.line1,","]}),Object(T.jsxs)(ne.a,{variant:"subtitle2",align:"left",children:[j.contactDetails.address.line2,","]}),Object(T.jsxs)(ne.a,{variant:"subtitle2",align:"left",children:[j.contactDetails.address.city,","]}),Object(T.jsx)(ne.a,{variant:"subtitle2",align:"left",children:j.contactDetails.address.country})]})]})})]}),Object(T.jsx)(y.a,{variant:"text",color:"primary",className:t.m1,onClick:function(){return g(!0)},children:"Update Info"})]}),Object(T.jsx)($a,{open:p.open,message:p.message,type:p.type,close:function(){var e=p;e.open=!1,m(Object(s.a)({},e))}}),Object(T.jsx)(v,{data:j})]})}var Bn=Object(j.a)((function(e){return{root:{flexGrow:1,paddingTop:60},navBar:{display:"block",position:"absolute"},dashContainer:{padding:e.spacing(2),margin:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,justifyContent:"center",height:"82vh"},dashInfo:{margin:e.spacing(2),height:"86.3vh",overflow:"auto"},dashContentOverflow:{height:"90%",overflow:"auto"},showOnXS:Object(d.a)({},e.breakpoints.up("md"),{visibility:"hidden"}),m1:{margin:e.spacing(1)},m2:{margin:e.spacing(2)},list:{display:"flex"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Pn(e){var t=Bn(),a=Object(n.useState)({}),c=Object(r.a)(a,2),o=c[0],l=c[1],d=Object(n.useState)(!0),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(null),p=Object(r.a)(h,2),m=p[0],x=p[1],f=Object(ke.h)(),O=Object(n.useState)(f.id),g=Object(r.a)(O,2),v=g[0],y=g[1],w=function(e){return e===v},S=Object(n.useState)(!0),C=Object(r.a)(S,2),k=C[0],N=C[1];if(Object(n.useEffect)((function(){!1!==b&&fetch(G("reports")).then((function(e){if(!e.ok)throw new Error("".concat(e.status,", ").concat(e.statusText));return e.json()})).then((function(e){l((function(){var t={};return e.forEach((function(e){e.reports=e.reports.map((function(e){return e.checked=!1,e})),"post"===e.type?t[e._id.post._id]=e:t[e._id.comment._id]=e})),t})),u(!1)})).catch((function(e){console.error(e),x(e.toString())}))}),[b]),Object(n.useEffect)((function(){document.getElementById("button-global-refresh").addEventListener("click",(function(){u(!0)}))})),m)return Object(T.jsx)(Ca.a,{severity:"error",className:t.m2,children:m});if(!0===b)return Object(T.jsx)(i.a.Fragment,{children:[1,2,3,4,5].map((function(e){return Object(T.jsxs)(Ae.a,{divider:!0,alignItems:"flex-start",children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(V.a,{variant:"circle",width:40,height:40,animation:"wave"})}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(T.jsx)(Te.a,{disableTypography:!0,primary:Object(T.jsx)(V.a,{variant:"text",style:{width:"40%"}}),secondary:Object(T.jsx)(V.a,{variant:"rect",height:54})}),Object(T.jsx)("div",{component:"ul",className:t.chipArray,children:Object(T.jsx)(V.a,{variant:"text",style:{width:"60%"}})})]})]},e)}))});var I=[];for(var F in o)I.push(F);return 0===I.length?Object(T.jsx)(Ca.a,{severity:"success",className:t.m2,children:"No reports available"}):Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)(Fe.a,{children:I.map((function(e){return Object(T.jsx)(Ga,{_id:e,report:o[e],isSelected:w,select:function(e){N(!0),y(e)}},e)}))}),Object(T.jsx)(ln,{_id:v,report:o[v],updateReport:function(e){return l((function(){console.log("updating");var t=o;return t[v]=e,Object(s.a)({},t)}))},open:k&&I.includes(v),close:function(){N(!1),y("")},removed:function(t){N(!1),y(""),u(!0),e.setAlert({open:!0,message:"post"===t?"Post removed":"Comment removed",type:"success"})},selected:f.sub_id})]})}function En(e){var t=Bn(),a=Object(n.useState)({}),c=Object(r.a)(a,2),o=c[0],l=c[1],d=Object(n.useState)(!0),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(null),p=Object(r.a)(h,2),m=p[0],x=p[1],f=Object(ke.h)(),O=Object(n.useState)(f.id),g=Object(r.a)(O,2),v=g[0],y=g[1],w=function(e){return e===v},S=Object(n.useState)(!0),C=Object(r.a)(S,2),k=(C[0],C[1]);if(Object(n.useEffect)((function(){!1!==b&&fetch(G("pending-users")).then((function(e){if(!e.ok)throw new Error("".concat(e.status,", ").concat(e.statusText));return e.json()})).then((function(e){l((function(){var t={};return e.forEach((function(e){t[e._id]=e})),t})),u(!1)})).catch((function(e){console.error(e),x(e.toString())}))}),[b]),Object(n.useEffect)((function(){document.getElementById("button-global-refresh").addEventListener("click",(function(){u(!0)}))})),m)return Object(T.jsx)(Ca.a,{severity:"error",className:t.m2,children:m});if(!0===b)return Object(T.jsx)(Fe.a,{children:[1,2,3,4,5,6].map((function(e){return Object(T.jsxs)(Ae.a,{divider:!0,alignItems:"flex-start",style:{height:109},children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(V.a,{variant:"circle",width:40,height:40,animation:"wave"})}),Object(T.jsx)(Te.a,{disableTypography:!0,style:{display:"flex",flexDirection:"column"},primary:Object(T.jsx)(V.a,{variant:"text",style:{width:"40%"},animation:"wave"}),secondary:Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)(De.a,{orientation:"vertical",flexItem:!0,style:{marginInline:10,margin:5}}),Object(T.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"column"},children:[Object(T.jsx)(V.a,{variant:"text",style:{width:"30%"},animation:"wave"}),Object(T.jsx)(V.a,{variant:"text",style:{width:"30%"},animation:"wave"})]})]})}),Object(T.jsxs)(va.a,{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)(V.a,{variant:"rect",style:{margin:10},width:92,height:36,animation:"wave"}),Object(T.jsx)(V.a,{variant:"rect",style:{margin:10},width:92,height:36,animation:"wave"})]})]})}))});var N=[];for(var I in o)N.push(I);return 0===N.length?Object(T.jsx)(Ca.a,{severity:"success",className:t.m2,children:"No pending users available"}):Object(T.jsx)(i.a.Fragment,{children:Object(T.jsx)(Fe.a,{children:N.map((function(t){return Object(T.jsx)(gn,{_id:t,user:o[t],isSelected:w,select:function(e){k(!0),y(e)},remove:function(t){return function(t){delete o[t],l(Object(s.a)({},o)),e.setAlert({open:!0,message:"Success",type:"success"})}(t)}},t)}))})})}function Rn(e){var t=Bn(),a=Object(n.useState)({}),c=Object(r.a)(a,2),o=c[0],l=c[1],d=Object(n.useState)(!0),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(null),p=Object(r.a)(h,2),m=p[0],x=p[1],f=Object(ke.h)(),O=Object(n.useState)(f.id),g=Object(r.a)(O,2),v=g[0],y=g[1],w=function(e){return e===v},S=Object(n.useState)(!0),C=Object(r.a)(S,2),k=(C[0],C[1]);if(Object(n.useEffect)((function(){!1!==b&&fetch(G("institute/users")).then((function(e){if(!e.ok)throw new Error("".concat(e.status,", ").concat(e.statusText));return e.json()})).then((function(e){l((function(){var t={};return e.forEach((function(e){t[e._id]=e})),t})),u(!1)})).catch((function(e){console.error(e),x(e.toString())}))}),[b]),Object(n.useEffect)((function(){document.getElementById("button-global-refresh").addEventListener("click",(function(){u(!0)}))})),m)return Object(T.jsx)(Ca.a,{severity:"error",className:t.m2,children:m});if(!0===b)return Object(T.jsx)(Fe.a,{children:[1,2,3,4,5,6].map((function(e){return Object(T.jsxs)(Ae.a,{divider:!0,alignItems:"flex-start",style:{height:109},children:[Object(T.jsx)(ga.a,{style:{alignContent:"center"},children:Object(T.jsx)(V.a,{variant:"circle",width:40,height:40,animation:"wave"})}),Object(T.jsx)(Te.a,{disableTypography:!0,style:{display:"flex",flexDirection:"column"},primary:Object(T.jsx)(V.a,{variant:"text",style:{width:"40%"},animation:"wave"}),secondary:Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)(De.a,{orientation:"vertical",flexItem:!0,style:{marginInline:10,margin:5}}),Object(T.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"column"},children:[Object(T.jsx)(V.a,{variant:"text",style:{width:"30%"},animation:"wave"}),Object(T.jsx)(V.a,{variant:"text",style:{width:"30%"},animation:"wave"})]})]})}),Object(T.jsx)(va.a,{style:{display:"flex",flexDirection:"row"},children:Object(T.jsx)(V.a,{variant:"rect",style:{margin:10},width:118,height:36,animation:"wave"})})]})}))});var N=[];for(var I in o)N.push(I);return 0===N.length?Object(T.jsx)(Ca.a,{severity:"success",className:t.m2,children:"No pending users available"}):Object(T.jsx)(i.a.Fragment,{children:Object(T.jsx)(Fe.a,{children:N.map((function(t){return Object(T.jsx)(yn,{_id:t,user:o[t],isSelected:w,select:function(e){k(!0),y(e)},remove:function(t){return function(t){delete o[t],l(Object(s.a)({},o)),e.setAlert({open:!0,message:"Success",type:"success"})}(t)}},t)}))})})}function Un(){var e=Bn();return Object(T.jsx)(Ye.a,{className:e.dashInfo,children:Object(T.jsx)(Tn,{})})}function Ln(){var e=Bn(),t=Object(ke.i)().path,a=Object(ke.g)().pathname,i=Object(ke.f)(),c=Object(n.useState)({open:!1,message:null,type:null}),o=Object(r.a)(c,2),l=o[0],d=o[1],j=Object(n.useState)((function(){var e=a.split("/");return e.length<=3||"reports"===e[3]?0:"pending-users"===e[3]?1:"info"===e[3]?2:0})),b=Object(r.a)(j,2),u=b[0],h=b[1];return Object(n.useEffect)((function(){console.log(Ea())})),Object(T.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(T.jsx)(Ua,{className:e.navBar}),Object(T.jsxs)("div",{className:e.root,children:[Object(T.jsxs)(U.a,{container:!0,children:[Object(T.jsx)(U.a,{item:!0,xs:12,md:8,children:Object(T.jsxs)(Ye.a,{className:e.dashContainer,children:[Object(T.jsxs)("div",{style:{display:"flex",width:"100%",height:"fit-content",flexDirection:"row"},children:[Object(T.jsx)("div",{style:{width:"100%"},children:Object(T.jsxs)(ya.a,{value:u,onChange:function(e,t){h(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",centered:!0,children:[Object(T.jsx)(wa.a,{label:"reports",id:"moderator-tab-0",onClick:function(){return i.push("".concat(t,"/reports"))}}),Object(T.jsx)(wa.a,{label:"Pending users",id:"moderator-tab-1",onClick:function(){return i.push("".concat(t,"/pending-users"))}}),Object(T.jsx)(wa.a,{label:"All Users",id:"moderator-tab-2",onClick:function(){return i.push("".concat(t,"/all-users"))}})]})}),Object(T.jsx)(Wt.a,{title:"Refresh",children:Object(T.jsx)(p.a,{"aria-label":"refresh",id:"button-global-refresh",children:Object(T.jsx)(ka.a,{})})})]}),Object(T.jsx)(De.a,{variant:"middle"}),Object(T.jsx)("div",{className:e.dashContentOverflow,children:Object(T.jsxs)(ke.c,{children:[Object(T.jsx)(ke.a,{path:"".concat(t,"/reports/:id/:sub_id"),component:Pn}),Object(T.jsx)(ke.a,{path:"".concat(t,"/reports/:id"),component:Pn,setAlert:d}),Object(T.jsx)(ke.a,{path:"".concat(t,"/reports"),component:Pn,setAlert:d}),Object(T.jsx)(ke.a,{path:"".concat(t,"/pending-users/:id"),component:En}),Object(T.jsx)(ke.a,{path:"".concat(t,"/pending-users/"),component:En}),Object(T.jsx)(ke.a,{path:"".concat(t,"/all-users/:id"),component:Rn}),Object(T.jsx)(ke.a,{path:"".concat(t,"/all-users/"),component:Rn}),Object(T.jsx)(ke.a,{path:"".concat(t,"/"),component:Pn,setAlert:d})]})})]})}),Object(T.jsx)(Sa.a,{smDown:!0,children:Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Un,{})})})]}),Object(T.jsx)($a,{open:l.open,message:l.message,type:l.type,close:function(){var e=l;e.open=!1,d(Object(s.a)({},e))}})]})]})}var zn=Object(j.a)((function(e){return{root:Object(d.a)({background:"#4411A8",paddingLeft:"0px",paddingRight:"0px"},e.breakpoints.up("sm"),{paddingLeft:"10%",paddingRight:"10%"}),edupulseIcon:{marginRight:e.spacing(2)},postbutton:{backgroundColor:"#935FF9",borderRadius:10,"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},color:"white",width:"15%",marginRight:e.spacing(2)},grow:{flexGrow:1},menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(b.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({textAlign:"left",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function Mn(){var e=zn(),t=i.a.useState(null),a=Object(r.a)(t,2),n=a[0],c=a[1],o=i.a.useState(null),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Boolean(n),b=Boolean(l),x=function(e){c(e.currentTarget)},O=function(){d(null)},w=function(){c(null),O()},S="primary-search-account-menu",C=Object(T.jsxs)(Ia.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:S,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:w,children:[Object(T.jsx)(_t.a,{onClick:function(){w(),window.location.href="/components/academicUser/ProfileInfo"},children:"User Profile"}),Object(T.jsx)(_t.a,{onClick:function(){w(),window.location.href="/components/academicUser/AcademicDashboard"},children:"Academic Dashboard"}),Object(T.jsx)(_t.a,{children:Object(T.jsx)(ze.b,{to:"/components/AboutUs",style:{color:"#000",textDecoration:"none"},children:"About Us"})}),Object(T.jsx)(_t.a,{onClick:function(){w(),window.location.href=A.applicationRoot+"/openid/logout"},children:"Logout"})]}),k="primary-search-account-menu-mobile",N=Object(T.jsxs)(Ia.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:k,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:O,children:[Object(T.jsxs)(_t.a,{children:[Object(T.jsx)(p.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(T.jsx)(Na.a,{color:"secondary",children:Object(T.jsx)(Da.a,{})})}),Object(T.jsx)("p",{children:"Messages"})]}),Object(T.jsxs)(_t.a,{children:[Object(T.jsx)(p.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(T.jsx)(Na.a,{color:"secondary",children:Object(T.jsx)(_a.a,{})})}),Object(T.jsx)("p",{children:"Notifications"})]}),Object(T.jsxs)(_t.a,{onClick:x,children:[Object(T.jsx)(p.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(T.jsx)(I.a,{})}),Object(T.jsx)("p",{children:"Profile"})]})]});return Object(T.jsxs)("div",{className:e.grow,children:[Object(T.jsx)(u.a,{position:"fixed",className:e.root,children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(T.jsx)(f.a,{})}),Object(T.jsx)("div",{className:e.edupulseIcon,children:Object(T.jsx)(ze.b,{to:"/components/academicUser",style:{textDecoration:"none",color:"#fff"},children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px"}})})}),Object(T.jsxs)("div",{className:e.search,children:[Object(T.jsx)("div",{className:e.searchIcon,children:Object(T.jsx)(g.a,{})}),Object(T.jsx)(m.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},style:{width:"75%"},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&window.location.assign("/components/academicUser/search/"+e.target.value)}})]}),Object(T.jsx)("div",{className:e.grow}),Object(T.jsx)(y.a,{variant:"contained",className:e.postbutton,children:Object(T.jsx)(ze.b,{to:"/components/academicUser/createPost",style:{textDecoration:"none",color:"#fff"},children:"Create Post"})}),Object(T.jsxs)("div",{className:e.sectionDesktop,children:[Object(T.jsx)(p.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(T.jsx)(Na.a,{color:"secondary",children:Object(T.jsx)(ze.b,{to:"/components/academicUser/Notifications/AllNotifications",style:{color:"#fff",textDecoration:"none"},children:Object(T.jsx)(_a.a,{style:{margin:"auto"}})})})}),Object(T.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":S,"aria-haspopup":"true",onClick:x,color:"inherit",children:Object(T.jsx)(ae.a,{alt:"Profile image",src:Ea().profilePicture})})]}),Object(T.jsx)("div",{className:e.sectionMobile,children:Object(T.jsx)(p.a,{"aria-label":"show more","aria-controls":k,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(T.jsx)(se.a,{})})})]})}),N,C]})}var Wn=a(30),Vn=a(117),Gn=a.n(Vn),Yn=a(389),qn=a.n(Yn),Hn=a(149),Kn=a.n(Hn),Qn=a(150),Jn=a.n(Qn),Zn=a(224),Xn=a.n(Zn);function $n(e){var t=e.userID,a=e.postID,c=e.postData,o=e.banner,s=e.postType,l=Object(n.useState)("#000"),d=Object(r.a)(l,2),j=d[0],b=d[1];Object(n.useEffect)((function(){"icon"===o&&(-1===c.license.search("nd")&&""!==t&&"document"!==s||b("rgba(77,75,75,0.61)"))}),[]);var u=i.a.useState(!1),h=Object(r.a)(u,2),p=h[0],m=h[1],x=function(){"icon"===o?-1===c.license.search("nd")&&""!==t&&m(!0):m(!0)},f=function(){m(!1)},O=!1;return"document"===s&&(O=!0),Object(T.jsxs)("div",{children:["icon"===o?Object(T.jsx)(Wt.a,{title:"Version the content",children:Object(T.jsx)(y.a,{onClick:x,style:{color:j},disabled:O,children:Object(T.jsx)(Xn.a,{fontSize:"large"})})}):Object(T.jsx)(y.a,{color:"primary",style:{fontWeight:600},disabled:O,onClick:x,children:"Edit/Version"}),Object(T.jsxs)(qa.a,{open:p,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Post Versioning"}),Object(T.jsx)(jn.a,{children:Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"This option allows you to create a new version based on the existing version. After doing this, your version becomes the major content version. Because of that, make sure not to perform any unethical action. That may course to suspend your account."})}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:f,color:"primary",children:"Cancel"}),Object(T.jsx)(y.a,{onClick:function(e){var n=G("post_version/"),i={post_ID:a,new_author_ID:t};W.a.post(n,i).then((function(e){console.log("post version initiated."),f(),window.location.href="/components/academicUser/articleVersioning/"+a})).catch((function(){console.log("not pinned.")}))},color:"primary",autoFocus:!0,children:"Understood and go for versioning"})]})]})]})}var ei=a(387),ti=a.n(ei),ai=a(388),ni=a.n(ai),ii=Object(j.a)((function(e){return{postEntry:{padding:15,borderRadius:5,margin:"auto",marginBottom:25},bottomLine:{padding:10,paddingTop:12,paddingBottom:5},actionButton:{fontWeight:"bold"},postTitles:{fontWeight:"bold",float:"left"},publishedDate:{marginLeft:5},draftPost:{backgroundColor:"#4411A8",color:"#fff",padding:5,marginLeft:5,borderRadius:5}}}));function ci(e){var t=e.postID,a=e.title,c=e.userID,o=e.postData,s=e.type,l=0,d=o.viewCount,j=0;o.article.upvotes.map((function(e){"undefined"!==typeof e.by&&l++})),o.article.downvotes.map((function(e){"undefined"!==typeof e.by&&0})),o.comments.map((function(e){return j++}));var b=Object(n.useState)("Unpublished"),u=Object(r.a)(b,2),h=u[0],p=u[1],m=Object(n.useState)("none"),x=Object(r.a)(m,2),f=x[0],O=x[1];Object(n.useEffect)((function(){"hidden"===o.visibility||"unpublished"===o.article.status?(O(""),p("Publish")):p("Unpublish")}),[]);var g=ii(),v=i.a.useState(!1),w=Object(r.a)(v,2),S=w[0],C=w[1],k=function(){C(!1)},N=i.a.useState("Anyone"),I=Object(r.a)(N,2),F=I[0],D=I[1];Object(n.useEffect)((function(){"Academics Only"===o.visibility&&D("Academics Only")}),[]);return Object(T.jsx)("div",{children:Object(T.jsxs)(Ye.a,{className:g.postEntry,children:[Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsxs)(U.a,{item:!0,xs:11,style:{textAlign:"left"},children:[Object(T.jsx)(ne.a,{variant:"h5",component:"h5",className:g.postTitles,children:Object(T.jsxs)(L.a,{href:"/components/academicUser/viewArticle/"+t,style:{textDecoration:"none"},children:[Object(T.jsx)("span",{style:{paddingRight:10},children:"document"===s?Object(T.jsx)(ti.a,{}):Object(T.jsx)(ni.a,{})}),Object(T.jsx)("span",{children:a})]})}),Object(T.jsx)("br",{})]}),Object(T.jsx)(U.a,{item:!0,xs:1,children:Object(T.jsx)("span",{onClick:function(){var e;e="Anyone"===F?"Academics Only":"Anyone",W.a.post(G("dashboard_operation/change_post_visibility"),{post_id:t,new_visibility:e}).then((function(t){console.log("visibility changed"),D(e)})).catch((function(){console.error("visibility not changed")}))},style:{cursor:"pointer"},children:"Anyone"===F?Object(T.jsx)(Wt.a,{title:"Post can view any user of the system click hear to change it into academic only mode.","aria-label":"tt-public",children:Object(T.jsx)(Kn.a,{fontSize:"large",style:{color:"#4411A8"}})}):Object(T.jsx)(Wt.a,{title:"Post can view only academic users, click hear to make available for anyone who use the system.","aria-label":"tt-academic",children:Object(T.jsx)(Jn.a,{fontSize:"large",style:{color:"#4411A8"}})})})})]}),Object(T.jsx)(ne.a,{variant:"body1",component:"body1",className:g.postTitles,children:"none"!==f?Object(T.jsx)("span",{className:g.draftPost,children:"Draft/Not Published"}):Object(T.jsxs)("span",{className:g.publishedDate,children:["Published on: ",o.updatedAt.split("T")[0]]})}),Object(T.jsxs)(U.a,{container:!0,spacing:3,className:g.bottomLine,children:[Object(T.jsx)(U.a,{item:!0,xs:2,children:Object(T.jsxs)(ne.a,{children:[Object(T.jsx)(Gn.a,{})," \xa0 ",l]})}),Object(T.jsx)(U.a,{item:!0,xs:2,children:Object(T.jsxs)(ne.a,{children:[Object(T.jsx)(be.a,{})," \xa0 ",d]})}),Object(T.jsx)(U.a,{item:!0,xs:2,children:Object(T.jsxs)(ne.a,{children:[Object(T.jsx)(qn.a,{})," \xa0 ",j]})}),Object(T.jsx)(U.a,{item:!0,xs:2,children:Object(T.jsx)(y.a,{color:"primary",className:g.actionButton,onClick:function(){var e="";"Unpublish"===h?(e=G("dashboard_operation/unpublish_post"),p("Publish"),O("")):(e=G("dashboard_operation/republish_post"),p("Unpublish"),O("none")),W.a.post(e,{post_id:t}).then((function(e){console.log("action done")})).catch((function(){console.error("load failed")}))},children:h})}),Object(T.jsx)(U.a,{item:!0,xs:2,children:Object(T.jsx)(y.a,{color:"secondary",className:g.actionButton,onClick:function(){C(!0)},children:"Delete"})}),Object(T.jsx)(U.a,{item:!0,xs:2,children:Object(T.jsx)($n,{postID:t,postType:o.type,userID:c,postData:o,banner:"text"})})]}),Object(T.jsxs)(qa.a,{open:S,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Are you sure to delete this post permanently?"}),Object(T.jsx)(jn.a,{children:Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"Once you delete the post, unable to recover back. If you want to temporally remove the post form the system, use hiding option."})}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:k,color:"primary",children:"Do not delete"}),Object(T.jsx)(y.a,{onClick:function(){var e=G("dashboard_operation/delete_post");W.a.post(e,{post_id:t}).then((function(e){console.log("post deleted"),C(!1),window.location.reload()})).catch((function(){console.error("load failed")}))},color:"primary",autoFocus:!0,children:"Understood and delete the post"})]})]})]})})}var oi=a(769),ri=a(761),si=a(151),li=a.n(si),di=Object(j.a)({root:{width:285,height:300,margin:10,borderRadius:5,paddingTop:5,display:"grid"},profilePic:{width:80,height:80,margin:"auto"},bio:{textAlign:"center",fontSize:16,overflow:"hidden"},name:{textAlign:"center",fontWeight:"bold"}});function ji(e){var t=e.userID,a=di(),i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=G("get_user_data/");return Object(n.useEffect)((function(){W.a.post(l,{_id:t}).then((function(e){e.data&&s(e.data[0])})).catch((function(){console.error("load failed")}))}),[]),Object(T.jsx)("div",{children:Object(T.jsxs)(Z.a,{className:a.root,children:[Object(T.jsx)(ae.a,{alt:"Profile image",className:a.profilePic,src:o.profilePicture}),Object(T.jsx)(Ya.a,{children:Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",className:a.name,children:Object(T.jsx)(L.a,{href:"/components/academicUser/authorProfile/"+t,style:{textDecoration:"none",wordWrap:"break-word"},children:o.name})}),Object(T.jsx)(ne.a,{variant:"body2",color:"textSecondary",component:"p",className:a.bio,children:o.bio})]})})]})})}var bi=a(225),ui=a.n(bi),hi=Object(j.a)((function(e){return{postEntry:{padding:15,borderRadius:5,margin:"auto",marginBottom:25},bottomLine:{padding:10,paddingTop:12,paddingBottom:5},actionButton:{fontWeight:"bold",float:"right"},postTitles:{fontWeight:"bold",float:"left"},publishedDate:{marginLeft:5},draftPost:{backgroundColor:"#4411A8",color:"#fff",padding:5,marginLeft:5,borderRadius:5}}}));function pi(e){var t=e.originalPostID,a=e.postID,n=e.title,c=(e.postData,hi()),o=i.a.useState(!1),s=Object(r.a)(o,2),l=s[0],d=s[1],j=function(){d(!1)};return Object(T.jsx)("div",{children:Object(T.jsxs)(Ye.a,{className:c.postEntry,children:[Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsxs)(U.a,{item:!0,xs:11,style:{textAlign:"left"},children:[Object(T.jsx)(ne.a,{variant:"h5",component:"h5",className:c.postTitles,children:Object(T.jsx)(L.a,{href:"/components/academicUser/viewArticle/"+t,style:{textDecoration:"none"},children:n})}),Object(T.jsx)("br",{})]}),Object(T.jsx)(U.a,{item:!0,xs:1,children:Object(T.jsx)(Wt.a,{title:"This is a pin article","aria-label":"This is a pin article",children:Object(T.jsx)(ui.a,{fontSize:"large",style:{color:"#4411A8"}})})})]}),Object(T.jsxs)(U.a,{container:!0,spacing:3,className:c.bottomLine,children:[Object(T.jsx)(U.a,{item:!0,xs:9,children:Object(T.jsx)(ne.a,{variant:"body1",component:"body1",className:c.postTitles,children:Object(T.jsx)("span",{className:c.draftPost,children:"Post Pin"})})}),Object(T.jsx)(U.a,{item:!0,xs:3,children:Object(T.jsx)(y.a,{color:"secondary",className:c.actionButton,onClick:function(){d(!0)},children:"Remove Pin"})})]}),Object(T.jsxs)(qa.a,{open:l,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Are you sure to remove pin?"}),Object(T.jsx)(jn.a,{children:Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"Once you delete the post, unable to recover back. If you want to temporally remove the post form the system, use hiding option."})}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:j,color:"primary",children:"Do not remove pin"}),Object(T.jsx)(y.a,{onClick:function(){var e=G("dashboard_operation/delete_post");W.a.post(e,{post_id:a}).then((function(e){console.log("post deleted"),d(!1),window.location.reload()})).catch((function(){console.error("load failed")}))},color:"primary",autoFocus:!0,children:"Understood and remove the post"})]})]})]})})}var mi=a(390),xi=a.n(mi),fi=Object(j.a)((function(e){return{postEntry:{padding:15,borderRadius:5,margin:"auto",marginBottom:25},bottomLine:{padding:10,paddingTop:12,paddingBottom:5},actionButton:{fontWeight:"bold"},postTitles:{fontWeight:"bold",float:"left"},publishedDate:{marginLeft:5},draftPost:{fontWeight:"bold",backgroundColor:"#4411A8",color:"#fff",padding:5,borderRadius:5}}}));function Oi(e){var t=e.postID,a=e.title,i=e.userID,c=e.postData,o=Object(n.useState)("none"),s=Object(r.a)(o,2),l=s[0],d=s[1];Object(n.useEffect)((function(){"hidden"!==c.visibility&&"unpublished"!==c.article.status||d("")}),[]);var j=fi();return Object(T.jsx)("div",{children:Object(T.jsxs)(Ye.a,{className:j.postEntry,children:[Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsxs)(U.a,{item:!0,xs:11,style:{textAlign:"left"},children:[Object(T.jsx)(ne.a,{variant:"h5",component:"h5",className:j.postTitles,children:Object(T.jsx)(L.a,{href:"/components/academicUser/viewArticle/"+t,style:{textDecoration:"none"},children:a})}),Object(T.jsx)("br",{})]}),Object(T.jsx)(U.a,{item:!0,xs:1,children:Object(T.jsx)(Wt.a,{title:"This is a versioned article by you.","aria-label":"tt-version",children:Object(T.jsx)(xi.a,{fontSize:"large",style:{color:"#4411A8"}})})})]}),Object(T.jsxs)(U.a,{container:!0,spacing:3,className:j.bottomLine,children:[Object(T.jsxs)(U.a,{item:!0,xs:10,style:{textAlign:"left"},children:[Object(T.jsx)("span",{className:j.draftPost,children:"Versioned Article"}),"none"!==l?Object(T.jsx)("span",{className:j.draftPost,children:"Draft/Not Published"}):Object(T.jsx)("span",{})]}),Object(T.jsx)(U.a,{item:!0,xs:2,children:Object(T.jsx)($n,{postID:t,userID:i,postType:"article",postData:c,banner:"text"})})]})]})})}var gi=Object(j.a)((function(e){return{root:{flexGrow:1,width:"50%"},navBar:{display:"block",position:"absolute"},pageContent:{paddingTop:100,margin:30},title:{color:"#4411A8",fontWeight:"bold",paddingBottom:15},summary:{borderRadius:5,padding:10,textAlign:"center",width:"80%",margin:"auto"},summaryValue:{color:"#4411A8",fontWeight:"bold",padding:10,textAlign:"center"},showInfoSection:{marginTop:20},optionButton:{color:"#fff",backgroundColor:"#4411A8",margin:8,padding:10,width:"80%",borderRadius:5,textAlign:"left"},emptyResult:{margin:"auto",paddingTop:80,fontSize:50,textAlign:"center"},topBar:{width:"-moz-fit-content",margin:"auto",paddingLeft:15,paddingRight:15,marginBottom:10}}}));function vi(){var e=gi(),t=Object(n.useState)("block"),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)("none"),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Object(n.useState)("none"),b=Object(r.a)(j,2),u=b[0],h=b[1],p="";Ea()&&(p=Ea()._id,Ea().role);var m=Object(n.useState)([]),x=Object(r.a)(m,2),f=x[0],O=x[1],g=Object(n.useState)([]),v=Object(r.a)(g,2),w=v[0],S=v[1],C=Object(n.useState)([]),k=Object(r.a)(C,2),N=k[0],I=k[1],F=Object(n.useState)([]),D=Object(r.a)(F,2),A=D[0],_=D[1],B=Object(n.useState)([]),P=Object(r.a)(B,2),E=P[0],R=P[1],L=G("dashboard_operation/get_all_publication");Object(n.useEffect)((function(){W.a.post(L,{user_id:p}).then((function(e){if(e.data){O(e.data);var t=[];e.data.map((function(e){"article"!==e.type&&"document"!==e.type||t.push(e)})),I(t)}})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){W.a.post(G("dashboard_operation/list_versioned_posts"),{user_id:p}).then((function(e){e.data&&S(e.data)})).catch((function(){console.error("load failed")}))}),[]);var z=G("dashboard_operation/list_followers");Object(n.useEffect)((function(){W.a.post(z,{user_id:p}).then((function(e){e.data&&_(e.data.followers)})).catch((function(){console.error("load failed")}))}),[]);var M=G("dashboard_operation/list_following_users");Object(n.useEffect)((function(){W.a.post(M,{user_id:p}).then((function(e){e.data&&R(e.data)})).catch((function(){console.error("load failed")}))}),[]);var V=0,Y=0,q=0;A.map((function(){return V++})),f.map((function(e){"pin"!==e.type&&(e.article.upvotes.map((function(e){"undefined"!==typeof e.by&&Y++})),q+=e.viewCount)}));var H=Object(n.useState)(!1),K=Object(r.a)(H,2),Q=K[0],J=K[1];Object(n.useEffect)((function(){setTimeout((function(){J(!0)}),6e3)}),[]);var X=Object(n.useState)(!1),$=Object(r.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ie=Object(r.a)(ae,2),ce=ie[0],oe=ie[1],re=Object(n.useState)(!1),se=Object(r.a)(re,2),le=se[0],de=se[1],je=Object(n.useState)(!0),ue=Object(r.a)(je,2),he=ue[0],pe=ue[1];return Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:e.pageContent,children:Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:1}),Object(T.jsxs)(U.a,{item:!0,xs:10,children:[Object(T.jsx)(ne.a,{variant:"h3",component:"h3",className:e.title,children:"Dashboard"}),Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsxs)(Ye.a,{className:e.summary,children:[Object(T.jsxs)(ne.a,{variant:"h3",component:"h3",className:e.summaryValue,children:[Object(T.jsx)(li.a,{style:{fontSize:45}})," \xa0 ",V]}),Object(T.jsx)(ne.a,{variant:"body1",component:"body1",children:"Total Followers"})]})}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsxs)(Ye.a,{className:e.summary,children:[Object(T.jsxs)(ne.a,{variant:"h3",component:"h3",className:e.summaryValue,children:[Object(T.jsx)(Gn.a,{style:{fontSize:45}})," \xa0 ",Y]}),Object(T.jsx)(ne.a,{variant:"body1",component:"body1",children:"Total Likes"})]})}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsxs)(Ye.a,{className:e.summary,children:[Object(T.jsxs)(ne.a,{variant:"h3",component:"h3",className:e.summaryValue,children:[Object(T.jsx)(be.a,{style:{fontSize:45}})," \xa0 ",q]}),Object(T.jsx)(ne.a,{variant:"body1",component:"body1",children:"Total Views"})]})})]}),Object(T.jsx)("div",{className:e.showInfoSection,children:Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,children:[Object(T.jsx)(y.a,{className:e.optionButton,onClick:function(){c("block"),d("none"),h("none")},children:"Publications"}),Object(T.jsx)("br",{}),Object(T.jsx)(y.a,{className:e.optionButton,onClick:function(){c("none"),d("flex"),h("none")},children:"Followers"}),Object(T.jsx)("br",{}),Object(T.jsx)(y.a,{className:e.optionButton,onClick:function(){c("none"),d("none"),h("flex")},children:"Fallowing Users"})]}),Object(T.jsxs)(U.a,{item:!0,xs:9,children:[Object(T.jsxs)("div",{style:{display:i},children:[Object(T.jsxs)(Z.a,{className:e.topBar,children:[Object(T.jsx)(oi.a,{color:"primary",onChange:function(){te(!0),pe(!1),de(!1),oe(!1),I([].concat(Object(Wn.a)(f),Object(Wn.a)(w)))},checked:ee})," All",Object(T.jsx)(oi.a,{color:"primary",onChange:function(){pe(!0),te(!1),de(!1),oe(!1);var e=[];f.map((function(t){"article"===t.type&&e.push(t)})),I(e)},checked:he})," Published Article",Object(T.jsx)(oi.a,{color:"primary",onChange:function(){de(!0),te(!1),pe(!1),oe(!1),I(w)},checked:le})," Versioned Article",Object(T.jsx)(oi.a,{color:"primary",onChange:function(){oe(!0),te(!1),pe(!1),de(!1);var e=[];f.map((function(t){"pin"===t.type&&e.push(t)})),I(e)},checked:ce})," Pinned Article"]}),Object(T.jsx)("div",{style:{margin:"auto"},children:N.length>0?N.map((function(e){return"pin"!==e.type?e.author===p?e.article.current?Object(T.jsx)("div",{style:{margin:"auto"},children:Object(T.jsx)(ci,{title:e.article.current.title,userID:p,type:e.type,postID:e._id,postData:e})}):Object(T.jsx)("span",{}):Object(T.jsx)(Oi,{title:e.article.current.title,userID:p,postID:e._id,postData:e}):e.pin.originalPost?Object(T.jsx)(pi,{title:e.pin.originalPost.article.current.title,originalPostID:e.pin.originalPost._id,postID:e._id,postData:e}):Object(T.jsx)("span",{})})):Q?Object(T.jsxs)("h2",{className:e.emptyResult,children:["No publications belongs to you..",Object(T.jsx)("br",{}),Object(T.jsxs)("small",{children:["Write/publish your thought with EduPulse, using ",Object(T.jsx)("i",{children:"CREATE POST"})," option."]})]}):Object(T.jsx)("div",{style:{paddingTop:250},children:Object(T.jsx)(ri.a,{})})})]}),Object(T.jsx)(U.a,{container:!0,spacing:3,style:{display:l},children:A.length>0?A.map((function(e){return Object(T.jsx)(ji,{userID:e})})):Q?Object(T.jsxs)("h2",{className:e.emptyResult,children:["Others do not fallow you yet.",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Write/publish good content on the system to have a good follower base."})]}):Object(T.jsx)("div",{style:{paddingTop:250},children:Object(T.jsx)(ri.a,{})})}),Object(T.jsx)(U.a,{container:!0,spacing:3,style:{display:u},children:E.length>0?E.map((function(e){return Object(T.jsx)(ji,{userID:e._id})})):Q?Object(T.jsxs)("h2",{className:e.emptyResult,children:["You are not follow other users yet.",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Fallow other users to look there valuable content as soon as they publish."})]}):Object(T.jsx)("div",{style:{paddingTop:250},children:Object(T.jsx)(ri.a,{})})})]})]})})]}),Object(T.jsx)(U.a,{item:!0,xs:1})]})})})}var yi=a(392),wi=a.n(yi),Si=a(393),Ci=a.n(Si),ki=a(394),Ni=a.n(ki),Ii=a(395),Fi=a.n(Ii),Di=a(391),Ai=a.n(Di),_i=Object(j.a)((function(e){return{root:{marginTop:100,width:800,height:586,backgroundColor:"#4411A8",margin:"auto"},actionSection:{bottom:0,width:800,height:474,flexGrow:1},title:{textAlign:"center",color:"#fff",marginBottom:20},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},uploadFile:{margin:10,height:405,width:368,marginTop:30,borderStyle:"solid",borderWidth:2,borderRadius:3,borderColor:"#935FF9","&:hover":{backgroundColor:Object(b.a)("#935FF9",.7),color:"#fff"},color:"#935FF9",fontSize:25,textAlign:"center",backgroundColor:"#fff"},writePost:{margin:10,height:405,width:368,marginTop:30,color:"#fff",alignItems:"center",fontSize:25,justifyContent:"center",backgroundColor:"#935FF9","&:hover":{backgroundColor:"#fff",color:"#935FF9",border:"1px solid #935FF9"}},input:{display:"none"},closeButton:{textAlign:"right",fontSize:25,color:"#fff"}}}));function Ti(){var e=_i();return Object(T.jsx)(Z.a,{className:e.root,children:Object(T.jsxs)("div",{className:e.details,children:[Object(T.jsxs)(ee.a,{className:e.content,children:[Object(T.jsx)(ze.b,{to:"/components/academicUser",style:{fontWeight:600,textDecoration:"none"},children:Object(T.jsx)(ne.a,{className:e.closeButton,children:Object(T.jsx)(y.a,{className:e.closeButton,children:Object(T.jsx)(Ai.a,{})})})}),Object(T.jsx)(ne.a,{className:e.title,component:"h4",variant:"h4",children:"Create Post"})]}),Object(T.jsx)(Z.a,{className:e.actionSection,children:Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:6,children:Object(T.jsx)(ze.b,{to:"/components/academicUser/writeArticle",style:{textDecoration:"none"},children:Object(T.jsx)(y.a,{className:e.writePost,children:Object(T.jsxs)(ne.a,{component:"h5",variant:"h5",children:[Object(T.jsx)(wi.a,{}),"\xa0 Write an article"]})})})}),Object(T.jsx)(U.a,{item:!0,xs:6,children:Object(T.jsx)(ze.b,{to:"/components/academicUser/uploadMedia",style:{textDecoration:"none"},children:Object(T.jsx)("label",{htmlFor:"contained-button-file",children:Object(T.jsx)(y.a,{className:e.uploadFile,variant:"contained",component:"span",children:Object(T.jsxs)(ne.a,{component:"h5",variant:"h5",children:[Object(T.jsx)(Ci.a,{}),"\xa0",Object(T.jsx)(Ni.a,{}),"\xa0",Object(T.jsx)(Fi.a,{}),Object(T.jsx)("br",{}),"Upload Media File for Publish"]})})})})})]})})]})})}var Bi=Object(j.a)((function(e){return{root:Object(d.a)({background:"#4411A8",paddingLeft:"0px",paddingRight:"0px"},e.breakpoints.up("sm"),{paddingLeft:"10%",paddingRight:"10%"}),edupulseIcon:{marginRight:e.spacing(2)},actionButton:{backgroundColor:"#935FF9",borderRadius:"5px",width:"90%","&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},color:"white",marginRight:e.spacing(2)},grow:{flexGrow:1},menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),search:Object(d.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(b.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function Pi(){var e=Bi(),t=Object(n.useState)(!1),a=Object(r.a)(t,2),i=(a[0],a[1],localStorage.getItem("postID"));return Object(T.jsx)("div",{className:e.grow,children:Object(T.jsx)(u.a,{position:"fixed",className:e.root,children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(T.jsx)(f.a,{})}),Object(T.jsx)("div",{className:e.edupulseIcon,children:Object(T.jsx)(ze.b,{to:"/components/academicUser",style:{textDecoration:"none",color:"#fff"},children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px"}})})}),Object(T.jsx)("div",{className:e.grow}),-1!==window.location.href.search("previewPost")?Object(T.jsx)(ze.b,{to:"/components/academicUser/"+localStorage.getItem("type")+"/"+i,style:{textDecoration:"none",color:"#fff",width:"10%"},children:Object(T.jsx)(y.a,{variant:"contained",className:e.actionButton,children:"Edit"})}):Object(T.jsx)(ze.b,{to:"/components/academicUser/previewPost/"+i,style:{textDecoration:"none",color:"#fff",width:"10%"},children:Object(T.jsx)(y.a,{variant:"contained",className:e.actionButton,children:"Preview"})})]})})})}var Ei=a(227),Ri=a(228),Ui=a.n(Ri),Li=a(233),zi=a.n(Li),Mi=a(232),Wi=a.n(Mi),Vi=a(229),Gi=a.n(Vi),Yi=a(231),qi=a.n(Yi),Hi=a(230),Ki=a.n(Hi),Qi=a(155),Ji=a(152),Zi=a.n(Ji),Xi=a(153),$i=a(115),ec=a.n($i),tc=Object(j.a)({input:{display:"none"}});function ac(e){e.userID,tc();var t=i.a.useState(!1),a=Object(r.a)(t,2),n=a[0],c=a[1],o=i.a.useState(""),s=Object(r.a)(o,2),l=s[0],d=s[1],j=i.a.useState(!1),b=Object(r.a)(j,2),u=b[0],h=b[1],m=function(){h(!1)},x=i.a.useState(!1),f=Object(r.a)(x,2),O=f[0],g=f[1];return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(Rt.b,{acceptedFiles:["image/*"],cancelButtonText:"cancel",submitButtonText:"submit",maxFileSize:5e6,open:O,filesLimit:1,onClose:function(){return g(!1)},onSave:function(e){var t=Object(r.a)(e,1)[0];g(!1),c(!0),console.log(t);var a=new FormData;a.append("media",t,t.name),W()({method:"post",url:G("write_article/upload_media_for_article"),data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){d("Image link copy to the clipboard. Past it on editor wherever you prefer."),c(!1),h(!0);var t="$EduPulseEmbedImage$"+("https://res.cloudinary.com/edupulse/image/upload/v1631097533/"+e.data.public_id)+"$EduPulseEmbedImage$";navigator.clipboard.writeText(t.toString()),console.log(t)})).catch((function(e){d("Upload resource failed. Try again."),console.log(e)}))},showPreviews:!0,showFileNamesInPreview:!0,showAlerts:!1}),Object(T.jsx)("label",{htmlFor:"contained-button-file",children:Object(T.jsxs)(y.a,{variant:"outlined",color:"primary",component:"span",onClick:function(){return g(!0)},children:["Upload Image",n?Object(T.jsxs)("span",{children:["\xa0",Object(T.jsx)(ri.a,{size:25})]}):Object(T.jsx)("span",{})]})})]}),Object(T.jsx)(Xa.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:u,autoHideDuration:6e3,onClose:m,message:l,action:Object(T.jsx)(i.a.Fragment,{children:Object(T.jsx)(p.a,{size:"small","aria-label":"close",color:"inherit",onClick:m,children:Object(T.jsx)(ec.a,{fontSize:"small"})})})})]})}var nc=a(27),ic=Object(j.a)((function(e){return{root:{flexGrow:1},editor:{paddingTop:120,width:"50%",paddingBottom:30,margin:"auto"},navBar:{display:"block"},optionSection:{width:"50%",paddingBottom:100,margin:"auto"},question:{marginTop:20,marginBottom:20},buttonPublish:{backgroundColor:"#935FF9",borderRadius:"5px","&:hover":{backgroundColor:Object(b.a)("#935FF9",.7)},color:"white",width:"15%",fontSize:16,marginRight:e.spacing(2)},licenceQuestion:{},moreButton:{backgroundColor:"#935FF9",color:"#fff"},postTitle:{marginTop:20,marginBottom:20,width:"100%",fontSize:30}}}));function cc(){var e=ic(),t="";Ea()&&(t=Ea()._id,Ea().role);var a=Object(n.useState)(window.location.href.split("/").slice(-1)[0]),c=Object(r.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)([]),d=Object(r.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)("This is the space for the title..."),h=Object(r.a)(u,2),p=h[0],m=h[1],x=Object(n.useState)("<h3>Welcome to EduPulse...</h3><br><br><br>"),f=Object(r.a)(x,2),O=f[0],g=f[1],v=Object(n.useState)(""),w=Object(r.a)(v,2),S=w[0],C=w[1],k=Object(n.useState)(0),N=Object(r.a)(k,2),I=N[0],F=N[1],D=Object(n.useState)(0),A=Object(r.a)(D,2),_=A[0],B=A[1],P=Object(n.useState)([]),E=Object(r.a)(P,2),R=E[0],U=E[1],L=i.a.useState(!1),z=Object(r.a)(L,2),M=z[0],V=z[1];Object(n.useEffect)((function(){if(""===o||"writeArticle"===o){var e=G("write_article/");W.a.post(e,{author_ID:t}).then((function(e){e.data?s(e.data._id):console.error("post creation failed.")})).catch((function(){console.error("load failed")}))}else{var a=G("view_article/preview_article");W.a.post(a,{_id:o}).then((function(e){m(e.data.article.current.title),g(e.data.article.current.content),console.log(e.data.article.current)})).catch((function(){console.error("load failed")}));var n=G("write_article/make_state_unpublished");W.a.post(n,{_id:o}).then((function(e){console.log("Make post unpublished")})).catch((function(){console.error("load failed")}))}}),[]),console.info("after: ",O,p,o);var Y=G("tag_operation/");Object(n.useEffect)((function(){W.a.get(Y).then((function(e){var t=0,a=[];e.data.map((function(e){a[t++]={label:e.verbose,value:e._id}})),b(a)})).catch((function(){console.error("load failed")}))}),[Y]);var q=Object(n.useState)(""),H=Object(r.a)(q,2),K=H[0],Q=H[1];Object(n.useEffect)((function(){W.a.post(G("get_user_data/"),{_id:t}).then((function(e){Q(e.data[0].academicInstitute)})).catch((function(){console.error("load failed")}))})),Object(n.useEffect)((function(){var e=O.split("$EduPulseEmbedImage$");if(e.length>2){for(var t=1;t<e.length;){var a=e[t];e[t]="<img class='articleImage' src='"+a+"'/>",t+=2}window.location.href="/components/academicUser/writeArticle/"+o}var n={post_ID:o,post_title:p,post_content:e};W.a.post(G("write_article/real_time_content_save/"),n).then((function(e){console.log(e.data),e.data.bad_word?V(!0):(V(!1),console.log("article saved"))})).catch((function(){console.error("load failed")}))}),[O,p]);var J=i.a.useState(!1),Z=Object(r.a)(J,2),X=Z[0],$=Z[1],ee=function(){$(!1)},te=function(e,t){"clickaway"!==t&&V(!1)};return localStorage.setItem("postID",o),localStorage.setItem("type","writeArticle"),Object(T.jsxs)("div",{children:[Object(T.jsx)(Pi,{className:e.navBar}),Object(T.jsxs)("div",{align:"center",className:e.editor,children:[Object(T.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(T.jsx)(Dt.a,{id:"outlined-basic",label:"Title",variant:"outlined",multiline:!0,rows:3,className:e.postTitle,onChange:function(e){m(e.target.value)},value:p})}),Object(T.jsx)("div",{style:{margin:20},children:Object(T.jsx)(ac,{})}),Object(T.jsx)(Ei.CKEditor,{style:{height:100},editor:Ui.a,data:O,onChange:function(e,t){g(t.getData())}})]}),Object(T.jsxs)("div",{className:e.optionSection,children:[Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Select tags:"}),Object(T.jsx)(Tt.a,{style:{minWidth:200},children:Object(T.jsx)(Qi.a,{options:j,onChange:U,value:R,labelledBy:"Select",style:{fontSize:15}})}),Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Who can see this post?"}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(Bt.a,{id:"demo-customized-select-visibility",onChange:function(e){C(e.target.value)},required:!0,children:[Object(T.jsxs)(_t.a,{value:"Anyone",defaultChecked:!0,children:[Object(T.jsx)(Kn.a,{})," \xa0 Anyone"]}),Object(T.jsxs)(_t.a,{value:"Academics Only",children:[Object(T.jsx)(Jn.a,{})," \xa0 Academics Only"]})]})}),Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Allow adaptations of your work to be shared?"}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(Bt.a,{id:"demo-customized-select-q1",onChange:function(e){F(e.target.value)},required:!0,children:[Object(T.jsxs)(_t.a,{value:"1",defaultChecked:!0,children:[Object(T.jsx)(Gi.a,{})," \xa0 Yes"]}),Object(T.jsxs)(_t.a,{value:"2",children:[Object(T.jsx)(Ki.a,{})," \xa0 Yes, But re-publish under the same terms"]}),Object(T.jsxs)(_t.a,{value:"3",children:[Object(T.jsx)(qi.a,{})," \xa0 No"]})]})}),Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Allow commercial uses of your work?"}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(Bt.a,{id:"demo-customized-select-q2",onChange:function(e){B(e.target.value)},required:!0,children:[Object(T.jsxs)(_t.a,{value:"1",defaultChecked:!0,children:[Object(T.jsx)(Wi.a,{})," \xa0 Yes"]}),Object(T.jsxs)(_t.a,{value:"2",children:[Object(T.jsx)(zi.a,{})," \xa0 No"]})]})}),Object(T.jsx)("div",{style:{textAlign:"center",marginTop:50},children:Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{variant:"contained",className:e.buttonPublish,onClick:function(){$(!0)},children:"Publish"}),Object(T.jsxs)(qa.a,{open:X,onClose:ee,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Declaration"}),Object(T.jsx)(jn.a,{children:Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"I declare that this content is originally mine and I have not copied from anywhere."})}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:ee,color:"primary",children:"Disagree"}),Object(T.jsx)(y.a,{onClick:function(e){if($(!1),""!==S&&0!==I&&0!==_&&""!==p&&""!==O){var a="";switch(I+"0"+_){case"101":a="by";break;case"102":a="by-nc";break;case"201":a="by-sa";break;case"202":a="by-nc-sa";break;case"301":a="by-nd";break;case"302":a="by-nc-nd";break;default:a="by"}var n=[],i=0;R.map((function(e){return n[i++]=e.value}));var c=Object(Xi.a)({accessKey:nc.clients.unsplash.access_key,fetch:Zi.a}),r=R[Math.round(Math.random()*(n.length-1))].label;c.photos.getRandom({query:r,count:1}).then((function(e){var i=e.response[0].urls.regular,c={post_ID:o,post_title:p,post_content:O,post_visibility:S,post_licence:a,cover_image:i,related_tags:n,contributor:t,institute:K};W.a.post(G("write_article/publish_post/"),c).then((function(e){console.log("article published s1"),W.a.post(G("write_article/publish_post_version/"),c).then((function(e){console.log("article published s2"),window.location.href="/components/academicUser/viewArticle/"+o})).catch((function(){console.error("publish failed")}))})).catch((function(){console.error("publish failed")}))}))}},color:"primary",autoFocus:!0,children:"Agree"})]})]})]})}),Object(T.jsx)(Xa.a,{open:M,autoHideDuration:6e3,onClose:te,children:Object(T.jsx)(Ca.a,{onClose:te,severity:"warning",children:"Check your title and text again. It consist hate words. Remove them to activate auto saving function."})})]})]})}var oc=a(234),rc=a.n(oc);function sc(e){var t=e.userID,a=e.objectID,c=e.goingToReport,o=Object(n.useState)(""),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Object(n.useState)(""),b=Object(r.a)(j,2),u=b[0],h=b[1],p=Object(n.useState)(""),m=Object(r.a)(p,2),x=m[0],f=m[1],O=Object(n.useState)(!1),g=Object(r.a)(O,2),v=g[0],w=g[1];Object(n.useEffect)((function(){""===t&&w(!0)}),[]);var S=G("report_operation/check_already_reported");Object(n.useEffect)((function(){var e={object_ID:a,user_ID:t,object_type:c};""!==t&&W.a.post(S,e).then((function(e){e.data.report_available&&w(!0)})).catch((function(){console.error("load failed")}))}),[]);var C=i.a.useState(!1),k=Object(r.a)(C,2),N=k[0],I=k[1],F=Object(n.useState)("1px solid black"),D=Object(r.a)(F,2),A=D[0],_=D[1],B=function(){I(!0)},P=function(){_("1px solid black"),I(!1)};return Object(T.jsxs)("div",{children:["post"===c?Object(T.jsx)(y.a,{onClick:B,disabled:v,children:"Report Abuse"}):Object(T.jsx)(y.a,{onClick:B,disabled:v,children:Object(T.jsx)("span",{children:Object(T.jsx)(rc.a,{})})}),Object(T.jsxs)(qa.a,{open:N,onClose:P,"aria-labelledby":"form-dialog-title",children:[Object(T.jsx)(dn.a,{id:"form-dialog-title",children:"Report Article/Post/Comments"}),Object(T.jsxs)(jn.a,{children:[Object(T.jsx)(bn.a,{children:"If you think this post/article/comment is not suitable to be in this system, you can report it to the system management. You can put only one report for any given post/article/comment."}),Object(T.jsxs)(Tt.a,{style:{minWidth:"100%"},children:["Type of the Report:",Object(T.jsxs)(Bt.a,{id:"demo-customized-select-q2",onChange:function(e){return f(e.target.value)},style:{borderBottom:A},fullWidth:!0,required:!0,children:[Object(T.jsx)(_t.a,{value:"spam",defaultChecked:!0,children:"Spam"}),Object(T.jsx)(_t.a,{value:"harassment",children:"Harassment"}),Object(T.jsx)(_t.a,{value:"content ownership",children:"Content Ownership"}),Object(T.jsx)(_t.a,{value:"other",children:"Other"})]})]}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Title:",Object(T.jsx)(Dt.a,{margin:"dense",style:{borderBottom:A},id:"name",label:"Title",type:"text",fullWidth:!0,required:!0,onChange:function(e){return d(e.target.value)}}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Message:",Object(T.jsx)(Dt.a,{multiline:!0,style:{borderBottom:A},rows:5,autoFocus:!0,margin:"dense",id:"name",label:"Message",fullWidth:!0,required:!0,onChange:function(e){return h(e.target.value)}})]}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:P,color:"primary",children:"Cancel"}),Object(T.jsx)(y.a,{onClick:function(){""!==l&&""!==u&&""!==x?(!function(e){var n;n="post"===c?{reportedBy:t,type:c,category:x,title:l,message:u,against:{post:a}}:{reportedBy:t,type:c,category:x,title:l,message:u,against:{comment:a}},W.a.post(G("reports"),n).then((function(e){e?(console.log("report create."),w(!0)):console.log("report not placed.")})).catch((function(){console.error("something went wrong.")}))}(),P()):_("4px solid red")},color:"primary",children:"Submit Report"})]})]})]})}function lc(e){var t=e.tagList,a=Array("primary","default","secondary"),i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=G("tag_operation/");return Object(n.useEffect)((function(){W.a.get(l).then((function(e){e.data&&s(e.data)})).catch((function(){console.error("load failed")}))}),[]),"undefined"!==typeof t?Object(T.jsx)(ee.a,{children:o.map((function(e){return t.map((function(t){return e._id===t?Object(T.jsx)(L.a,{href:"/components/academicUser/tagLookup/"+t,style:{textDecoration:"none"},children:Object(T.jsx)(z.a,{variant:"outlined",color:a[Math.floor(3*Math.random())],label:e.verbose,style:{margin:10,fontSize:18,padding:10}})}):Object(T.jsx)("span",{})}))}))}):Object(T.jsx)("span",{})}var dc=Object(j.a)((function(e){return{root:{flexGrow:1,marginLeft:30},media:{height:350},title:{textAlign:"left",fontWeight:"bold"},tags:{margin:e.spacing(1),fontWeight:"bold",borderRadius:"50px",fontSize:17},content:{fontSize:20,margin:20},contentFooter:{textAlign:"center",display:"block",padding:10},ccImage:{width:150,display:"block",padding:20,float:"right"}}}));function jc(e){var t=e.userID,a=e.type,n=e.articleID,i=e.customWidth,c=e.coverImage,o=e.title,r=e.tagList,s=e.content,l=e.licence;if("article"===a)s="<style>@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap');\n\n.content-wrap {\n    margin: 30px;\n    font-family: 'Noto Sans', sans-serif;\n}\n\nh2, h3, h4 {\n    color: rgba(51, 51, 51, 0.76);\n    font-weight: bold;\n    text-align: left;\n    margin-top: 7px;\n    padding-top: 0;\n    margin-bottom: 7px;\n    padding-bottom: 0;\n    display: block;\n}\n\nh2 {\n    font-size: 50px;\n}\n\nh3 {\n    font-size: 40px;\n}\n\nh4 {\n    font-size: 32px;\n}\n\np {\n    text-align: justify;\n    color: #333333;\n    font-size: 20px;\n}\n\nul, li {\n    color: #333333;\n    font-size: 20px;\n    text-align: left;\n}\n\na {\n    color: #a430c7;\n    text-decoration: underline;\n}\n\na:hover {\n    color: #333333;\n    text-decoration: underline;\n}\n\nblockquote {\n    margin: auto;\n    border: 1px solid gray;\n    border-left: 14px solid gray;\n    width: fit-content;\n    padding: 15px 100px;\n    border-radius: 10px;\n    font-size: 20px;\n\n}\n\ntable {\n    margin-top: 7px;\n    padding-top: 0;\n    border-collapse: collapse;\n    width: 75%;\n    margin-left: auto;\n    margin-right: auto;\n    font-size: 20px;\n}\n\ntable, td, th {\n    border: 1px solid #ddd;\n    text-align: left;\n}\n\n\nth, td {\n    padding: 15px;\n}\n\nth {\n    font-weight: 800;\n    text-align: center;\n    background-color: gray;\n    color: white;\n}\n\ntr:hover {\n    background-color: rgba(20, 20, 18, 0.116);\n}\n\nimg {\n    width: 500px;\n    margin: auto;\n}</style><div class='content-wrap'>"+s+"</div>",console.log(s);else if(s){var d=JSON.parse(s);if(console.log(d),"image"===d.file_class||"video"===d.file_class)s={message:"image",url:d.full_url,format:d.file_format};else if("application"===d.file_class)s={message:"No Preview Available",url:d.full_url,format:d.file_format};else if("audio"===d.file_class){s={message:"audio",url:d.full_url.replace("audio","video")+"."+d.file_format,format:d.file_format}}}var j=dc();return console.log(s),Object(T.jsx)("div",{children:Object(T.jsx)("div",{align:"center",style:{width:i},id:"printable-article",children:Object(T.jsxs)(Z.a,{className:j.root,children:[Object(T.jsxs)(Ya.a,{children:[Object(T.jsx)($.a,{className:j.media,image:c,title:"Cover Image"}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h2",component:"h2",className:j.title,children:o}),Object(T.jsx)("br",{}),Object(T.jsx)(lc,{tagList:r})]})]}),Object(T.jsx)("hr",{}),Object(T.jsx)(te.a,{children:"article"===a?Object(T.jsx)("div",{className:j.content,dangerouslySetInnerHTML:{__html:s}}):s?"No Preview Available"===s.message?Object(T.jsxs)("div",{style:{textAlign:"center",margin:"auto",padding:50},children:[Object(T.jsx)("span",{style:{fontSize:40},children:"No Preview Available"}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{style:{fontSize:30},children:"Use download option to save it to your device."}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{style:{fontSize:20},children:["After you download the file save it as .",s.format," extension."]})]}):Object(T.jsx)("iframe",{src:s.url,style:{width:"95%",height:"500px",margin:"auto"}}):Object(T.jsx)("span",{})}),Object(T.jsx)("hr",{}),Object(T.jsx)("div",{className:j.contentFooter,children:""!==l?Object(T.jsxs)("div",{children:[Object(T.jsx)(sc,{userID:t,objectID:n,goingToReport:"post"}),Object(T.jsx)("a",{href:"https://creativecommons.org/about/cclicenses/",target:"_blank",style:{textDecoration:"none"},children:Object(T.jsx)("img",{className:j.ccImage,src:"https://mirrors.creativecommons.org/presskit/buttons/88x31/png/"+l+".png",alt:"CC Licence Image"})})]}):Object(T.jsx)("span",{})})]})})})}var bc=a.p+"static/media/previewImage.d8cf90d8.jpg",uc=Object(j.a)((function(e){return{root:{flexGrow:1,width:"50%"},navBar:{display:"block",position:"absolute"},article:{paddingTop:100,position:"inherit",display:"block",width:"60%",margin:"auto"}}}));function hc(){var e=uc(),t=window.location.href.split("/").slice(-1)[0];console.log(t);var a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=G("view_article/preview_article");return Object(n.useEffect)((function(){W.a.post(s,{_id:t}).then((function(e){o(e.data)})).catch((function(){console.error("load failed")}))}),[]),0!==c.length?Object(T.jsxs)("div",{children:[Object(T.jsx)(Pi,{className:e.navBar}),Object(T.jsx)("div",{className:e.article,children:Object(T.jsx)(jc,{userID:"",type:c.type,articleID:c._id,coverImage:bc,title:c.article.current.title,content:c.article.current.content,licence:"",tags:[],customWidth:"100%"})})]}):Object(T.jsx)("span",{})}var pc=a(762),mc=a(235),xc=a.n(mc),fc=Object(j.a)({root:{width:340,margin:10},media:{height:140,borderRadius:5}});function Oc(e){var t=e.name,a=e.location,n=e.description,i=e.coverImage,c=fc();return Object(T.jsx)(Z.a,{className:c.root,children:Object(T.jsxs)(Ya.a,{children:[Object(T.jsx)($.a,{className:c.media,image:""===i?i:"https://images.unsplash.com/photo-1541339907198-e08756dedf3f?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2070&q=80",title:"Contemplative Reptile"}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:Object(T.jsx)(L.a,{href:"/components/academicUser/viewUniversityProfile",style:{fontWeight:600,textDecoration:"none"},children:t})}),Object(T.jsxs)(ne.a,{variant:"subtitle1",color:"textSecondary",component:"p",style:{textAlign:"justify"},children:[""!==a?Object(T.jsxs)("span",{style:{fontWeight:600},children:[Object(T.jsx)(xc.a,{})," \xa0 ",a]}):Object(T.jsx)("span",{}),Object(T.jsx)("br",{}),n]})]})]})})}var gc=a(236),vc=a.n(gc),yc=a(673),wc=a(408),Sc=a(666),Cc=a(739);function kc(e){var t=e.userID,a=e.postID,c=Object(n.useState)(!0),o=Object(r.a)(c,2),l=o[0],d=o[1];Object(n.useEffect)((function(){""!==t&&d(!1)}),[]);var j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],m=G("add_to_library/is_available_at_library");Object(n.useEffect)((function(){var e={post_ID:a,user_ID:t};""!==t&&W.a.post(m,e).then((function(e){e.data.post_available&&v("#935FF9")})).catch((function(){console.error("collection availability check failed")}))}),[m]);var x=G("add_to_library/get_collection_list");Object(n.useEffect)((function(){""!==t&&W.a.post(x,{user_ID:t}).then((function(e){h(e.data)})).catch((function(){console.error("collection load failed")}))}),[x]);var f=i.a.useState("black"),O=Object(r.a)(f,2),g=O[0],v=O[1],y=i.a.useState(!1),w=Object(r.a)(y,2),S=w[0],C=w[1],k=i.a.useRef(null),N=function(e){if("Enter"===e.key){var n=G("add_to_library/create_collection_save_post"),i={post_ID:a,user_ID:t,collection_name:e.target.value};e.target.value="",W.a.post(n,i).then((function(e){console.log("collection created and saved"),v("#935FF9")})).catch((function(){console.error("ccas failed")})),C(!1)}},I=function(e){var n=G("add_to_library/save_post"),i={post_ID:a,user_ID:t,collection_name:e.target.value};e.target.value="",W.a.post(n,i).then((function(e){console.log("collection created and saved"),v("#935FF9")})).catch((function(){console.error("ccas failed")})),C(!1)},F=function(e){k.current&&k.current.contains(e.target)||C(!1)};function D(e){"Tab"===e.key&&(e.preventDefault(),C(!1))}var A=i.a.useRef(S);return i.a.useEffect((function(){!0===A.current&&!1===S&&k.current.focus(),A.current=S}),[S]),Object(T.jsxs)("div",{children:[Object(T.jsx)(p.a,{"aria-label":"addToLibrary",ref:k,"aria-controls":S?"menu-list-grow":void 0,"aria-haspopup":"true",style:{color:g},disabled:l,onClick:function(){C((function(e){return!e}))},children:Object(T.jsx)(vc.a,{fontSize:"large"})}),Object(T.jsx)(yc.a,{open:S,anchorEl:k.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,a=e.placement;return Object(T.jsx)(wc.a,Object(s.a)(Object(s.a)({},t),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(T.jsx)(Ye.a,{children:Object(T.jsx)(Sc.a,{onClickAway:F,children:Object(T.jsxs)(Cc.a,{autoFocusItem:S,id:"menu-list-grow",onKeyDown:D,children:[u.map((function(e){return Object(T.jsx)(_t.a,{value:e.name,children:Object(T.jsx)(Dt.a,{style:{border:"none",color:"#000"},"aria-disabled":!0,onClick:I,value:e.name})})})),Object(T.jsx)(_t.a,{children:Object(T.jsx)(Dt.a,{placeholder:"Create new collection",onKeyPress:N})})]})})})}))}})]})}var Nc=Object(j.a)((function(e){return{root:{width:320,height:467,borderRadius:5,margin:10},media:{height:0,paddingTop:"56.25%"},authorInfo:{fontSize:18,fontWeight:550},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},summaryValues:{textAlign:"center"},title:{textAlign:"center",fontWeight:600,height:85,fontSize:30,overflow:"hidden"},profilePic:{width:50,height:50,margin:"auto"}}}));function Ic(e){var t=e.userID,a=e.postID,n=e.title,i=e.coverImage,c=e.author,o=e.authorPP,r=e.authorID,s=e.publishedData,l=e.likes,d=e.viewCount,j=e.readTime,b=Nc(),u=0;return l.map((function(e){"undefined"!==typeof e.by&&u++})),Object(T.jsxs)(Z.a,{className:b.root,children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{alt:"Profile image",className:b.profilePic,src:o}),title:Object(T.jsx)("span",{className:b.authorInfo,children:Object(T.jsx)(L.a,{href:"/components/academicUser/authorProfile/"+r,style:{fontWeight:600,textDecoration:"none",overflow:"hidden"},children:c})}),subheader:Object(La.a)(new Date(s),new Date,{addSuffix:!0})}),Object(T.jsx)($.a,{className:b.media,image:i}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(ne.a,{variant:"h5",color:"",component:"h5",className:b.title,children:Object(T.jsx)(Wt.a,{title:n,"aria-label":n,children:Object(T.jsx)(L.a,{href:"/components/academicUser/viewArticle/"+a,style:{fontWeight:600,textDecoration:"none",height:85,overflow:"hidden"},children:n})})})}),Object(T.jsx)(te.a,{disableSpacing:!0,children:Object(T.jsxs)(U.a,{container:!0,spacing:3,className:b.statSection,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,className:b.summaryValues,children:[Object(T.jsx)(Gn.a,{})," ",Object(T.jsx)("br",{}),u," ",Object(T.jsx)("br",{}),"Likes"]}),Object(T.jsxs)(U.a,{item:!0,xs:3,className:b.summaryValues,children:[Object(T.jsx)(be.a,{})," ",Object(T.jsx)("br",{}),d," ",Object(T.jsx)("br",{}),"Views"]}),Object(T.jsx)(U.a,{item:!0,xs:3,className:b.summaryValues,style:{paddingTop:20},children:0===Math.ceil(j)?Object(T.jsx)("span",{children:"-----"}):Object(T.jsxs)("span",{children:[Math.ceil(j)," min Read"]})}),Object(T.jsx)(U.a,{item:!0,xs:3,className:b.summaryValues,children:Object(T.jsx)(kc,{postID:a,userID:t})})]})})]})}var Fc=Object(j.a)((function(e){return{root:Object(d.a)({background:"#4411A8",paddingLeft:"0px",paddingRight:"0px"},e.breakpoints.up("sm"),{paddingLeft:"10%",paddingRight:"10%"}),edupulseIcon:{marginRight:e.spacing(2)},postbutton:{backgroundColor:"#935FF9",borderRadius:"50px","&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},color:"white",width:"20%",marginRight:e.spacing(2)},grow:{flexGrow:1},menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(b.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),linkStyles:{color:"inherit",textDecoration:"none","&:hover":{color:"inherit",textDecoration:"none"}}}}));function Dc(){var e=Fc(),t=i.a.useState(null),a=Object(r.a)(t,2),n=a[0],c=a[1],o=i.a.useState(null),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Boolean(n),b=Boolean(l),x=function(){d(null)},f=function(){c(null),x()},O="primary-search-account-menu",w=Object(T.jsxs)(Ia.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:O,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:f,className:e.menuStyle,children:[Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(_t.a,{onClick:f,children:"Profile"})}),Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(_t.a,{onClick:f,children:"Settings & Privacy"})}),Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(_t.a,{onClick:f,children:"Post & Activity"})}),Object(T.jsx)(mt.a,{display:"flex",alignItems:"center",justifyContent:"center",pt:1,children:Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(y.a,{color:"secondary",variant:"outlined",children:"Logout"})})})]}),S="primary-search-account-menu-mobile",C=Object(T.jsxs)(Ia.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:S,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:x,children:[Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(_t.a,{onClick:f,children:"Profile"})}),Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(_t.a,{onClick:f,children:"Settings & Privacy"})}),Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(_t.a,{onClick:f,children:"Post & Activity"})}),Object(T.jsx)(mt.a,{display:"flex",alignItems:"center",justifyContent:"center",pt:1,children:Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/Update",children:Object(T.jsx)(y.a,{color:"secondary",variant:"outlined",children:"Logout"})})})]});return Object(T.jsxs)("div",{className:e.grow,children:[Object(T.jsx)(u.a,{position:"fixed",className:e.root,children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)("div",{className:e.edupulseIcon,children:Object(T.jsx)(ze.b,{to:"/",style:{textDecoration:"none",color:"#fff"},children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px"}})})}),Object(T.jsxs)("div",{className:e.search,children:[Object(T.jsx)("div",{className:e.searchIcon,children:Object(T.jsx)(g.a,{})}),Object(T.jsx)(m.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&window.location.assign("/components/generalUser/search/"+e.target.value)}})]}),Object(T.jsx)("div",{className:e.grow}),Object(T.jsxs)("div",{className:e.sectionDesktop,children:[Object(T.jsx)(ze.b,{className:Fc().linkStyles,to:"/components/generalUser/AllNotifications",children:Object(T.jsx)(p.a,{"aria-label":"show 17 new notifications",color:"inherit",style:{color:"#FFF"},children:Object(T.jsx)(Na.a,{color:"secondary",children:Object(T.jsx)(_a.a,{})})})}),Object(T.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":O,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(T.jsx)(ae.a,{alt:"Profile image",src:Ea().profilePicture})})]}),Object(T.jsx)("div",{className:e.sectionMobile,children:Object(T.jsx)(p.a,{"aria-label":"show more","aria-controls":S,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(T.jsx)(se.a,{})})})]})}),C,w]})}var Ac=Object(j.a)((function(){return{root:{flexGrow:1,width:"50%"},navBar:{display:"block",position:"absolute"},pageContent:{paddingTop:100,margin:30},topOptions:{margin:"auto",display:"table"},optionUnit:{width:200,padding:10,fontWeight:550},resultSection:{margin:"auto"},sectionItems:{margin:"auto"}}}));function _c(){var e=Ac(),t="Anyone",a="";Ea()&&(a=Ea()._id,"academic"===Ea().role&&(t="Academic Only"));var i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)([]),d=Object(r.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)([]),h=Object(r.a)(u,2),p=h[0],m=h[1],x=G("search_operation/post"),f=G("search_operation/institute"),O=G("search_operation/people"),v={search_key:decodeURI(window.location.href.split("/").slice(-1)[0])};Object(n.useEffect)((function(){W.a.post(x,v).then((function(e){e.data&&s(e.data)})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){W.a.post(f,v).then((function(e){m(e.data)})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){W.a.post(O,v).then((function(e){b(e.data)})).catch((function(){console.error("load failed")}))}),[]);var w=Object(n.useState)(["none","#000"]),S=Object(r.a)(w,2),C=S[0],k=S[1],N=Object(n.useState)(["none","#000"]),I=Object(r.a)(N,2),F=I[0],D=I[1],A=Object(n.useState)(["none","#000"]),_=Object(r.a)(A,2),B=_[0],P=_[1];return console.log(o.length,j.length,p.length),Object(n.useEffect)((function(){k(["none","#000"]),P(["none","#000"]),D(["none","#000"]),o.length>j.length?o.length>p.length?k(["flex","#935FF9"]):P(["flex","#935FF9"]):j.length>p.length?D(["flex","#935FF9"]):P(["flex","#935FF9"])}),[o,j,p]),Object(T.jsxs)("div",{children:[""===t?Object(T.jsx)(R,{}):"Academic Only"===t?Object(T.jsx)(Mn,{className:e.navBar}):Object(T.jsx)(Dc,{}),Object(T.jsx)(U.a,{className:e.pageContent,children:Object(T.jsxs)(pc.a,{color:"","aria-label":"secondary button group",className:e.topOptions,children:[Object(T.jsx)(y.a,{className:e.optionUnit,style:{color:C[1]},onClick:function(){k(["flex","#935FF9"]),D(["none","#000"]),P(["none","#000"])},children:"Posts"}),Object(T.jsx)(y.a,{className:e.optionUnit,style:{color:F[1]},onClick:function(){k(["none","#000"]),D(["flex","#935FF9"]),P(["none","#000"])},children:"People"}),Object(T.jsx)(y.a,{className:e.optionUnit,style:{color:B[1]},onClick:function(){k(["none","#000"]),D(["none","#000"]),P(["flex","#935FF9"])},children:"University"})]})}),Object(T.jsxs)(U.a,{container:!0,spacing:3,className:e.resultSection,children:[Object(T.jsx)(U.a,{item:!0,xs:2}),Object(T.jsxs)(U.a,{item:!0,xs:8,children:[Object(T.jsx)(U.a,{container:!0,spacing:3,className:e.sectionItems,style:{display:C[0]},children:o.length?o.map((function(e){return Object(T.jsx)(Ic,{userID:a,postID:e._id,title:e.article.current.title,author:e.author.name,authorID:e.author._id,authorPP:e.author.profilePicture,publishedData:e.createdAt,coverImage:e.article.current.coverImage,likes:e.article.upvotes,viewCount:e.viewCount,readTime:e.article.current.readTime})})):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:80,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(g.a,{fontSize:"large"})," Search Not Found for Post Category...",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try Other Sections."})]})}),Object(T.jsx)(U.a,{container:!0,spacing:3,className:e.sectionItems,style:{display:F[0]},children:j.length?j.map((function(e){return Object(T.jsx)(ji,{userID:e._id})})):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:80,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(g.a,{fontSize:"large"})," Search Not Found for People Category...",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try Other Sections."})]})}),Object(T.jsx)(U.a,{container:!0,spacing:3,className:e.sectionItems,style:{display:B[0]},children:p.length?p.map((function(e){return Object(T.jsx)(Oc,{name:e.name,description:e.description,location:e.contactDetails?e.contactDetails.address.city+","+e.contactDetails.address.country:"",coverImage:e.coverImage})})):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:80,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(g.a,{fontSize:"large"})," Search Not Found for University Category...",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try Other Sections."})]})})]}),Object(T.jsx)(U.a,{item:!0,xs:2})]})]})}var Tc=Object(j.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),borderRadius:6},profilePic:{width:60,height:60},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},actionButton:{width:"90%",backgroundColor:"#935FF9",margin:"auto",padding:8,color:"#fff","&:hover":{backgroundColor:Object(b.a)("#935FF9",.7)}},bio:{fontWeight:530},moreInfoTitle:{fontWeight:"bold",fontSize:15,color:"#424040"},moreInfoValue:{fontSize:17}}}));function Bc(e){var t=e.writerID,a=e.viewerID,i=e.name,c=e.bio,o=e.profileURL,s=e.university,l=e.status,d=Tc(),j=Object(n.useState)(!1),b=Object(r.a)(j,2),u=b[0],h=b[1],p=Object(n.useState)("Follow"),m=Object(r.a)(p,2),x=m[0],f=m[1];Object(n.useEffect)((function(){""!==a&&t!==a||h(!0)}),[]);var O=G("view_article/is_fallowed");Object(n.useEffect)((function(){""!==a&&W.a.post(O,{user_ID:a,writer_ID:t}).then((function(e){e.data.is_fallowed&&(h(!0),f("Followed"))})).catch((function(){console.error("load failed")}))}),[u]);return Object(T.jsx)("div",{className:d.root,children:Object(T.jsxs)(Ye.a,{className:d.paper,children:[Object(T.jsx)(ne.a,{variant:"h5",color:"primary",component:"h5",style:{fontWeight:600,paddingBottom:15,textAlign:"left"},children:"Original Author"}),Object(T.jsxs)(U.a,{container:!0,spacing:2,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(wn.a,{className:d.profilePic,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:d.profilePic,src:o})})}),Object(T.jsx)(U.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(T.jsxs)(U.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(T.jsxs)(U.a,{item:!0,xs:!0,children:[Object(T.jsx)(L.a,{href:"/components/academicUser/authorProfile/"+t,style:{textDecoration:"none"},children:Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h4",children:i})}),Object(T.jsx)(ne.a,{variant:"body1",gutterBottom:!0,className:d.bio,children:c})]}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{variant:"contained",onClick:function(){var e=G("view_article/follow_writer");W.a.post(e,{user_ID:a,writer_ID:t}).then((function(e){e.data&&(h(!0),f("Followed"))})).catch((function(){console.error("load failed")}))},disabled:u,className:d.actionButton,children:x})})]})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsxs)(ne.a,{variant:"h6",component:"h6",style:{textAlign:"left"},children:[Object(T.jsx)("span",{className:d.moreInfoTitle,children:"University"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:d.moreInfoValue,children:s}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:d.moreInfoTitle,children:"Status"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:d.moreInfoValue,children:l}),Object(T.jsx)("br",{})]})})]})]})})}var Pc=a(82),Ec=a.n(Pc),Rc=Ec()({root:{borderRadius:15,float:"right",marginBottom:10,marginTop:10}});function Uc(e){var t=e.parentComment,a=e.postID,i=e.userID,c=Rc(),o=Object(n.useState)("100%"),s=Object(r.a)(o,2),l=s[0],d=s[1];Object(n.useEffect)((function(){t||d("80%")}),[]);var j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],p=G("get_user_data/");Object(n.useEffect)((function(){W.a.post(p,{_id:i}).then((function(e){h(e.data[0])})).catch((function(){console.error("load failed")}))}),[]);return Object(T.jsx)(Z.a,{className:c.root,variant:"outlined",style:{width:l},children:Object(T.jsxs)(ee.a,{style:{paddingBottom:10},children:[Object(T.jsx)(X.a,{style:{paddingTop:0,textAlign:"left"},avatar:Object(T.jsx)(ae.a,{alt:"Remy Sharp",src:u.profilePicture}),title:u.name}),Object(T.jsx)(Dt.a,{id:"commentBox",label:"Comment",style:{width:"100%"},onKeyPress:function(e){if("Enter"===e.key){var n=G("post_comment/writeComment"),c={post_ID:a,user_ID:i,comment_content:e.target.value};e.target.value="",t&&W.a.post(n,c).then((function(e){console.log("done write comment"),window.location.reload()})).catch((function(){console.error("load failed")}))}}})]})})}var Lc=a(118),zc=a.n(Lc),Mc=Ec()({root:{width:"100%",borderRadius:15,height:"fit-content",paddingBottom:-10,marginBottom:0,marginTop:10},actions:{paddingTop:12,marginBottom:0,paddingBottom:0}});function Wc(e){var t=e.writerID,a=e.sessionUser,i=e.postID,c=e.commentID,o=e.timestamp,s=e.content,l=e.likes,d=e.dislikes,j=Mc(),b=!0;""===a&&(b=!1);var u=Object(n.useState)("#000"),h=Object(r.a)(u,2),p=h[0],m=h[1],x=Object(n.useState)("#000"),f=Object(r.a)(x,2),O=f[0],g=f[1],v=Object(n.useState)(0),w=Object(r.a)(v,2),S=w[0],C=w[1],k=Object(n.useState)(0),N=Object(r.a)(k,2),I=N[0],F=N[1];Object(n.useEffect)((function(){l.map((function(e){"undefined"!==typeof e.by&&C(++S),""!==a&&e.by===a&&m("#935ff9")})),d.map((function(e){"undefined"!==typeof e.by&&F(++I),""!==a&&e.by===a&&g("#935ff9")}))}),[]);var D=Object(n.useState)([]),A=Object(r.a)(D,2),_=A[0],B=A[1],P=G("get_user_data/"),E={_id:t};Object(n.useEffect)((function(){W.a.post(P,E).then((function(e){B(e.data[0])})).catch((function(){console.error("load failed")}))}),[]);return Object(T.jsx)(Z.a,{className:j.root,variant:"outlined",children:Object(T.jsxs)(ee.a,{style:{paddingBottom:0},children:[Object(T.jsx)(X.a,{style:{paddingTop:0,textAlign:"left"},avatar:Object(T.jsx)(ae.a,{alt:"Remy Sharp",src:_.profilePicture}),title:Object(T.jsx)(L.a,{href:"/components/academicUser/authorProfile/"+t,children:_.name}),subheader:o}),Object(T.jsx)("div",{style:{textAlign:"left",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:10,padding:15},children:Object(T.jsx)("span",{id:"outlined-basic",label:"Comment",style:{width:"100%",paddingLeft:12,fontSize:18,textAlign:"left"},children:s})}),Object(T.jsxs)(U.a,{container:!0,spacing:3,className:j.actions,children:[Object(T.jsx)(U.a,{item:!0,xs:8}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsxs)(U.a,{container:!0,spacing:2,children:[Object(T.jsx)(U.a,{item:!0,xs:3}),Object(T.jsx)(U.a,{item:!0,xs:3,children:Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_comment/"),n={user_ID:a,like_dislike:"like",post_ID:i,comment_ID:c};"#000"===p&&W.a.post(t,n).then((function(e){"#935FF9"===O&&F(--I),m("#935FF9"),g("#000"),C(++S),console.log("Thumps up recorded.")})).catch((function(){console.log("Thumps up not recorded.")}))},disabled:!b,children:Object(T.jsxs)("span",{children:[Object(T.jsx)(de.a,{style:{color:p}}),Object(T.jsx)("br",{}),S]})})}),Object(T.jsx)(U.a,{item:!0,xs:3,children:Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_comment/"),n={user_ID:a,like_dislike:"dislike",post_ID:i,comment_ID:c};"#000"===O&&W.a.post(t,n).then((function(e){"#935FF9"===p&&C(--S),m("#000"),g("#935FF9"),F(++I),console.log("Thumps down recorded.")})).catch((function(){console.log("Thumps down not recorded.")}))},disabled:!b,children:Object(T.jsxs)("span",{children:[Object(T.jsx)(zc.a,{style:{color:O}}),Object(T.jsx)("br",{}),I]})})}),Object(T.jsx)(U.a,{item:!0,xs:3,children:Object(T.jsx)(sc,{userID:a,objectID:i,goingToReport:"comment"})})]})})]})]})})}var Vc=a(237),Gc=a.n(Vc);function Yc(e){var t=e.userID,a=e.postID,c=Object(n.useState)(!0),o=Object(r.a)(c,2),s=o[0],l=o[1],d=Object(n.useState)(""),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)("#000"),p=Object(r.a)(h,2),m=p[0],x=p[1];Object(n.useEffect)((function(){var e=G("pin_post/is_already_pin"),n={user_ID:t,post_ID:a};""!==t&&W.a.post(e,n).then((function(e){console.log(e.data),e.data.post_already_pin&&x("#935FF9")})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){""!==t&&l(!1)}),[]);var f=i.a.useState(!1),O=Object(r.a)(f,2),g=O[0],v=O[1],w=function(){v(!1)};return Object(T.jsxs)("div",{children:[Object(T.jsx)(Wt.a,{title:"Pin the post",children:Object(T.jsx)(y.a,{disabled:s,onClick:function(){"#000"===m&&v(!0)},children:Object(T.jsx)(ui.a,{fontSize:"large",style:{color:m}})})}),Object(T.jsxs)(qa.a,{open:g,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Post pin"}),Object(T.jsxs)(jn.a,{children:[Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"This option let you to pin other post on your timeline."}),Object(T.jsx)(Dt.a,{margin:"dense",id:"name",label:"Pin Message",type:"text",fullWidth:!0,onChange:function(e){return u(e.target.value)}})]}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:w,color:"primary",children:"Cancel"}),Object(T.jsx)(y.a,{onClick:function(e){var n=G("pin_post/make_post_pin"),i={post_ID:a,user_ID:t,pin_message:b};"#000"===m&&W.a.post(n,i).then((function(e){x("#935FF9"),console.log("post pinned."),v(!0),w()})).catch((function(){console.log("not pinned.")}))},color:"primary",autoFocus:!0,children:"Pin to me"})]})]})]})}function qc(e){var t=e.postType,a=e.userID,c=e.postID,o=e.postData,s=e.viewCount,l=Object(n.useState)(!0),d=Object(r.a)(l,2),j=d[0],b=d[1];Object(n.useEffect)((function(){""!==a&&b(!1)}),[]);var u=Object(n.useState)("#000"),h=Object(r.a)(u,2),m=h[0],x=h[1],f=Object(n.useState)("#000"),O=Object(r.a)(f,2),g=O[0],v=O[1],w=Object(n.useState)("#000"),S=Object(r.a)(w,2),C=(S[0],S[1],Object(n.useState)("#000")),k=Object(r.a)(C,2),N=(k[0],k[1]),I=Object(n.useState)(0),F=Object(r.a)(I,2),D=F[0],A=F[1],_=Object(n.useState)(0),B=Object(r.a)(_,2),P=B[0],E=B[1];Object(n.useEffect)((function(){o.upvotes.map((function(e){"undefined"!==typeof e.by&&A(++D)})),o.downvotes.map((function(e){"undefined"!==typeof e.by&&E(++P)}))}),[]);var R=G("vote_for_post/is_reacted");Object(n.useEffect)((function(){var e={user_ID:a,like_dislike:"like",post_ID:c};""!==a&&W.a.post(R,e).then((function(e){e.data.is_upvoted&&x("#935FF9")})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){var e={user_ID:a,like_dislike:"dislike",post_ID:c};""!==a&&W.a.post(R,e).then((function(e){e.data.is_downvoted&&v("#935FF9")})).catch((function(){console.error("load failed")}))}),[R]);var L=G("add_to_library/is_available_at_library");Object(n.useEffect)((function(){var e={post_ID:c,user_ID:a};""!==a&&W.a.post(L,e).then((function(e){e.data.post_available&&N("#935FF9")})).catch((function(){console.error("collection availability check failed")}))}),[L]);var z=i.a.useState(""),M=Object(r.a)(z,2),V=M[0],Y=M[1],q=i.a.useState(!1),H=Object(r.a)(q,2),K=H[0],Q=H[1],J=function(){Q(!1)};return Object(T.jsxs)(Z.a,{children:[Object(T.jsx)(ne.a,{variant:"h5",color:"primary",component:"h5",style:{fontWeight:600,padding:15,textAlign:"left"},children:"Post/Article Stats & Reactions"}),Object(T.jsxs)(U.a,{container:!0,spacing:3,style:{paddingTop:10,paddingBottom:10,textAlign:"center"},children:[Object(T.jsxs)(U.a,{item:!0,xs:4,children:[Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_post/"),n={user_ID:a,like_dislike:"like",post_ID:c};"#000"===m&&W.a.post(t,n).then((function(e){"#935FF9"===g&&E(--P),x("#935FF9"),v("#000"),A(++D),Y("Thumps up recorded."),Q(!0)})).catch((function(){console.log("Thumps up not recorded.")}))},disabled:j,children:Object(T.jsx)(de.a,{fontSize:"large",style:{color:m}})}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[D," Up-votes"]})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,children:[Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_post/"),n={user_ID:a,like_dislike:"dislike",post_ID:c};"#000"===g&&W.a.post(t,n).then((function(e){"#935FF9"===m&&A(--D),x("#000"),v("#935FF9"),E(++P),Y("Thumps down recorded."),Q(!0)})).catch((function(){console.log("Thumps down not recorded.")}))},disabled:j,children:Object(T.jsx)(zc.a,{fontSize:"large",style:{color:g}})}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[P," Down-votes"]})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(be.a,{fontSize:"large"})}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[s," Views"]})]}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Wt.a,{title:"Share outside",children:Object(T.jsx)(y.a,{onClick:function(){navigator.clipboard.writeText(window.location.href),Y("Post link copy to clipboard."),Q(!0)},children:Object(T.jsx)(oe.a,{fontSize:"large"})})})}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Wt.a,{title:"Download content - This will provide a web link and it can share on any platform.",children:Object(T.jsx)(y.a,{onClick:function(){if("document"===t){var e=JSON.parse(o.current.content);if("image"===e.file_class||"video"===e.file_class)window.open(e.full_url,"_blank");else if("application"===e.file_class)window.open(e.full_url,"_blank");else if("audio"===e.file_class){var a=e.full_url.replace("audio","video")+"."+e.file_format;window.open(a,"_blank")}}else{var n=window.open("","PRINT","height=400,width=600");n.document.write("<html><head><title>Print article</title>"),n.document.write("</head><body >"),n.document.write(document.getElementById("printable-article").innerHTML),n.document.write("</body></html>"),n.document.close(),n.focus(),n.print()}},children:Object(T.jsx)(Gc.a,{fontSize:"large"})})})}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Wt.a,{title:"Add to library",children:Object(T.jsx)(kc,{postID:c,userID:a})})}),Object(T.jsx)(U.a,{item:!0,xs:2}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Yc,{userID:a,postID:c})}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)($n,{postID:c,userID:a,postData:o,postType:t,banner:"icon"})}),Object(T.jsx)(U.a,{item:!0,xs:2})]}),Object(T.jsx)(Xa.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:K,autoHideDuration:6e3,onClose:J,message:V,action:Object(T.jsx)(i.a.Fragment,{children:Object(T.jsx)(p.a,{size:"small","aria-label":"close",color:"inherit",onClick:J,children:Object(T.jsx)(ec.a,{fontSize:"small"})})})})]})}var Hc=Ec()({displayCard:{width:"90%",borderRadius:15,margin:"auto",marginTop:10},topHeading:{padding:10,textAlign:"left",fontWeight:600}});function Kc(e){var t=e.authorID,a=e.postID,i=e.authorName,c=Hc(),o=Object(n.useState)([]),s=Object(r.a)(o,2),l=s[0],d=s[1],j=G("view_article/list_latest_posts"),b={user_ID:t,post_ID:a};return Object(n.useEffect)((function(){W.a.post(j,b).then((function(e){d(e.data)})).catch((function(){console.error("load failed")}))}),[j]),0!==l.length?Object(T.jsxs)(Z.a,{style:{padding:10},children:[Object(T.jsxs)(ne.a,{variant:"h5",color:"primary",component:"h5",className:c.topHeading,children:["More from ",i.split(" ")[0]]}),Object(T.jsx)("div",{style:{padding:10},children:l.map((function(e){return Object(T.jsx)(Z.a,{className:c.displayCard,children:Object(T.jsxs)(Ya.a,{children:[Object(T.jsx)($.a,{component:"img",alt:"Contemplative Reptile",height:"130",image:e.article.current.coverImage,title:"Contemplative Reptile"}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(T.jsx)(L.a,{href:"/components/academicUser/viewArticle/"+e._id,target:"_blank",style:{textDecoration:"none"},children:e.article.current.title})})})]})})}))})]}):Object(T.jsx)("span",{})}var Qc=a(154),Jc=a.n(Qc),Zc=Object(j.a)((function(e){return{profilePic:{width:50,height:50},userEntry:{padding:10}}}));function Xc(e){var t=e.authorIndex,a=e.totalVersions,i=e.userID,c=e.postID,o=Zc(),s=Object(n.useState)({}),l=Object(r.a)(s,2),d=l[0],j=l[1],b=G("get_user_data/");return Object(n.useEffect)((function(){W.a.post(b,{_id:i}).then((function(e){e.data&&j({userID:i,userName:e.data[0].name,ppLink:e.data[0].profilePicture})})).catch((function(){console.error("load failed")}))}),[]),Object(T.jsxs)(U.a,{container:!0,spacing:2,className:o.userEntry,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(wn.a,{className:o.profilePic,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:o.profilePic,src:d.ppLink})})}),Object(T.jsx)(U.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(T.jsx)(U.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(T.jsxs)(U.a,{item:!0,xs:!0,style:{textAlign:"left"},children:[Object(T.jsx)("span",{style:{margin:"auto"},children:Object(T.jsxs)(L.a,{href:"/components/academicUser/viewArticle/"+c+"?version="+(t-1),style:{textDecoration:"none"},children:["Version ",t,t===a?Object(T.jsx)(z.a,{label:"Latest",style:{margin:5},color:"primary"}):Object(T.jsx)("span",{})]})}),Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",style:{overflow:"hidden"},children:Object(T.jsx)(L.a,{href:"/components/academicUser/authorProfile/"+d.userID,style:{textDecoration:"none"},children:d.userName})})]})})})]})}var $c=Object(j.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),borderRadius:6}}}));function eo(e){var t=e.versionData,a=e.postID;console.log(t);var n=$c(),i=1;return Object(T.jsx)("div",{className:n.root,children:Object(T.jsxs)(Ye.a,{className:n.paper,children:[Object(T.jsx)(ne.a,{variant:"h5",color:"primary",component:"h5",style:{fontWeight:600,textAlign:"left"},children:"Version History"}),t.map((function(e){return Object(T.jsx)(Xc,{postID:a,totalVersions:t.length,userID:e.contributor,authorIndex:i++})}))]})})}var to=Object(j.a)((function(e){return{root:{flexGrow:1,width:"50%"},navBar:{display:"block",position:"absolute"},pageContent:{paddingTop:80},article:{width:"50%"},userInfo:{left:0},downloadButton:{padding:8,color:"#fff",borderRadius:5,display:"block",marginTop:20,float:"left",backgroundColor:"#935FF9"},warningMessage:{padding:20,margin:"auto",marginBottom:10,marginTop:0,width:"98%",textAlign:"center",backgroundColor:"#f14040",color:"#fff",fontSize:20}}}));function ao(){var e=to(),t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)([]),s=Object(r.a)(o,2),l=s[0],d=s[1],j=window.location.href.split("/").slice(-1)[0],b=Object(n.useState)({}),u=Object(r.a)(b,2),h=u[0],p=u[1],m=0;-1!==j.search("version=")?(m=Number(j.split("?version=")[1]),j=j.split("?version=")[0]):m=-1;var x="Anyone",f="";Ea()&&(f=Ea()._id,"academic"===Ea().role&&(x="Academic Only")),console.log(Ea());var O={_id:j,visibility:x},g=Object(n.useState)(!0),v=Object(r.a)(g,2),y=v[0],w=v[1];Object(n.useEffect)((function(){W.a.post(G("view_article/"),O).then((function(e){e.data&&(c(e.data),-1===m&&(m=e.data.article.versions.length-1),e.data.article.versions.length-1===m&&w(!1),console.log("post version:",e.data.article.versions),p(e.data.article.versions[m]),W.a.post(G("view_article/increase_view_count"),{post_ID:j}).then((function(e){e.data&&console.log("VC Update done.")})).catch((function(){console.error("VCU failed")})))})).catch((function(){console.error("load failed")}))}),[]);var S=G("post_comment/");Object(n.useEffect)((function(){W.a.post(S,O).then((function(e){d(e.data)})).catch((function(){console.error("load failed")}))}),[]);var C=Object(n.useState)(!1),k=Object(r.a)(C,2),N=k[0],I=k[1];return Object(n.useEffect)((function(){setTimeout((function(){I(!0)}),5e3)}),[]),0!==i.length?Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:e.pageContent,children:[y?Object(T.jsxs)("div",{className:e.warningMessage,children:["You are looking at an old version of this article. Click ",Object(T.jsx)(L.a,{href:j,style:{color:"#fff"},children:"here"})," to look at the latest version."]}):Object(T.jsx)("span",{}),Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsxs)(U.a,{item:!0,xs:8,className:e.article,children:[Object(T.jsx)(jc,{userID:f,type:i.type,articleID:i._id,coverImage:h.coverImage,title:h.title,content:h.content,licence:i.article.license,tagList:h.tags,customWidth:"98%"}),Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:4}),Object(T.jsxs)(Ye.a,{style:{width:"98%",margin:30,marginLeft:40,padding:15},children:[Object(T.jsx)(ne.a,{variant:"h4",component:"h4",children:"Comments..."}),Object(T.jsxs)("div",{children:[f?Object(T.jsx)(Uc,{userID:f,postID:j,parentComment:!0}):Object(T.jsx)("span",{}),l.map((function(e){return Object(T.jsx)(Wc,{content:e.content,dislikes:e.downvotes,writerID:e.commenter,sessionUser:f,commentID:e._id,postID:j,timestamp:e.updatedAt,likes:e.upvotes})}))]})]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:3}),Object(T.jsx)(U.a,{item:!0,xs:6}),Object(T.jsx)(U.a,{item:!0,xs:3})]})})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,style:{paddingRight:"5%"},children:[console.log(i.author),Object(T.jsx)(Bc,{name:i.author.name,bio:i.author.bio,profileURL:i.author.profilePicture,className:e.userInfo,university:i.academicInstitute.name,writerID:i.author._id,viewerID:f,status:i.author.status}),Object(T.jsx)("br",{}),Object(T.jsx)(qc,{userID:f,postID:j,postData:i.article,viewCount:i.viewCount,postType:i.type}),Object(T.jsx)("br",{}),Object(T.jsx)(eo,{versionData:i.article.versions,postID:j}),Object(T.jsx)("br",{}),Object(T.jsx)(Kc,{authorID:i.author._id,postID:j,authorName:i.author.name})]})]})]})}):N?Object(T.jsx)("div",{children:Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:200,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(Jc.a,{fontSize:"large"})," Sorry, This article is not visible for you.",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try again, if you are not login with the system."}),Object(T.jsx)("br",{})]})}):Object(T.jsx)("div",{style:{paddingTop:250},children:Object(T.jsx)(ri.a,{})})}var no=Object(j.a)((function(e){return{root:{width:320,height:467,borderRadius:5,margin:10},media:{height:0,paddingTop:"56.25%"},authorInfo:{fontSize:18,fontWeight:550},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},summaryValues:{textAlign:"center"},message:{textAlign:"justify",overflow:"hidden",display:"block",textDecoration:"none"},profilePic:{width:50,height:50,margin:"auto"}}}));function io(e){var t=e.publicName,a=e.email,n=e.mediaType,i=e.media,c=e.description,o=e.link,r=no();return Object(T.jsxs)(Z.a,{className:r.root,style:{backgroundColor:"#e1dede"},children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{style:{backgroundColor:ie.a[500]},children:"Ads"}),title:Object(T.jsx)("span",{className:r.authorInfo,children:Object(T.jsx)(L.a,{href:o,style:{fontWeight:600,textDecoration:"none"},children:t})}),subheader:a}),"Image"===n?Object(T.jsx)($.a,{className:r.media,image:i}):Object(T.jsx)("iframe",{src:i,frameBorder:"0"}),Object(T.jsx)(ee.a,{style:{margin:10},children:Object(T.jsx)(L.a,{href:o,target:"_blank",className:r.message,children:c})})]})}var co=Object(j.a)((function(e){return{root:{width:320,height:467,borderRadius:5,margin:10},media:{height:0,paddingTop:"56.25%"},authorInfo:{fontSize:18,fontWeight:550},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},summaryValues:{textAlign:"center"},title:{textAlign:"center",fontWeight:600,height:85,fontSize:30,overflow:"hidden"},profilePic:{width:50,height:50,margin:"auto"}}}));function oo(e){var t=e.pinMessage,a=e.originalPostID,i=e.title,c=e.coverImage,o=e.authorName,s=e.authorID,l=e.publishedData,d=co(),j=Object(n.useState)("hidden"),b=Object(r.a)(j,2),u=b[0],h=b[1];return Object(T.jsxs)(Z.a,{className:d.root,children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{style:{backgroundColor:"#4411A8"},children:"PIN"}),title:Object(T.jsx)("span",{className:d.authorInfo,children:Object(T.jsx)(L.a,{href:"/components/academicUser/authorProfile/"+s,style:{fontWeight:600,textDecoration:"none"},children:o})}),subheader:Object(La.a)(new Date(l),new Date,{addSuffix:!0})}),Object(T.jsx)(ee.a,{style:{marginTop:0,paddingTop:0,height:u,display:"block",overflow:"hidden",backgroundColor:"#fff",marginBottom:5},children:Object(T.jsx)("span",{style:{textAlign:"justify",display:"block"},onMouseEnter:function(){return h("auto")},onMouseLeave:function(){return h("15%")},children:t})}),Object(T.jsx)($.a,{className:d.media,image:c}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(ne.a,{variant:"h5",color:"",component:"h5",className:d.title,children:Object(T.jsx)(Wt.a,{title:i,"aria-label":i,children:Object(T.jsx)(L.a,{href:"/components/academicUser/viewArticle/"+a,style:{fontWeight:600,textDecoration:"none",height:85,overflow:"hidden"},children:i})})})})]})}var ro=function(e){var t=e.userID,a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1];Object(n.useEffect)((function(){W.a.get(G("tag_operation/")).then((function(e){var a=0,n=[];W.a.post(G("tag_operation/get_home_page_tags",{user_id:t})).then((function(t){t.data.tags.map((function(t){e.data.map((function(e){t===e._id&&(n[a++]={label:e.verbose,value:e._id})}))})),o(n)}))})).catch((function(){console.error("load failed")}))}),[]);var s=Array("primary","default","secondary");return Object(T.jsx)("div",{children:c.length>0?c.map((function(e){return Object(T.jsx)(L.a,{href:"/components/academicUser/tagLookup/"+e.value,style:{textDecoration:"none"},children:Object(T.jsx)(z.a,{variant:"filled",color:s[Math.floor(3*Math.random())],label:e.label,style:{margin:10,fontSize:15,backgroundColor:"rgba(255,255,255,0.68)"}})})})):Object(T.jsxs)("div",{children:[Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6,marginTop:10}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}})]})})},so=a(397),lo=Object(j.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),borderRadius:6},profilePic:{width:60,height:60},userEntry:{padding:5,border:"1px solid #80808026",borderRadius:10,marginTop:5,marginBottom:5}}}));function jo(e){Object(so.a)(e);var t=lo(),a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){W.a.get(G("get_top_authors/")).then((function(e){o(e.data)})).catch((function(){console.error("load failed")}))}),[]),Object(T.jsx)("div",{className:t.root,children:Object(T.jsxs)(Ye.a,{className:t.paper,style:{backgroundColor:"transparent"},children:[Object(T.jsx)(ne.a,{variant:"h5",color:"primary",component:"h5",style:{fontWeight:600,textAlign:"center"},children:"Top Authors"}),c.length>0?c.map((function(e){return Object(T.jsxs)(U.a,{container:!0,spacing:2,className:t.userEntry,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(wn.a,{className:t.profilePic,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:t.profilePic,src:e.profile_picture,sx:{width:56,height:56}})})}),Object(T.jsx)(U.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(T.jsx)(U.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(T.jsxs)(U.a,{item:!0,xs:!0,style:{textAlign:"left"},children:[Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",style:{overflow:"hidden",marginBottom:2},children:Object(T.jsx)(L.a,{href:"/components/academicUser/authorProfile/"+e.author_id,style:{textDecoration:"none"},children:e.author_name})}),Object(T.jsxs)("span",{style:{margin:"auto"},children:[e.number_of_posts," Posts/Publications"]})]})})})]})})):Object(T.jsx)("div",{children:[1,2,3].map((function(e){return Object(T.jsx)(X.a,{avatar:Object(T.jsx)(V.a,{animation:"wave",variant:"circle",width:40,height:40}),title:Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:Object(T.jsx)(V.a,{animation:"wave",height:10,width:"40%"})})}))})]})})}var bo=Object(j.a)((function(e){return{root:{flexGrow:1},mainGrid:{marginTop:"80px",width:"95%",marginLeft:"4%"}}}));function uo(){return[1,2,3].map((function(){return Object(T.jsxs)(Z.a,{style:{width:320,height:467,margin:10},children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(V.a,{animation:"wave",variant:"circle",width:40,height:40}),title:Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:Object(T.jsx)(V.a,{animation:"wave",height:10,width:"40%"})}),Object(T.jsx)(V.a,{animation:"wave",variant:"rect",style:{paddingTop:"56.25%"}}),Object(T.jsx)(ee.a,{children:Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)(V.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%"})]})})]})}))}function ho(){var e="",t="";Ea()&&(e=Ea()._id,t=Ea().role);var a=window.location.href.split("/").slice(-1)[0],i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)([]),d=Object(r.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)([]),h=Object(r.a)(u,2),p=h[0],m=h[1],x=Object(n.useState)([]),f=Object(r.a)(x,2),O=f[0],g=f[1],v=Object(n.useState)([]),y=Object(r.a)(v,2),w=y[0],S=y[1];Object(n.useEffect)((function(){""!==a&&"tagLookup"===window.location.href.split("/").slice(-2)[0]?W.a.post(G("home_function/search_by_tag"),{tag_ID:a}).then((function(e){s(e.data)})).catch((function(){console.error("load failed")})):(""!==e&&("academic"===t&&W.a.get(G("home_function/academic_content")).then((function(e){b(e.data)})).catch((function(){console.error("load failed")})),W.a.post(G("home_function/get_post_form_followers"),{user_ID:e}).then((function(e){g(e.data)})).catch((function(){console.error("load failed")})),W.a.post(G("home_function/get_post_form_following_tags"),{user_ID:e}).then((function(e){S(e.data)})).catch((function(){console.error("load failed")}))),W.a.get(G("home_function/non_login_content")).then((function(e){m(e.data)})).catch((function(){console.error("load failed")})))}),[]),Object(n.useEffect)((function(){var e=[];j.map((function(t){return e.push(t)})),p.map((function(t){return e.push(t)})),O.map((function(t){return e.push(t)})),w.map((function(t){return e.push(t)}));var t=new Set,a=e.filter((function(e){return!t.has(e._id)&&t.add(e._id)}));s(a)}),[j,p,O]);var C=Object(n.useState)([]),k=Object(r.a)(C,2),N=k[0],I=k[1],F=G("home_function/get_adds");Object(n.useEffect)((function(){W.a.get(F).then((function(e){I(e.data)})).catch((function(){console.error("load failed")}))}),[]);for(var D=[],A=Math.ceil(o.length/20),_=0,B=0,P=0,E=A+o.length;_<E;)Math.random()<.2&&A>P?(D.push([!1,N[Math.round(Math.random()*(N.length-1))]]),P++):o[B]&&D.push([!0,o[B++]]),_++;var R=bo();return Object(T.jsx)("div",{align:"center",children:Object(T.jsxs)(U.a,{container:!0,spacing:2,className:R.mainGrid,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,style:{float:"left"},children:[Object(T.jsxs)(Ye.a,{style:{padding:10,borderRadius:6,backgroundColor:"transparent"},children:[Object(T.jsx)(ne.a,{variant:"h5",color:"primary",component:"h5",style:{fontWeight:600,textAlign:"center"},children:"Trending Tags"}),Object(T.jsx)(ro,{userID:e})]}),Object(T.jsx)("br",{}),Object(T.jsx)(jo,{})]}),Object(T.jsx)(U.a,{item:!0,xs:9,children:Object(T.jsx)(U.a,{container:!0,spacing:3,style:{display:"flex"},children:D.length?D.map((function(t){return t[0]?"pin"!==t[1].type?Object(T.jsx)(Ic,{userID:e,authorID:t[1].author._id,postID:t[1]._id,title:t[1].article.current.title,author:t[1].author.name,authorPP:t[1].author.profilePicture,publishedData:t[1].createdAt,coverImage:t[1].article.current.coverImage,likes:t[1].article.upvotes,viewCount:t[1].viewCount,readTime:t[1].article.current.readTime}):t[1].pin.originalPost?Object(T.jsx)(oo,{originalPostID:t[1].pin.originalPost._id,title:t[1].pin.originalPost.article.current.title,authorID:t[1].author._id,authorName:t[1].author.name,coverImage:t[1].pin.originalPost.article.current.coverImage,publishedData:t[1].createdAt,pinMessage:t[1].pin.pinComment}):Object(T.jsx)("span",{}):t[1]?Object(T.jsx)(io,{publicName:t[1].publicName,media:t[1].advertisements[0].Media,mediaType:t[1].advertisements[0].type,link:t[1].advertisements[0].redirectLink,email:t[1].contactDetails.email,description:t[1].advertisements[0].Description}):uo()})):uo()})})]})})}var po=a(27),mo=Object(j.a)((function(e){return{root:{flexGrow:1},editor:{paddingTop:120,width:"50%",paddingBottom:30,margin:"auto"},navBar:{display:"block"},optionSection:{width:"50%",paddingBottom:100,margin:"auto"},question:{marginTop:20,marginBottom:20},buttonPublish:{backgroundColor:"#935FF9",borderRadius:"5px","&:hover":{backgroundColor:Object(b.a)("#935FF9",.7)},color:"white",width:"15%",fontSize:16,marginRight:e.spacing(2)},licenceQuestion:{},moreButton:{backgroundColor:"#935FF9",color:"#fff"},postTitle:{marginTop:20,marginBottom:20,width:"100%",fontSize:30}}}));function xo(){var e=mo(),t="";Ea()&&(t=Ea()._id,Ea().role);var a=Object(n.useState)([]),c=Object(r.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)("This is the space for the title..."),d=Object(r.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(null),h=Object(r.a)(u,2),p=h[0],m=h[1],x=Object(n.useState)(null),f=Object(r.a)(x,2),O=f[0],g=f[1],v=Object(n.useState)(""),w=Object(r.a)(v,2),S=w[0],C=w[1],k=Object(n.useState)(0),N=Object(r.a)(k,2),I=N[0],F=N[1],D=Object(n.useState)(0),A=Object(r.a)(D,2),_=A[0],B=A[1],P=Object(n.useState)([]),E=Object(r.a)(P,2),R=E[0],U=E[1],L=Object(n.useState)(!1),z=Object(r.a)(L,2),M=z[0],V=z[1];Object(n.useEffect)((function(){W.a.post(G("get_user_data/"),{_id:t}).then((function(e){g(e.data[0].academicInstitute)})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){W.a.get(G("tag_operation/")).then((function(e){var t=0,a=[];e.data.map((function(e){a[t++]={label:e.verbose,value:e._id}})),s(a)})).catch((function(){console.error("load failed")}))}),[]);var Y=i.a.useState(!1),q=Object(r.a)(Y,2),H=q[0],K=q[1],Q=function(){K(!1)};return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{align:"center",className:e.editor,children:[Object(T.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(T.jsx)(Dt.a,{id:"outlined-basic",label:"Title",variant:"outlined",multiline:!0,rows:3,className:e.postTitle,onChange:function(e){b(e.target.value)},value:j})}),Object(T.jsx)(Rt.a,{onChange:function(e){var t=Object(r.a)(e,1)[0];t&&m(t)},maxFileSize:262144e3,filesLimit:1,showFileNamesInPreview:!0})]}),Object(T.jsxs)("div",{className:e.optionSection,children:[Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Select tags:"}),Object(T.jsx)(Tt.a,{style:{minWidth:200},children:Object(T.jsx)(Qi.a,{options:o,onChange:U,value:R,labelledBy:"Select",style:{fontSize:15}})}),Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Who can see this post?"}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(Bt.a,{id:"demo-customized-select-visibility",onChange:function(e){C(e.target.value)},required:!0,children:[Object(T.jsxs)(_t.a,{value:"Anyone",defaultChecked:!0,children:[Object(T.jsx)(Kn.a,{})," \xa0 Anyone"]}),Object(T.jsxs)(_t.a,{value:"Academics Only",children:[Object(T.jsx)(Jn.a,{})," \xa0 Academics Only"]})]})}),Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Allow adaptations of your work to be shared?"}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(Bt.a,{id:"demo-customized-select-q1",onChange:function(e){F(e.target.value)},required:!0,children:[Object(T.jsxs)(_t.a,{value:"1",defaultChecked:!0,children:[Object(T.jsx)(Gi.a,{})," \xa0 Yes"]}),Object(T.jsxs)(_t.a,{value:"2",children:[Object(T.jsx)(Ki.a,{})," \xa0 Yes, But re-publish under the same terms"]}),Object(T.jsxs)(_t.a,{value:"3",children:[Object(T.jsx)(qi.a,{})," \xa0 No"]})]})}),Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Allow commercial uses of your work?"}),Object(T.jsx)(Tt.a,{children:Object(T.jsxs)(Bt.a,{id:"demo-customized-select-q2",onChange:function(e){B(e.target.value)},required:!0,children:[Object(T.jsxs)(_t.a,{value:"1",defaultChecked:!0,children:[Object(T.jsx)(Wi.a,{})," \xa0 Yes"]}),Object(T.jsxs)(_t.a,{value:"2",children:[Object(T.jsx)(zi.a,{})," \xa0 No"]})]})}),Object(T.jsx)("div",{style:{textAlign:"center",marginTop:50},children:Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{variant:"contained",className:e.buttonPublish,onClick:function(){K(!0)},children:"Publish"}),Object(T.jsx)("br",{}),M?Object(T.jsx)("div",{style:{margin:40},children:Object(T.jsx)(ri.a,{})}):Object(T.jsx)("span",{}),Object(T.jsxs)(qa.a,{open:H,onClose:Q,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Declaration"}),Object(T.jsx)(jn.a,{children:Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"I declare that this content is originally mine and I have not copied from anywhere."})}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:Q,color:"primary",children:"Disagree"}),Object(T.jsx)(y.a,{onClick:function(e){if(K(!1),V(!0),""!==S&&0!==I&&0!==_&&""!==j&&null!==p){var a="";switch(I+"0"+_){case"101":a="by";break;case"102":a="by-nc";break;case"201":a="by-sa";break;case"202":a="by-nc-sa";break;case"301":a="by-nd";break;case"302":a="by-nc-nd";break;default:a="by"}var n=[],i=0;R.map((function(e){return n[i++]=e.value}));var c=Object(Xi.a)({accessKey:po.clients.unsplash.access_key,fetch:Zi.a}),o=R[Math.round(Math.random()*(n.length-1))].label;c.photos.getRandom({query:o,count:1}).then((function(e){var i=e.response[0].urls.regular,c=new FormData;c.append("media",p,p.name),W()({method:"post",url:G("publish_media/upload_media_file"),data:c,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var c=p.type.split("/")[0];"application"===c&&(c="raw");var o="https://res.cloudinary.com/edupulse/"+c.toLowerCase()+"/upload/v1631097533/"+e.data.public_id,r=JSON.stringify({file_format:p.name.split(".").slice(-1)[0],basic_url:e.data.public_id,file_class:p.type.split("/")[0],full_url:o}),s={post_title:j,content_url:r,post_visibility:S,post_licence:a,cover_image:i,related_tags:n,author_ID:t,academic_institute:O};W.a.post(G("publish_media/initiate_publication/"),s).then((function(e){console.log("article published initiate.");var a=e.data._id,c={post_ID:a,post_title:j,content_url:r,cover_image:i,related_tags:n,author_ID:t};W.a.post(G("publish_media/publish_media_version/"),c).then((function(e){V(!1),console.log("article published."),window.location.href="/components/academicUser/viewArticle/"+a})).catch((function(){console.error("publish failed")}))})).catch((function(){console.error("publish failed")}))})).catch((function(e){console.log("Upload resource failed. Try again.")}))}))}},color:"primary",autoFocus:!0,children:"Agree"})]})]})]})})]})]})}function fo(e){var t=e.jsonObject,a=e.postID;return console.log(t),W.a.post(G("write_article/publish_post_version"),t).then((function(e){console.log("publish_post_version done "),window.location.href="/components/academicUser/viewArticle/"+a})).catch((function(){console.error("publish_post_version failed")})),Object(T.jsx)("div",{style:{margin:40},children:Object(T.jsx)(ri.a,{})})}var Oo=a(27),go=Object(j.a)((function(e){return{root:{flexGrow:1},editor:{paddingTop:120,width:"50%",paddingBottom:30,margin:"auto"},navBar:{display:"block"},optionSection:{width:"50%",paddingBottom:100,margin:"auto"},question:{marginTop:20,marginBottom:20},buttonPublish:{backgroundColor:"#935FF9",borderRadius:"5px","&:hover":{backgroundColor:Object(b.a)("#935FF9",.7)},color:"white",fontSize:16,marginRight:e.spacing(2)},licenceQuestion:{},moreButton:{backgroundColor:"#935FF9",color:"#fff"},postTitle:{marginTop:20,marginBottom:20,width:"100%",fontSize:30}}}));function vo(){var e=go(),t="";Ea()&&(t=Ea()._id,Ea().role);var a=Object(n.useState)(window.location.href.split("/").slice(-1)[0]),c=Object(r.a)(a,2),o=c[0],s=(c[1],Object(n.useState)([])),l=Object(r.a)(s,2),d=l[0],j=l[1],b=Object(n.useState)(""),u=Object(r.a)(b,2),h=u[0],p=u[1],m=Object(n.useState)("<h3>Welcome to EduPulse...</h3><br><br><br>"),x=Object(r.a)(m,2),f=x[0],O=x[1],g=Object(n.useState)([]),v=Object(r.a)(g,2),w=v[0],S=v[1],C=i.a.useState(!1),k=Object(r.a)(C,2),N=k[0],I=k[1];Object(n.useEffect)((function(){var e=G("view_article/preview_article");W.a.post(e,{_id:o}).then((function(e){p(e.data.article.current.title),O(e.data.article.current.content)})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){W.a.get(G("tag_operation/")).then((function(e){var t=0,a=[];e.data.map((function(e){a[t++]={label:e.verbose,value:e._id}})),j(a)})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){var e=f.split("$EduPulseEmbedImage$");if(e.length>2){for(var t=1;t<e.length;){var a=e[t];e[t]="<img class='articleImage' src='"+a+"'/>",t+=2}window.location.reload()}var n={post_ID:o,post_title:h,post_content:e};W.a.post(G("write_article/real_time_content_save/"),n).then((function(e){e.data.bad_word?I(!0):(I(!1),console.log("article saved"))})).catch((function(){console.error("load failed")}))}),[f,h]);var F=i.a.useState(!1),D=Object(r.a)(F,2),A=D[0],_=D[1],B=function(){_(!1)},P=Object(n.useState)(!1),E=Object(r.a)(P,2),R=E[0],U=E[1],L=Object(n.useState)({}),z=Object(r.a)(L,2),M=z[0],V=z[1],Y=function(e,t){"clickaway"!==t&&I(!1)};return localStorage.setItem("postID",o),localStorage.setItem("type","articleVersioning"),Object(T.jsxs)("div",{children:[Object(T.jsx)(Pi,{className:e.navBar}),Object(T.jsxs)("div",{align:"center",className:e.editor,children:[Object(T.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(T.jsx)(Dt.a,{id:"outlined-basic",label:"Title",variant:"outlined",multiline:!0,rows:3,className:e.postTitle,onChange:function(e){p(e.target.value)},value:h})}),Object(T.jsx)("div",{style:{margin:20},children:Object(T.jsx)(ac,{})}),Object(T.jsx)(Ei.CKEditor,{style:{height:100},editor:Ui.a,data:f,onChange:function(e,t){O(t.getData())}})]}),Object(T.jsxs)("div",{className:e.optionSection,children:[Object(T.jsx)(ne.a,{component:"h6",variant:"h6",className:e.question,children:"Select tags:"}),Object(T.jsx)(Tt.a,{style:{minWidth:200},children:Object(T.jsx)(Qi.a,{options:d,onChange:S,value:w,labelledBy:"Select",style:{fontSize:15}})}),Object(T.jsx)("div",{style:{textAlign:"center",marginTop:50},children:Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{variant:"contained",className:e.buttonPublish,onClick:function(){_(!0)},children:"Create new Version and Publish"}),R?Object(T.jsx)(fo,{jsonObject:M,postID:o}):Object(T.jsx)("span",{}),Object(T.jsxs)(qa.a,{open:A,onClose:B,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Post Versioning Declaration"}),Object(T.jsx)(jn.a,{children:Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"I agree that, with the new version, not harm happen to the original user and the system. Similarly, I declare that altered content is originally mine and I have not copied from anywhere. Remind that once releases a version, you are unable to edit. So, check your alterations before publishing to EduPulse."})}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:B,color:"primary",children:"Disagree"}),Object(T.jsx)(y.a,{onClick:function(e){if(_(!1),""!==h&&""!==f){var a=[],n=0;w.map((function(e){return a[n++]=e.value}));var i=Object(Xi.a)({accessKey:Oo.clients.unsplash.access_key,fetch:Zi.a}),c=w[Math.round(Math.random()*(a.length-1))].label;i.photos.getRandom({query:c,count:1}).then((function(e){var n=e.response[0].urls.regular;W.a.post(G("view_article/preview_article"),{_id:o}).then((function(e){var i={post_ID:o,post_title:h,post_content:f,cover_image:n,related_tags:a,contributor:t,post_visibility:e.data.visibility,post_licence:e.data.article.license,institute:""};V(i),W.a.post(G("write_article/publish_post"),i).then((function(e){console.log("publish_post done "),U(!0)})).catch((function(){console.error("publish_post failed")}))})).catch((function(){console.error("load failed")}))}))}},color:"primary",autoFocus:!0,children:"Agree"})]})]})]})}),Object(T.jsx)(Xa.a,{open:N,autoHideDuration:6e3,onClose:Y,children:Object(T.jsx)(Ca.a,{onClose:Y,severity:"warning",children:"Check your title and text again. It consist hate words. Remove them to activate auto saving function."})})]})]})}var yo=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"10px",background:"#E1D4FC"},avatar:{backgroundColor:"#935FF9"},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}}}}));var wo=function(e){var t,a=e.description,i=yo(),c=(t=a.split('"'))[3],o=t[7],s=t[11],l=t[15],d=t[19],j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],p={_id:o},m=G("loggedIn_User/");Object(n.useEffect)((function(){W.a.post(m,p).then((function(e){h(e.data)})).catch((function(){console.error("Commentor's Profile loading failed")}))}),[]);var x=Object(n.useState)([]),f=Object(r.a)(x,2),O=(f[0],f[1]),g={_id:c},v=G("loggedIn_User/get_post");return Object(n.useEffect)((function(){W.a.post(v,g).then((function(e){O(e.data)})).catch((function(){console.error("Post Data loading failed")}))}),[]),Object(T.jsx)("div",{children:Object(T.jsx)(ze.b,{className:i.linkStyles,to:"/components/academicUser/viewArticle/"+c,children:Object(T.jsx)(Z.a,{className:i.root,children:Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{alt:"Profile image",className:i.avatar,src:u.profilePicture}),title:l,subheader:[s.split(".")[0]," on ",d.split("GMT")[0]]})})})})},So=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"10px",background:"#E1D4FC"},avatar:{backgroundColor:"#935FF9"}}}));var Co=function(e){var t=e.commentArray,a=So(),n=t.map((function(e){return 0==t.length?Object(T.jsx)(Z.a,{className:a.root,children:Object(T.jsx)(X.a,{title:"You have no new comments on your posts"})}):Object(T.jsx)(wo,{description:e.description})}));return Object(T.jsx)("div",{children:n})},ko=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"10px",background:"#E1D4FC"},avatar:{backgroundColor:"#935FF9"},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}}}}));var No=function(e){var t,a=e.description,i=ko(),c=(t=a.split('"'))[3],o=t[7],s=t[11],l=t[15],d=t[19],j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],p={_id:o},m=G("loggedIn_User/");return Object(n.useEffect)((function(){W.a.post(m,p).then((function(e){h(e.data)})).catch((function(){console.error("Reactor Profile loading failed")}))}),[]),Object(T.jsx)("div",{children:Object(T.jsx)(L.a,{className:i.linkStyles,href:"/components/academicUser/viewArticle/"+c,children:Object(T.jsx)(Z.a,{className:i.root,children:Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{alt:"Profile image",className:i.avatar,src:u.profilePicture}),title:l,subheader:[s.split(".")[0]," on ",d.split("GMT")[0]]})})})})},Io=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"10px",background:"#E1D4FC"},avatar:{backgroundColor:"#935FF9"}}}));var Fo=function(e){var t=e.postArray,a=Io(),n=t.map((function(e){return 0==t.length?Object(T.jsx)(Z.a,{className:a.root,children:Object(T.jsx)(X.a,{title:"You have no new publication notifications"})}):Object(T.jsx)(No,{description:e.description})}));return Object(T.jsx)("div",{children:n})},Do=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"10px",background:"#E1D4FC"},avatar:{backgroundColor:"#935FF9"},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}}}}));var Ao=function(e){var t,a=e.description,i=Do(),c=(t=a.split('"'))[3],o=t[7],s=t[11],l=t[15],d=t[19];console.log(d);var j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],p={_id:o},m=G("loggedIn_User/");Object(n.useEffect)((function(){W.a.post(m,p).then((function(e){h(e.data)})).catch((function(){console.error("Reactor Profile loading failed")}))}),[]);var x="";return d&&(x=d.split("GMT")[0]),Object(T.jsx)("div",{children:Object(T.jsx)(L.a,{className:i.linkStyles,href:"/components/academicUser/viewArticle/"+c,children:Object(T.jsx)(Z.a,{className:i.root,children:Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{alt:"Profile image",className:i.avatar,src:u.profilePicture}),title:l,subheader:[s.split(".")[0]," on ",x]})})})})},_o=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"10px",background:"#E1D4FC"},avatar:{backgroundColor:"#935FF9"}}}));var To=function(e){var t=e.reactionArray,a=_o(),n=t.map((function(e){return 0==t.length?Object(T.jsx)(Z.a,{className:a.root,children:Object(T.jsx)(X.a,{title:"You have no new reactions on your posts"})}):Object(T.jsx)(Ao,{description:e.description})}));return Object(T.jsx)("div",{children:n})},Bo=Object(j.a)((function(e){return{root:{flexGrow:1,width:"80%"},buttonStyle:{backgroundColor:"#935FF9",width:"80%",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},"&:focus":{backgroundColor:"#4411A8"},marginBottom:"10px",marginLeft:"30px"},cardStyles:{backgroundColor:"#FFFFFF",width:"96%",marginLeft:"150px",marginTop:"100px",borderRadius:"5px",marginBottom:"20px",padding:10,paddingTop:40},gridTwoStyle:{marginTop:10,width:"100%",marginBottom:"15px"},gridTwoItemOneStyle:{marginLeft:"20px"},gridTwoItemTwoStyle:{marginLeft:"20px"}}}));var Po=function(){var e=Object(n.useState)("block"),t=Object(r.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)("none"),o=Object(r.a)(c,2),s=o[0],l=o[1],d=Object(n.useState)("none"),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)([]),p=Object(r.a)(h,2),m=p[0],x=p[1],f={_id:Ea()._id},O=G("loggedIn_User/get_notifications");Object(n.useEffect)((function(){W.a.post(O,f).then((function(e){x(e.data)})).catch((function(){console.error("Notifications loading failed")}))}),[]);var g=[],v=[],w=[],S=[];return m.map((function(e){"publication"===e.title?g.push(e):"reaction"===e.title?v.push(e):"comment"===e.title?w.push(e):S.push(e)})),Object(T.jsx)("div",{className:Bo().root,children:Object(T.jsx)(Z.a,{className:Bo().cardStyles,children:Object(T.jsxs)(U.a,{container:!0,spacing:2,className:Bo().gridTwoStyle,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,className:Bo().gridTwoItemOneStyle,children:[Object(T.jsx)(y.a,{"aria-label":"recipe",className:Bo().buttonStyle,onClick:function(){l("none"),i("block"),u("none")},children:"Publications"}),Object(T.jsx)(y.a,{"aria-label":"recipe",className:Bo().buttonStyle,onClick:function(){l("block"),i("none"),u("none")},children:"Comments"}),Object(T.jsx)(y.a,{"aria-label":"recipe",className:Bo().buttonStyle,onClick:function(){l("none"),i("none"),u("block")},children:"Reactions"})]}),Object(T.jsxs)(U.a,{item:!0,xs:8,className:Bo().gridTwoItemTwoStyle,children:[Object(T.jsx)(U.a,{style:{display:a},children:g.length>0?Object(T.jsx)(Fo,{postArray:g}):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:10,fontSize:40,textAlign:"center"},children:["You have got no new notifications related to publications.",Object(T.jsx)("br",{})]})}),Object(T.jsx)(U.a,{style:{display:s},children:w.length>0?Object(T.jsx)(Co,{commentArray:w}):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:10,fontSize:40,textAlign:"center"},children:["You have got no new comments for your publications.",Object(T.jsx)("br",{})]})}),Object(T.jsx)(U.a,{style:{display:b},children:v.length>0?Object(T.jsx)(To,{reactionArray:v}):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:10,fontSize:40,textAlign:"center"},children:["You have got no new reactions for your publications.",Object(T.jsx)("br",{})]})})]})]})})})},Eo=a(674),Ro=a(34),Uo=a.n(Ro),Lo=Object(j.a)((function(e){return{root:{backgroundColor:"#E1D4FC",marginBottom:"20px",borderRadius:"5px"},formStyles:{margin:"10px",fontFamily:"Courgette",padding:30},labelStyles:{color:"#4411A8",fontSize:"18px"},textFieldStyles:{width:"550px",marginBottom:"30px","& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#4411A8",borderWidth:"3px"}}},saveBtnStyles:{backgroundColor:"#935FF9",width:"40%",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},marginLeft:"6%",marginRight:"8%",marginBottom:"10px"},cancelBtnStyles:{backgroundColor:"#9e9e9e",width:"40%",color:"#FFFFFF","&:hover":{backgroundColor:"#d81b60"},marginBottom:"10px"},radioBtnStyles:{marginBottom:"20px"}}}));var zo=function(e){var t=e.userID,a=e.userName,i=e.userBio,c=e.userPersonalMail,o=e.userAcaMail,s=e.userGender,l=e.userBday,d=Object(n.useState)(a),j=Object(r.a)(d,2),b=j[0],u=j[1];Object(n.useEffect)((function(){u(a)}),[a]);var h=Object(n.useState)(i),p=Object(r.a)(h,2),m=p[0],x=p[1];Object(n.useEffect)((function(){x(i)}),[i]);var f=Object(n.useState)(o),O=Object(r.a)(f,2),g=(O[0],O[1]);Object(n.useEffect)((function(){g(o)}),[o]);var v=Object(n.useState)("Undergraduate"),w=Object(r.a)(v,2),S=(w[0],w[1]);Object(n.useEffect)((function(){S("Undergraduate")}),["Undergraduate"]);var C=Object(n.useState)(c),k=Object(r.a)(C,2),N=k[0],I=k[1];Object(n.useEffect)((function(){I(c)}),[c]);var F=Object(n.useState)(s),D=Object(r.a)(F,2),A=D[0],_=D[1];Object(n.useEffect)((function(){_(s)}),[s]);var B=Object(n.useState)(l),P=Object(r.a)(B,2),E=P[0],R=P[1];return Object(n.useEffect)((function(){R(l)}),[l]),Object(T.jsx)("div",{children:Object(T.jsx)(Z.a,{className:Lo().root,children:Object(T.jsxs)("form",{className:Lo().formStyles,children:[Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Lo().labelStyles,children:"Name*"}),Object(T.jsx)(Eo.a,{className:Lo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",required:"true",value:b,onChange:function(e){u(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Lo().labelStyles,children:"Bio"}),Object(T.jsx)(Eo.a,{className:Lo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",multiline:!0,value:m,onChange:function(e){x(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Lo().labelStyles,children:"Academic Email*"}),Object(T.jsx)(Eo.a,{className:Lo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",defaultValue:o,disabled:!0})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Lo().labelStyles,children:"Personal Email*"}),Object(T.jsx)(Eo.a,{className:Lo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"email",value:N,onChange:function(e){I(e.target.value)}})})]}),Object(T.jsx)(y.a,{className:Lo().saveBtnStyles,onClick:function(){var e={userID:t,name:b,bio:m,personalEmail:N,gender:A,bday:E},a=G("update_profile/userProfileUpdate");W.a.post(a,e).then((function(e){Uo.a.fire({icon:"success",title:"Your profile got updated successfully",timer:1500}),console.log("User profile is updated")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("User profile update failed")}))},children:"Save Updates"}),Object(T.jsx)(y.a,{className:Lo().cancelBtnStyles,onClick:function(){Uo.a.fire({title:"Are you sure?",text:"Your updates will be discarded!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d81b60",cancelButtonColor:"#935FF9",confirmButtonText:"Yes, discard!"}).then((function(e){e.isConfirmed&&Uo.a.fire("Discarded!","Your updates did not get recorded.","success")}))},children:"Cancel"})]})})})},Mo=Object(j.a)((function(e){return{root:{backgroundColor:"#E1D4FC",marginBottom:"20px",borderRadius:"5px"},formStyles:{margin:"10px",fontFamily:"Courgette",padding:30},labelStyles:{color:"#4411A8",fontSize:"18px"},textFieldStyles:{width:"550px",marginBottom:"30px","& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#4411A8",borderWidth:"3px"}}},saveBtnStyles:{backgroundColor:"#935FF9",width:"40%",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},marginLeft:"6%",marginRight:"8%",marginBottom:"10px"},cancelBtnStyles:{backgroundColor:"#9e9e9e",width:"40%",color:"#FFFFFF","&:hover":{backgroundColor:"#d81b60"},marginBottom:"10px"}}}));var Wo=function(){var e,t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1];e=Ea()._id,Object(n.useEffect)((function(){W.a.post(G("loggedIn_User/get_socialAccounts"),{_id:e}).then((function(e){c(e.data)})).catch((function(){console.error("Socila Acconts loading failed")}))}),[]);var o=Object(n.useState)(i.linkedin),s=Object(r.a)(o,2),l=s[0],d=s[1];Object(n.useEffect)((function(){d(i.linkedin)}),[i.linkedin]);var j=Object(n.useState)(i.facebook),b=Object(r.a)(j,2),u=b[0],h=b[1];Object(n.useEffect)((function(){h(i.facebook)}),[i.facebook]);var p=Object(n.useState)(i.twitter),m=Object(r.a)(p,2),x=m[0],f=m[1];Object(n.useEffect)((function(){f(i.twitter)}),[i.twitter]);var O=Object(n.useState)(i.github),g=Object(r.a)(O,2),v=g[0],w=g[1];Object(n.useEffect)((function(){w(i.github)}),[i.github]);var S=Object(n.useState)(i.personal),C=Object(r.a)(S,2),k=C[0],N=C[1];return Object(n.useEffect)((function(){N(i.personal)}),[i.personal]),Object(T.jsx)("div",{children:Object(T.jsx)(Z.a,{className:Mo().root,children:Object(T.jsxs)("form",{className:Mo().formStyles,children:[Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Mo().labelStyles,children:"LinkedIn Account"}),Object(T.jsx)(Eo.a,{className:Mo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",value:l,onChange:function(e){d(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Mo().labelStyles,children:"Github Account"}),Object(T.jsx)(Eo.a,{className:Mo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",value:v,onChange:function(e){w(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Mo().labelStyles,children:"Facebook Account"}),Object(T.jsx)(Eo.a,{className:Mo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",value:u,onChange:function(e){h(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Mo().labelStyles,children:"Twitter Account"}),Object(T.jsx)(Eo.a,{className:Mo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",value:x,onChange:function(e){f(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Mo().labelStyles,children:"Personal Website Link"}),Object(T.jsx)(Eo.a,{className:Mo().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",value:k,onChange:function(e){N(e.target.value)}})})]}),Object(T.jsx)(y.a,{className:Mo().saveBtnStyles,onClick:function(){var t={userID:e,linkedin:l,facebook:u,twitter:x,github:v,personal:k},a=G("update_profile/socialAccountsUpdate");W.a.post(a,t).then((function(e){Uo.a.fire({icon:"success",title:"Your social profiles got updated successfully",timer:1500}),console.log("Social profiles are updated")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("Social profiles update failed")}))},children:"Save Accounts"}),Object(T.jsx)(y.a,{className:Mo().cancelBtnStyles,onClick:function(){Uo.a.fire({title:"Are you sure?",text:"Your updates will be discarded!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d81b60",cancelButtonColor:"#935FF9",confirmButtonText:"Yes, discard!"}).then((function(e){e.isConfirmed&&Uo.a.fire("Discarded!","Your updates did not get recorded.","success")}))},children:"Cancel"})]})})})},Vo=Object(j.a)({root:{marginBottom:"20px"},cardStyle:{backgroundColor:"#E1D4FC",borderRadius:"5px","&hover":{backgroundColor:"#935FF9"}},avatar:{backgroundColor:"#935FF9",width:"40px",height:"40px",margin:"15px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"},name:{fontSize:"20px",textAlign:"center"},bio:{fontSize:"12px",textAlign:"center"},linkStyle:{"&:hover":{textDecoration:"none"}}});var Go=function(e){var t=e.userID,a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s={_id:t},l=G("loggedIn_User/");return Object(n.useEffect)((function(){W.a.post(l,s).then((function(e){o(e.data)})).catch((function(){console.error("Profile loading failed")}))}),[]),Object(T.jsx)("div",{className:Vo().root,children:Object(T.jsx)(L.a,{className:Vo().linkStyle,href:"/components/academicUser/authorProfile/"+t,children:Object(T.jsx)(Z.a,{className:Vo().cardStyle,children:Object(T.jsxs)(U.a,{container:!0,spacing:2,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:Vo().avatar,src:c.profilePicture})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsxs)("p",{className:Vo().name,children:[c.name," "]})})]})})})})},Yo=Object(j.a)((function(e){return{cardStyles:{backgroundColor:"#E1D4FC",height:"250px",borderRadius:"15px"},iconStyles:{width:"100px",height:"100px",marginTop:"40px",marginLeft:"150px",color:"#935FF9"},textStyle:{fontSize:"24px",textAlign:"center"}}}));var qo=function(){var e=Yo(),t=Ea()._id,a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=G("loggedIn_User/get_followedBy");Object(n.useEffect)((function(){W.a.post(s,{user_id:t}).then((function(e){e.data&&o(e.data)})).catch((function(){console.error("Followed By loading failed")}))}),[]);var l=0;c.map((function(e){return l+=1}));var d=c.map((function(t){return 0==l?Object(T.jsx)("div",{children:Object(T.jsxs)(Z.a,{className:e.cardStyles,children:[Object(T.jsx)(Jc.a,{className:e.iconStyles}),Object(T.jsx)("p",{className:e.textStyle,children:"You have no followers yet."})]})}):Object(T.jsx)(Go,{userID:t})}));return Object(T.jsx)("div",{children:d})},Ho=a(148),Ko=a.n(Ho),Qo=Object(j.a)((function(e){return{cardStyles:{backgroundColor:"#E1D4FC",height:"250px",borderRadius:"15px"},iconStyles:{width:"100px",height:"100px",marginTop:"40px",marginLeft:"150px",color:"#935FF9"},textStyle:{fontSize:"24px",textAlign:"center"}}}));var Jo=function(){var e=Qo(),t=Ea()._id,a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=G("loggedIn_User/get_followingUsers");Object(n.useEffect)((function(){W.a.post(s,{user_id:t}).then((function(e){e.data&&o(e.data)})).catch((function(){console.error("Following Users loading failed")}))}),[]);var l=0;c.map((function(e){return l+=1}));var d=c.map((function(t){return 0==l?Object(T.jsx)("div",{children:Object(T.jsxs)(Z.a,{className:e.cardStyles,children:[Object(T.jsx)(Ko.a,{className:e.iconStyles}),Object(T.jsx)("p",{className:e.textStyle,children:"You are not following any authors yet!"})]})}):Object(T.jsx)(Go,{userID:t._id})}));return Object(T.jsx)("div",{children:d})},Zo=a(238),Xo=a.n(Zo),$o=a(239),er=a.n($o),tr=Object(j.a)((function(e){return{saveBtnStyles:{backgroundColor:"#935FF9",width:"200px",marginTop:"30px",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},marginBottom:"20px",float:"left"},cancelBtnStyles:{backgroundColor:"#9e9e9e",width:"200px",marginTop:"30px",color:"#FFFFFF","&:hover":{backgroundColor:"#d81b60"},marginBottom:"20px"},root:{marginLeft:"55px"}}}));var ar=function(e){var t=e.userID,a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=G("loggedIn_User/get_allTags");Object(n.useEffect)((function(){W.a.post(s,{_id:t}).then((function(e){e.data&&o(e.data)})).catch((function(){console.error("Tags got loaded failed!")}))}),[]);var l=Object(n.useState)([]),d=Object(r.a)(l,2),j=d[0],b=d[1],u=G("loggedIn_User/get_all_tags");Object(n.useEffect)((function(){W.a.post(u,{user_id:t}).then((function(e){e.data&&b(e.data)})).catch((function(){console.error("My Tags loaded failed!")}))}),[]);var h=[];j.map((function(e){1,h.push(e.tagId)}));var p=Object(n.useState)(h),m=Object(r.a)(p,2),x=(m[0],m[1]),f=c.map((function(e){if(h.includes(e._id))return Object(T.jsxs)("div",{style:{textAlign:"left",paddingLeft:14},children:[Object(T.jsx)(Ka.a,{id:e._id,icon:Object(T.jsx)(Xo.a,{}),checkedIcon:Object(T.jsx)(er.a,{}),onClick:function(){return function(e){if(h.includes(e))for(var t=0;t<h.length;t++)h[t]==e&&h.splice(t,1);else h.push(e)}(e._id)}}),e.verbose]})})),O=c.map((function(e){if(!h.includes(e._id))return Object(T.jsxs)("div",{style:{textAlign:"left",paddingLeft:14},children:[Object(T.jsx)(Ka.a,{id:e._id,onClick:function(){return function(e){if(h.includes(e))for(var t=0;t<h.length;t++)h[t]==e&&h.splice(t,1);else h.push(e)}(e._id)}}),e.verbose]})}));return Object(T.jsxs)("div",{className:tr().root,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Following: "}),f]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Do not Following: "}),O]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{className:tr().saveBtnStyles,onClick:function(){x(h);var e={userID:t,followingTags:h},a=G("update_profile/updateFollowingTags");W.a.post(a,e).then((function(e){Uo.a.fire({icon:"success",title:"Your updates got saved successfully",timer:1500}),console.log("Following tags got updated")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("Following tags update failed")}))},children:"Save changes"}),Object(T.jsx)(y.a,{className:tr().cancelBtnStyles,onClick:function(){Uo.a.fire({title:"Are you sure?",text:"Your updates will be discarded!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d81b60",cancelButtonColor:"#935FF9",confirmButtonText:"Yes, discard!"}).then((function(e){e.isConfirmed&&Uo.a.fire("Discarded!","Your updates did not get recorded.","success")}))},children:"Cancel changes"})]})]})},nr=Object(j.a)((function(e){return{cardStyles:{backgroundColor:"#E1D4FC",height:"auto",borderRadius:"5px",marginBottom:10,padding:10},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}},textStyle:{fontSize:"18px",textAlign:"left"}}}));var ir=function(e){var t=e.postID,a=nr(),i=Object(n.useState)(t),c=Object(r.a)(i,2),o=c[0],s=(c[1],Object(n.useState)([])),l=Object(r.a)(s,2),d=l[0],j=l[1],b=G("view_article");return Object(n.useEffect)((function(){W.a.post(b,{_id:o,visibility:"Academics Only"}).then((function(e){e.data&&(j(e.data),console.log(d))})).catch((function(){console.error("Post loading failed")}))}),[]),d.article?Object(T.jsx)("div",{children:Object(T.jsx)(L.a,{className:a.linkStyles,href:"/components/academicUser/viewArticle/"+t,children:Object(T.jsx)(Z.a,{className:a.cardStyles,children:Object(T.jsx)("p",{className:a.textStyle,children:d.article.current.title})})})}):Object(T.jsx)("span",{})},cr=Object(j.a)((function(e){return{collectionName:{fontSize:"24px",textAlign:"center"}}}));var or=function(){var e=cr(),t=Ea()._id,a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=G("loggedIn_User/get_collection");return Object(n.useEffect)((function(){W.a.post(s,{user_id:t}).then((function(e){e.data&&o(e.data)})).catch((function(){console.error("Author collection loading failed")}))}),[]),c.map((function(e){1})),Object(T.jsx)("div",{children:c.map((function(t){return Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{className:e.collectionName,children:t.name}),t.savedPosts.map((function(e){return Object(T.jsx)(ir,{postID:e.postId})}))]})}))})},rr=Object(j.a)((function(e){return{root:{flexGrow:1,display:"block",marginTop:20},cardStyle:{marginBottom:"30px",borderRadius:"10px"},avatar:{backgroundColor:"#935FF9"},buttonStyleMain:{backgroundColor:"#935FF9",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},marginBottom:"20px",width:"180px",marginLeft:"130px"},buttonStyleSub:{backgroundColor:"#9e9e9e",color:"#FFFFFF","&:hover":{backgroundColor:"#d81b60"},marginBottom:"20px",width:"180px"}}}));var sr=function(){var e=rr(),t="";Ea()&&(t=Ea()._id,Ea().role);var a=Object(n.useState)(null),i=Object(r.a)(a,2),c=i[0],o=i[1],s=G("/update_profile/uploadProfPic"),l=G("update_profile/removeProfPic/");return Object(T.jsx)("div",{children:Object(T.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(Rt.a,{onChange:function(e){var t=Object(r.a)(e,1)[0];t&&o(t),console.log(t)},acceptedFiles:["image/jpeg","image/png"],maxFileSize:5e7,filesLimit:1,showFileNamesInPreview:!0,filename:"media"}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{"aria-label":"recipe",className:e.buttonStyleMain,type:"submit",onClick:function(e){e.preventDefault();var a=new FormData;a.append("userID",t),a.append("media",c,c.name),console.log("photo upload try"),console.log(a.get("userID")),W()({method:"put",url:s,data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){Uo.a.fire({icon:"success",title:"Profile picture is uploaded successfully",timer:3500}),console.log("Profile Pic updated successfully","","success"),window.location.href=_.a.applicationRoot+"/components/generalUser/UpdateProfile"})).catch((function(e){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."})}))},children:"Upload New Photo"})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{"aria-label":"recipe",className:e.buttonStyleSub,onClick:function(){Uo.a.fire({title:"Are you sure?",text:"You won't be able to revert!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then((function(e){e.isConfirmed&&W.a.delete(l+t).then((function(e){console.log("Profile Pic is removed successfully")})).then((function(e){Uo.a.fire("Deleted!","Your image has been deleted.","success")})).catch((function(e){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.log(e)}))}))},children:"Remove Photo"})})]})})})},lr=Object(j.a)((function(e){return{root:{flexGrow:1,width:"80%"},cardStyles:{backgroundColor:"#FFFFFF",width:"96%",marginLeft:"150px",marginTop:"100px",borderRadius:"5px",marginBottom:"10px",padding:10},gridOneStyle:{marginTop:"10px",marginBottom:"20px",marginLeft:"250px",width:"100%"},gridOneItemTwoStyle:{fontSize:"24px",marginTop:"10px",marginBottom:"20px",color:"#4411A8",textAlign:"center"},gridTwoStyle:{marginTop:10,width:"100%",marginBottom:"15px"},gridTwoItemOneStyle:{marginLeft:"20px"},gridTwoItemTwoStyle:{marginLeft:"20px"},avatar:{backgroundColor:"#935FF9",width:"100px",height:"100px",margin:"auto"},buttonStyle:{backgroundColor:"#935FF9",width:"80%",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},"&:focus":{backgroundColor:"#4411A8"},marginBottom:"10px",marginLeft:"30px"}}}));var dr=function(){var e=Object(n.useState)("block"),t=Object(r.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)("none"),o=Object(r.a)(c,2),s=o[0],l=o[1],d=Object(n.useState)("none"),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)("none"),p=Object(r.a)(h,2),m=p[0],x=p[1],f=Object(n.useState)("none"),O=Object(r.a)(f,2),g=O[0],v=O[1],w=Object(n.useState)("none"),S=Object(r.a)(w,2),C=S[0],k=S[1],N=Object(n.useState)("none"),I=Object(r.a)(N,2),F=I[0],D=I[1],A=Object(n.useState)([]),_=Object(r.a)(A,2),B=_[0],P=_[1],E=Ea()._id,R=G("loggedIn_User");return Object(n.useEffect)((function(){W.a.post(R,{_id:E}).then((function(e){e&&(console.log(e.data),P(e.data))})).catch((function(){console.error("Profile loading failed")}))}),[]),Object(T.jsx)("div",{className:lr().root,children:Object(T.jsxs)(Z.a,{className:lr().cardStyles,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:lr().avatar,src:B.profilePicture})}),Object(T.jsx)(U.a,{children:Object(T.jsxs)(U.a,{item:!0,className:lr().gridOneItemTwoStyle,children:["Hi, ",B.name," !"]})}),Object(T.jsx)(De.a,{}),Object(T.jsxs)(U.a,{container:!0,spacing:1,className:lr().gridTwoStyle,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,className:lr().gridTwoItemOneStyle,children:[Object(T.jsx)(y.a,{className:lr().buttonStyle,onClick:function(){i("block"),l("none"),u("none"),x("none"),v("none"),k("none"),D("none")},children:"My Profile"}),Object(T.jsx)(y.a,{className:lr().buttonStyle,onClick:function(){i("none"),l("block"),u("none"),x("none"),v("none"),k("none"),D("none")},children:"Social Accounts"}),Object(T.jsx)(y.a,{className:lr().buttonStyle,onClick:function(){i("none"),l("none"),u("block"),x("none"),v("none"),k("none"),D("none")},children:"Profile Picture"}),Object(T.jsx)(y.a,{className:lr().buttonStyle,onClick:function(){i("none"),l("none"),u("none"),x("block"),v("none"),k("none"),D("none")},children:"Following Tags"}),Object(T.jsx)(y.a,{className:lr().buttonStyle,onClick:function(){i("none"),l("none"),u("none"),x("none"),v("block"),k("none"),D("none")},children:"My Followers"}),Object(T.jsx)(y.a,{className:lr().buttonStyle,onClick:function(){i("none"),l("none"),u("none"),x("none"),v("none"),k("block"),D("none")},children:"Following"}),Object(T.jsx)(y.a,{className:lr().buttonStyle,onClick:function(){i("none"),l("none"),u("none"),x("none"),v("none"),k("none"),D("block")},children:"My Collections"})]}),Object(T.jsxs)(U.a,{item:!0,xs:8,className:lr().gridTwoItemTwoStyle,children:[Object(T.jsx)(U.a,{style:{display:a},children:Object(T.jsx)(zo,{userID:B._id,userName:B.name,userBio:B.bio,userPersonalMail:B.personalEmail,userAcaMail:B.academicEmail,userGender:B.gender,userBday:B.birthday})}),Object(T.jsx)(U.a,{style:{display:s},children:Object(T.jsx)(Wo,{})}),Object(T.jsx)(U.a,{style:{display:b},children:Object(T.jsx)(sr,{})}),Object(T.jsx)(U.a,{style:{display:g},children:Object(T.jsx)(qo,{})}),Object(T.jsx)(U.a,{style:{display:C},children:Object(T.jsx)(Jo,{})}),Object(T.jsx)(U.a,{style:{display:m},children:Object(T.jsx)(ar,{userID:E})}),Object(T.jsx)(U.a,{style:{display:F},children:Object(T.jsx)(or,{})})]})]})]})})},jr=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"20px",maxWidth:"550px"},media:{height:0,paddingTop:"56.25%",borderRadius:5,marginLeft:10,marginRight:10},avatar:{backgroundColor:"#935FF9",width:"70px",height:"70px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"},titleStyle:{fontSize:"24px",textAlign:"left"},readTimeStyle:{textAlign:"center",fontSize:"14px",marginBottom:"0px"},authorStyle:{fontSize:"18px",display:"inline"}}}));function br(e){var t=e.author,a=e.profilePic,n=e.title,i=e.coverImg,c=e.readTime,o=e.postID,r=jr();return Object(T.jsx)("div",{children:Object(T.jsxs)(Z.a,{className:r.root,children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{"aria-label":"recipe",className:r.avatar,alt:"Profile image",src:a}),title:Object(T.jsxs)("p",{className:r.authorStyle,children:["Written by ",t]}),subheader:Object(T.jsxs)("p",{className:r.readTimeStyle,children:[" ",Math.ceil(c)," minutes read"]})}),Object(T.jsx)($.a,{className:r.media,image:i,title:"Cover Image"}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(L.a,{href:"/components/academicUser/viewArticle/"+o,style:{textDecoration:"none"},children:Object(T.jsx)("p",{className:r.titleStyle,children:n})})})]})})}var ur=a(282),hr=a.n(ur),pr=a(240),mr=a.n(pr),xr=a(283),fr=a.n(xr),Or=Object(j.a)({cardStyles:{width:"300px",padding:10},userBasicDetails:{textAlign:"center",fontSize:16},iconStyles:{color:"#4411A8",marginRight:20}});var gr=function(e){var t=e.userID,a=e.postCount,i=t,c=Object(n.useState)([]),o=Object(r.a)(c,2),s=o[0],l=o[1],d=G("loggedIn_User/get_all_tags");Object(n.useEffect)((function(){W.a.post(d,{user_id:i}).then((function(e){e.data&&l(e.data)})).catch((function(){console.error("Tags loading failed")}))}),[]);var j=0;s.map((function(e){return j+=1}));var b=Object(n.useState)([]),u=Object(r.a)(b,2),h=u[0],p=u[1],m=G("loggedIn_User/get_followingUsers");Object(n.useEffect)((function(){W.a.post(m,{user_id:i}).then((function(e){e.data&&p(e.data)})).catch((function(){console.error("Following Users loading failed")}))}),[]);var x=0;h.map((function(e){return x+=1}));var f=Object(n.useState)([]),O=Object(r.a)(f,2),g=O[0],v=O[1],y=G("loggedIn_User/get_followedBy");Object(n.useEffect)((function(){W.a.post(y,{user_id:i}).then((function(e){e.data&&v(e.data)})).catch((function(){console.error("Followed By loading failed")}))}),[]);var w=0;return g.map((function(e){return w+=1})),Object(T.jsx)("div",{children:Object(T.jsx)(Z.a,{className:Or().cardStyles,children:Object(T.jsx)(ee.a,{children:Object(T.jsxs)(ne.a,{variant:"body2",color:"textSecondary",component:"p",className:Or().userBasicDetails,children:[Object(T.jsxs)("p",{children:[Object(T.jsx)(hr.a,{className:Or().iconStyles}),"Posts created: ",a]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("p",{children:[Object(T.jsx)(mr.a,{className:Or().iconStyles}),"Tags following: ",j]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("p",{children:[Object(T.jsx)(li.a,{className:Or().iconStyles}),"Following authors: ",x]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("p",{children:[Object(T.jsx)(fr.a,{className:Or().iconStyles}),"Followed by: ",w]})]})})})})},vr=a(158),yr=Object(j.a)({root:{margin:"auto",marginBottom:10,marginTop:10}});var wr=function(e){var t=e.authorId,a=yr(),i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l={_id:t},d=G("loggedIn_User/get_socialAccounts");return Object(n.useEffect)((function(){W.a.post(d,l).then((function(e){s(e.data),console.log("social accounts: ",o)})).catch((function(){console.error("Socila Acconts loading failed")}))}),[]),Object(T.jsxs)("div",{className:a.root,children:[o.linkedin?Object(T.jsx)(vr.SocialIcon,{url:o.linkedin,style:{height:30,width:30,margin:10},bgColor:"#4411A8"}):Object(T.jsx)("span",{}),o.facebook?Object(T.jsx)(vr.SocialIcon,{url:o.facebook,style:{height:30,width:30,margin:10},bgColor:"#4411A8"}):Object(T.jsx)("span",{}),o.twitter?Object(T.jsx)(vr.SocialIcon,{url:o.twitter,style:{height:30,width:30,margin:10},bgColor:"#4411A8"}):Object(T.jsx)("span",{}),o.github?Object(T.jsx)(vr.SocialIcon,{url:o.github,style:{height:30,width:30,margin:10},bgColor:"#4411A8"}):Object(T.jsx)("span",{}),o.personal?Object(T.jsx)(vr.SocialIcon,{url:o.personal,style:{height:30,width:30,margin:10},bgColor:"#4411A8"}):Object(T.jsx)("span",{})]})},Sr=Object(j.a)({root:{flexGrow:1,marginTop:100,width:"77%",marginLeft:150,borderRadius:5},avatar:{backgroundColor:"#935FF9",marginBottom:"10px",marginLeft:"120px",width:80,height:80,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"},buttonStyle:{backgroundColor:"#935FF9",color:"#FFFFFF",marginTop:30,"&:hover":{backgroundColor:"#4411A8"},marginBottom:"20px"},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}},typographyStyle:{textAlign:"center",fontSize:"20px",margin:"auto",padding:10},title:{textAlign:"center",color:"#4411A8"},secondGrid:{marginTop:10},cardStyles:{width:"300px",padding:10},userBasicDetails:{textAlign:"left",fontSize:16},iconStyles:{color:"#4411A8",marginRight:20}});var Cr=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],c=Ea()._id.toString(),o={_id:c},s=G("loggedIn_User");Object(n.useEffect)((function(){W.a.post(s,o).then((function(e){i(e.data)})).catch((function(){console.error("Profile loading failed")}))}),[]);var l=Object(n.useState)([]),d=Object(r.a)(l,2),j=d[0],b=d[1],u=G("loggedIn_User/get_all_publication");Object(n.useEffect)((function(){W.a.post(u,{user_id:c}).then((function(e){e.data&&b(e.data)})).catch((function(){console.error("Posts loading failed")}))}),[]);var h=0;j.map((function(e){return h+=1}));var p=j.map((function(e){return e.article&&e.article.current?Object(T.jsx)(br,{postID:e._id,author:a.name,profilePic:a.profilePicture,title:e.article.current.title,coverImg:e.article.current.coverImage,readTime:e.article.current.readTime}):Object(T.jsx)("span",{})}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsx)(Z.a,{className:Sr().root,children:Object(T.jsxs)(ee.a,{children:[Object(T.jsxs)(U.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:Sr().avatar,src:a.profilePicture})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{"aria-label":"recipe",className:Sr().buttonStyle,children:Object(T.jsx)(ze.b,{className:Sr().linkStyles,to:"/components/academicUser/UpdateProfile",children:"Edit Profile"})})})]}),Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",className:Sr().title,children:a.name}),Object(T.jsxs)(ne.a,{variant:"body2",color:"textSecondary",component:"p",className:Sr().typographyStyle,children:[a.bio," ",a.faculty]}),Object(T.jsx)("div",{children:Object(T.jsx)(wr,{authorId:c})})]})})}),Object(T.jsx)("div",{children:Object(T.jsxs)(U.a,{className:Sr().secondGrid,container:!0,spacing:3,justifyContent:"center",children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(gr,{userID:c,postCount:h})}),Object(T.jsx)(U.a,{item:!0,children:p})]})})]})},kr=a(398),Nr=a.n(kr),Ir=Object(j.a)({root:{flexGrow:1,marginTop:100,width:"77%",marginLeft:150,borderRadius:5},avatar:{backgroundColor:"#935FF9",marginBottom:"10px",width:80,height:80,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"},morevertStyles:{color:"#4411A8",marginLeft:"5px"},buttonStyle:{backgroundColor:"#935FF9",color:"#FFFFFF",marginTop:30,"&:hover":{backgroundColor:"#4411A8"},marginBottom:"20px"},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}},typographyStyle:{textAlign:"center",fontSize:"16px"},title:{textAlign:"center",color:"#4411A8"},secondGrid:{marginTop:10},modalStyles:{width:"150px",marginLeft:"800px",marginTop:"250px"},modalTextStyle:{marginLeft:"20px"},followBtn:{backgroundColor:"#935FF9",color:"#FFFFFF",width:"150px",marginTop:"10px",marginBottom:"10px",marginLeft:"45px","&:hover":{backgroundColor:"#4411A8"}},reportBtn:{backgroundColor:"#FA2C2C",color:"#FFFFFF",marginRight:"20px",marginLeft:"10px",marginTop:"10px",marginBottom:"10px",width:"150px","&:hover":{backgroundColor:"#A50000"}},modalTitle:{textAlign:"center",marginBottom:"30px",color:"#4411A8"},modlaLabel:{fontSize:"20px",marginBottom:"10px"},modalInput:{marginRight:"20px",width:"550px",marginBottom:"20px",borderRadius:"4px"},modalCancelBtn:{backgroundColor:"#4411A8",color:"#FFFFFF",width:"150px",marginTop:"20px",marginBottom:"10px",marginLeft:"10px","&:hover":{backgroundColor:"#935FF9"}},modalReportBtn:{backgroundColor:"#FA2C2C",color:"#FFFFFF",marginRight:"20px",marginLeft:"130px",marginTop:"20px",marginBottom:"10px",width:"150px","&:hover":{backgroundColor:"#A50000"}}}),Fr={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"600px",backgroundColor:"#E1D4FC"}};var Dr=function(){var e=window.location.href.split("/").slice(-1)[0],t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Ea()._id,s=Object(n.useState)(""),l=Object(r.a)(s,2),d=l[0],j=l[1],b=Object(n.useState)(""),u=Object(r.a)(b,2),h=u[0],p=u[1],m=Object(n.useState)(!1),x=Object(r.a)(m,2),f=x[0],O=x[1],g={_id:e},v=G("loggedIn_User");Object(n.useEffect)((function(){W.a.post(v,g).then((function(e){c(e.data)})).catch((function(){console.error("Profile loading failed")}))}),[]);var w=Object(n.useState)([]),S=Object(r.a)(w,2),C=S[0],k=S[1],N=G("loggedIn_User/get_all_publication");Object(n.useEffect)((function(){W.a.post(N,{user_id:e}).then((function(e){e.data&&k(e.data)})).catch((function(){console.error("Posts loading failed")}))}),[]);var I=0;C.map((function(e){return I+=1}));var F=Object(n.useState)(""),D=Object(r.a)(F,2),A=D[0],_=D[1],B=G("loggedIn_User/get_followAuthor");Object(n.useEffect)((function(){W.a.post(B,{user_ID:o,writer_ID:e}).then((function(e){e.data.is_followed?_("Unfollow"):_("Follow")})).catch((function(){console.error("Follower checikng failed")}))}),[]);var P=C.map((function(e){return e.article?Object(T.jsx)(br,{postID:e._id,author:i.name,profilePic:i.profilePicture,title:e.article.current.title,coverImg:e.article.current.coverImage,readTime:e.article.current.readTime}):Object(T.jsx)("span",{})})),E=Object(n.useState)(!1),R=Object(r.a)(E,2),L=R[0],z=R[1];function M(){z(!1)}return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(Z.a,{className:Ir().root,children:Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(U.a,{container:!0,spacing:3,justifyContent:"center",children:Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:Ir().avatar,src:i.profilePicture})})}),Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",className:Ir().title,children:i.name}),Object(T.jsxs)(ne.a,{variant:"body2",color:"textSecondary",component:"p",className:Ir().typographyStyle,children:[i.bio," ",i.faculty]}),Object(T.jsx)(wr,{authorId:e}),Object(T.jsxs)(U.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{className:Ir().followBtn,onClick:function(){if("Follow"===A){console.log("Follow the user");var t=G("loggedIn_User/set_followAuthor");W.a.post(t,{user_ID:o,writer_ID:e}).then((function(e){_("Unfollow"),Uo.a.fire({icon:"success",title:"You are now following this author",timer:1500}),console.log("Author profile is followed")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("Author profile following got failed")}))}else{console.log("I want to Unfollow the user");var a=G("loggedIn_User/set_unFollowAuthor");W.a.post(a,{user_ID:o,writer_ID:e}).then((function(e){_("Follow"),Uo.a.fire({icon:"success",title:"You unfollowed this author",timer:1500}),console.log("Author profile is unfollowed")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("Author profile unfollowing got failed")}))}},children:A})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{disabled:f,className:Ir().reportBtn,onClick:function(){z(!0)},children:"Report"})})]})]})}),Object(T.jsxs)(Nr.a,{isOpen:L,onRequestClose:M,style:Fr,contentLabel:"Example Modal",children:[Object(T.jsx)(U.a,{children:Object(T.jsx)(U.a,{item:!0,alignContent:"center",children:Object(T.jsx)("h2",{className:Ir().modalTitle,children:"Report the author"})})}),Object(T.jsx)(U.a,{children:Object(T.jsxs)("form",{children:[Object(T.jsxs)(U.a,{item:!0,children:[Object(T.jsx)("label",{className:Ir().modlaLabel,children:"Title*"}),Object(T.jsx)(Dt.a,{className:Ir().modalInput,required:!0,value:d,onChange:function(e){j(e.target.value)}})]}),Object(T.jsxs)(U.a,{item:!0,children:[Object(T.jsx)("label",{className:Ir().modlaLabel,children:"Reason*"}),Object(T.jsx)(Dt.a,{className:Ir().modalInput,required:!0,value:h,onChange:function(e){p(e.target.value)}})]}),Object(T.jsxs)(U.a,{item:!0,children:[Object(T.jsx)(y.a,{className:Ir().modalReportBtn,onClick:function(){var t={report_type:"User",report_title:d,report_reason:h,reported_by:o,reported_author:e};console.warn("report",t),z(!1);var a=G("author_profile/report_author");W.a.post(a,t).then((function(e){O(!0),Uo.a.fire({icon:"success",title:"Your report has been recorded successfully",timer:2e3}),console.log("Author profile is reported")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("Author profile report is failed")}))},children:"Report"}),Object(T.jsx)(y.a,{className:Ir().modalCancelBtn,onClick:M,children:"Cancel"})]})]})})]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(U.a,{className:Ir().secondGrid,container:!0,spacing:3,justifyContent:"center",children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(gr,{userID:o,postCount:I})}),Object(T.jsx)(U.a,{item:!0,children:P})]})})]})},Ar=Object(j.a)((function(e){return{navBar:{display:"block",position:"absolute"}}}));function _r(){var e=Ar(),t="";return Ea()&&(Ea()._id,t=Ea().role),Object(T.jsxs)(ze.a,{children:[""===t?Object(T.jsx)(R,{}):"academic"===t?Object(T.jsx)(Mn,{className:e.navBar}):Object(T.jsx)(Dc,{}),Object(T.jsxs)(ke.c,{children:[Object(T.jsx)(ke.a,{path:"/components/academicUser/",exact:!0,component:ho}),Object(T.jsx)(ke.a,{path:"/components/academicUser/tagLookup",component:ho}),Object(T.jsx)(ke.a,{path:"/components/academicUser/academicDashboard",component:vi}),Object(T.jsx)(ke.a,{path:"/components/academicUser/createPost",component:Ti}),Object(T.jsx)(ke.a,{path:"/components/academicUser/writeArticle",component:cc}),Object(T.jsx)(ke.a,{path:"/components/academicUser/articleVersioning",component:vo}),Object(T.jsx)(ke.a,{path:"/components/academicUser/uploadMedia",component:xo}),Object(T.jsx)(ke.a,{path:"/components/academicUser/previewPost",component:hc}),Object(T.jsx)(ke.a,{path:"/components/academicUser/search",component:_c}),Object(T.jsx)(ke.a,{path:"/components/academicUser/viewArticle",component:ao}),Object(T.jsx)(ke.a,{path:"/components/academicUser/Notifications/AllNotifications",component:Po}),Object(T.jsx)(ke.a,{path:"/components/academicUser/UpdateProfile",component:dr}),Object(T.jsx)(ke.a,{path:"/components/academicUser/ProfileInfo",component:Cr}),Object(T.jsx)(ke.a,{path:"/components/academicUser/AuthorProfile",component:Dr})]})]})}var Tr=Object(j.a)((function(e){return{root:Object(d.a)({background:"#4411A8",paddingLeft:"0px",paddingRight:"0px"},e.breakpoints.up("sm"),{paddingLeft:"10%",paddingRight:"10%"}),edupulseIcon:{marginRight:e.spacing(2)},postbutton:{backgroundColor:"#935FF9",borderRadius:"50px","&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},color:"white",width:"20%",marginRight:e.spacing(2)},grow:{flexGrow:1},menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:"50px",backgroundColor:Object(b.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"40%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),linkStyles:{color:"inherit",textDecoration:"none","&:hover":{color:"inherit",textDecoration:"none"}}}}));function Br(){var e=Tr(),t=i.a.useState(null),a=Object(r.a)(t,2),n=a[0],c=a[1],o=i.a.useState(null),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Boolean(n),b=Boolean(l),x=function(){d(null)},f=function(){c(null),x()},O="primary-search-account-menu",w=Object(T.jsxs)(Ia.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:O,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:f,children:[Object(T.jsx)(ze.b,{className:Tr().linkStyles,to:"/components/generalUser/ProfileInfo",children:Object(T.jsx)(_t.a,{onClick:f,children:"View Profile"})}),Object(T.jsx)(ze.b,{className:Tr().linkStyles,to:"/components/generalUser/UpdateProfile",children:Object(T.jsx)(_t.a,{onClick:f,children:"Edit Profile"})}),Object(T.jsx)(mt.a,{display:"flex",alignItems:"center",justifyContent:"center",pt:1,children:Object(T.jsx)(y.a,{color:"secondary",variant:"outlined",onClick:function(e){e.preventDefault(),window.location.href=_.a.applicationRoot+"/openid/logout"},children:"Logout"})})]}),S="primary-search-account-menu-mobile",C=Object(T.jsxs)(Ia.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:S,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:x,children:[Object(T.jsx)(ze.b,{className:Tr().linkStyles,to:"/components/generalUser/ProfileInfo",children:Object(T.jsx)(_t.a,{onClick:f,children:"View Profile"})}),Object(T.jsx)(ze.b,{className:Tr().linkStyles,to:"/components/generalUser/UpdateProfile",children:Object(T.jsx)(_t.a,{onClick:f,children:"Edit Profile"})}),Object(T.jsx)(mt.a,{display:"flex",alignItems:"center",justifyContent:"center",pt:1,children:Object(T.jsx)(ze.b,{className:Tr().linkStyles,to:"/components/generalUser/UpdateProfile",children:Object(T.jsx)(y.a,{color:"secondary",variant:"outlined",children:"Logout"})})})]});return Object(T.jsxs)("div",{className:e.grow,children:[Object(T.jsx)(u.a,{position:"fixed",className:e.root,children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)(ze.b,{className:Tr().linkStyles,to:"/components/generalUser",children:Object(T.jsx)("div",{className:e.edupulseIcon,children:Object(T.jsx)("img",{src:v,alt:"logo",style:{width:"50px",height:"50px"}})})}),Object(T.jsxs)("div",{className:e.search,children:[Object(T.jsx)("div",{className:e.searchIcon,children:Object(T.jsx)(g.a,{})}),Object(T.jsx)(m.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&window.location.assign("/components/generalUser/search/"+e.target.value)}})]}),Object(T.jsx)("div",{className:e.grow}),Object(T.jsxs)("div",{className:e.sectionDesktop,children:[Object(T.jsx)(ze.b,{className:Tr().linkStyles,to:"/components/generalUser/AllNotifications",children:Object(T.jsx)(p.a,{"aria-label":"show 17 new notifications",color:"inherit",style:{color:"#FFF"},children:Object(T.jsx)(Na.a,{color:"secondary",children:Object(T.jsx)(_a.a,{})})})}),Object(T.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":O,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(T.jsx)(I.a,{})})]}),Object(T.jsx)("div",{className:e.sectionMobile,children:Object(T.jsx)(p.a,{"aria-label":"show more","aria-controls":S,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:Object(T.jsx)(se.a,{})})})]})}),C,w]})}function Pr(e){var t=e.userID,a=e.postID,c=Object(n.useState)(!0),o=Object(r.a)(c,2),l=o[0],d=o[1];Object(n.useEffect)((function(){""!==t&&d(!1)}),[]);var j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],m=G("add_to_library/is_available_at_library");Object(n.useEffect)((function(){var e={post_ID:a,user_ID:t};""!==t&&W.a.post(m,e).then((function(e){e.data.post_available&&v("#935FF9")})).catch((function(){console.error("collection availability check failed")}))}),[m]);var x=G("add_to_library/get_collection_list");Object(n.useEffect)((function(){""!==t&&W.a.post(x,{user_ID:t}).then((function(e){h(e.data)})).catch((function(){console.error("collection load failed")}))}),[x]);var f=i.a.useState("black"),O=Object(r.a)(f,2),g=O[0],v=O[1],y=i.a.useState(!1),w=Object(r.a)(y,2),S=w[0],C=w[1],k=i.a.useRef(null),N=function(e){if("Enter"===e.key){var n=G("add_to_library/create_collection_save_post"),i={post_ID:a,user_ID:t,collection_name:e.target.value};e.target.value="",W.a.post(n,i).then((function(e){console.log("collection created and saved"),v("#935FF9")})).catch((function(){console.error("ccas failed")})),C(!1)}},I=function(e){var n=G("add_to_library/save_post"),i={post_ID:a,user_ID:t,collection_name:e.target.value};e.target.value="",W.a.post(n,i).then((function(e){console.log("collection created and saved"),v("#935FF9")})).catch((function(){console.error("ccas failed")})),C(!1)},F=function(e){k.current&&k.current.contains(e.target)||C(!1)};function D(e){"Tab"===e.key&&(e.preventDefault(),C(!1))}var A=i.a.useRef(S);return i.a.useEffect((function(){!0===A.current&&!1===S&&k.current.focus(),A.current=S}),[S]),Object(T.jsxs)("div",{children:[Object(T.jsx)(p.a,{"aria-label":"addToLibrary",ref:k,"aria-controls":S?"menu-list-grow":void 0,"aria-haspopup":"true",style:{color:g},disabled:l,onClick:function(){C((function(e){return!e}))},children:Object(T.jsx)(vc.a,{fontSize:"large"})}),Object(T.jsx)(yc.a,{open:S,anchorEl:k.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,a=e.placement;return Object(T.jsx)(wc.a,Object(s.a)(Object(s.a)({},t),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(T.jsx)(Ye.a,{children:Object(T.jsx)(Sc.a,{onClickAway:F,children:Object(T.jsxs)(Cc.a,{autoFocusItem:S,id:"menu-list-grow",onKeyDown:D,children:[u.map((function(e){return Object(T.jsx)(_t.a,{value:e.name,children:Object(T.jsx)(Dt.a,{style:{border:"none",color:"#000"},"aria-disabled":!0,onClick:I,value:e.name})})})),Object(T.jsx)(_t.a,{children:Object(T.jsx)(Dt.a,{placeholder:"Create new collection",onKeyPress:N})})]})})})}))}})]})}var Er=Object(j.a)((function(e){return{root:{width:320,height:467,borderRadius:5,margin:10},media:{height:0,paddingTop:"56.25%"},authorInfo:{fontSize:18,fontWeight:550},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},summaryValues:{textAlign:"center"},title:{textAlign:"center",fontWeight:600,height:85,fontSize:30,overflow:"hidden"},profilePic:{width:50,height:50,margin:"auto"}}}));function Rr(e){var t=e.userID,a=e.postID,n=e.title,i=e.coverImage,c=e.author,o=e.authorPP,r=e.authorID,s=e.publishedData,l=e.likes,d=e.viewCount,j=e.readTime,b=Er(),u=0;return l.map((function(e){"undefined"!==typeof e.by&&u++})),Object(T.jsxs)(Z.a,{className:b.root,children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{alt:"Profile image",className:b.profilePic,src:o}),title:Object(T.jsx)("span",{className:b.authorInfo,children:Object(T.jsx)(L.a,{href:"/components/generalUser/userProfile/"+r,style:{fontWeight:600,textDecoration:"none",overflow:"hidden"},children:c})}),subheader:Object(La.a)(new Date(s),new Date,{addSuffix:!0})}),Object(T.jsx)($.a,{className:b.media,image:i}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(ne.a,{variant:"h5",color:"",component:"h5",className:b.title,children:Object(T.jsx)(Wt.a,{title:n,"aria-label":n,children:Object(T.jsx)(L.a,{href:"/components/generalUser/viewArticle/"+a,style:{fontWeight:600,textDecoration:"none",height:85,overflow:"hidden"},children:n})})})}),Object(T.jsx)(te.a,{disableSpacing:!0,children:Object(T.jsxs)(U.a,{container:!0,spacing:3,className:b.statSection,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,className:b.summaryValues,children:[Object(T.jsx)(Gn.a,{})," ",Object(T.jsx)("br",{}),u," ",Object(T.jsx)("br",{}),"Likes"]}),Object(T.jsxs)(U.a,{item:!0,xs:3,className:b.summaryValues,children:[Object(T.jsx)(be.a,{})," ",Object(T.jsx)("br",{}),d," ",Object(T.jsx)("br",{}),"Views"]}),Object(T.jsxs)(U.a,{item:!0,xs:3,className:b.summaryValues,style:{paddingTop:20},children:[Math.ceil(j)," min Read"]}),Object(T.jsx)(U.a,{item:!0,xs:3,className:b.summaryValues,children:Object(T.jsx)(Pr,{postID:a,userID:t})})]})})]})}var Ur=Object(j.a)((function(e){return{root:{width:320,height:467,borderRadius:5,margin:10},media:{height:0,paddingTop:"56.25%"},authorInfo:{fontSize:18,fontWeight:550},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},summaryValues:{textAlign:"center"},message:{textAlign:"justify",overflow:"hidden",display:"block",textDecoration:"none"},profilePic:{width:50,height:50,margin:"auto"}}}));function Lr(e){var t=e.publicName,a=e.email,n=e.mediaType,i=e.media,c=e.description,o=e.link,r=Ur();return Object(T.jsxs)(Z.a,{className:r.root,style:{backgroundColor:"#e1dede"},children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{style:{backgroundColor:ie.a[500]},children:"Ads"}),title:Object(T.jsx)("span",{className:r.authorInfo,children:Object(T.jsx)(L.a,{href:o,style:{fontWeight:600,textDecoration:"none"},children:t})}),subheader:a}),"Image"===n?Object(T.jsx)($.a,{className:r.media,image:i}):Object(T.jsx)("iframe",{src:i,frameBorder:"0"}),Object(T.jsx)(ee.a,{style:{margin:10},children:Object(T.jsx)(L.a,{href:o,target:"_blank",className:r.message,children:c})})]})}Object(j.a)((function(e){return{root:{width:320,height:467,borderRadius:5,margin:10},media:{height:0,paddingTop:"56.25%"},authorInfo:{fontSize:18,fontWeight:550},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},summaryValues:{textAlign:"center"},title:{textAlign:"center",fontWeight:600,height:85,fontSize:30,overflow:"hidden"},profilePic:{width:50,height:50,margin:"auto"}}}));var zr=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],c=G("tag_operation/");Object(n.useEffect)((function(){W.a.get(c).then((function(e){var t=0,a=[];e.data.map((function(n){0!==Math.floor(Math.random()*Math.ceil(e.data.length/10))&&(a[t++]={label:n.verbose,value:n._id})})),i(a)})).catch((function(){console.error("load failed")}))}),[]);var o=Array("primary","default","secondary");return Object(T.jsx)("div",{children:a.length>0?a.map((function(e){return Object(T.jsx)(L.a,{href:"/components/generalUser/tagLookup/"+e.value,style:{textDecoration:"none"},children:Object(T.jsx)(z.a,{variant:"filled",color:o[Math.floor(3*Math.random())],label:e.label,style:{margin:10,fontSize:15}})})})):Object(T.jsxs)("div",{children:[Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6,marginTop:10}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}})]})})},Mr=Object(j.a)((function(e){return{root:{flexGrow:1},mainGrid:{marginTop:"80px",width:"95%"},paper:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#DFDAE8",borderRadius:"15px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"300px"},formTitleContainer:{backgroundColor:"#4411A8",width:"80%",marginTop:"10px",borderRadius:"5px",padding:"5px 5px",marginBottom:"20px"},formTitle:{color:"white"},textfield:{margin:e.spacing(1,2,1,0)},formControl:{margin:e.spacing(1,0),minWidth:250},formControl1:{margin:e.spacing(1,0),width:300},newad:{borderRadius:"50px",backgroundColor:"green"},button:{margin:e.spacing(1)}}}));function Wr(){return[1,2,3].map((function(){return Object(T.jsxs)(Z.a,{style:{width:320,height:467,margin:10},children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(V.a,{animation:"wave",variant:"circle",width:40,height:40}),title:Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:Object(T.jsx)(V.a,{animation:"wave",height:10,width:"40%"})}),Object(T.jsx)(V.a,{animation:"wave",variant:"rect",style:{paddingTop:"56.25%"}}),Object(T.jsx)(ee.a,{children:Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)(V.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"60%",style:{marginBottom:6}}),Object(T.jsx)(V.a,{animation:"wave",height:10,width:"80%"})]})})]})}))}function Vr(){var e=Mr(),t=window.location.href.split("/").slice(-1)[0];console.log(t);var a=Object(n.useState)("new"==t),i=Object(r.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(!1),j=Object(r.a)(l,2),b=j[0],u=j[1],h=Object(n.useState)([]),p=Object(r.a)(h,2),m=p[0],x=p[1],f=Object(n.useState)({userID:"",userType:"",uniName:"",facName:"",acaEmail:"",acaRole:""}),O=Object(r.a)(f,2),g=O[0],v=O[1],C=function(){o(!1),u(!1)},k=function(e){v((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))},N=G("/Signup/getInstitutes");Object(n.useEffect)((function(){W.a.get(N).then((function(e){x(e.data),console.log(e.data)})).catch((function(){console.error("Institutes loading failed")}))}),[]);var I=Object(n.useState)(!1),F=Object(r.a)(I,2),D=F[0],A=F[1],B=(Object(ke.f)(),function(){A(!1)}),P=Object(n.useState)({userID:"",gender:"",birthday:""}),E=Object(r.a)(P,2),R=E[0],L=E[1],z=function(e){L((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))},M="",V="";Ea()&&(M=Ea()._id,V=Ea().role),console.log(M),console.log(V);var Y=window.location.href.split("/").slice(-1)[0],q=Object(n.useState)([]),H=Object(r.a)(q,2),K=H[0],Q=H[1],J=Object(n.useState)([]),Z=Object(r.a)(J,2),X=Z[0],$=(Z[1],Object(n.useState)([])),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ie=Object(n.useState)([]),ce=Object(r.a)(ie,2),oe=ce[0],re=ce[1],se=Object(n.useState)([]),le=Object(r.a)(se,2),de=le[0],je=le[1];Object(n.useEffect)((function(){""!==Y&&"tagLookup"===window.location.href.split("/").slice(-2)[0]?W.a.post(G("home_function/search_by_tag"),{tag_ID:Y}).then((function(e){Q(e.data)})).catch((function(){console.error("load failed")})):(""!==M&&(W.a.post(G("home_function/get_post_form_followers"),{user_ID:M}).then((function(e){re(e.data)})).catch((function(){console.error("load failed")})),W.a.post(G("home_function/get_post_form_following_tags"),{user_ID:M}).then((function(e){je(e.data)})).catch((function(){console.error("load failed")}))),W.a.get(G("home_function/non_login_content")).then((function(e){ae(e.data)})).catch((function(){console.error("load failed")})))}),[]),Object(n.useEffect)((function(){var e=[];te.map((function(t){return e.push(t)})),oe.map((function(t){return e.push(t)})),de.map((function(t){return e.push(t)}));var t=new Set,a=e.filter((function(e){return!t.has(e._id)&&t.add(e._id)}));Q(a)}),[X,te,oe]);var be=Object(n.useState)([]),ue=Object(r.a)(be,2),he=ue[0],pe=ue[1],me=G("home_function/get_adds");Object(n.useEffect)((function(){W.a.get(me).then((function(e){pe(e.data)})).catch((function(){console.error("load failed")}))}),[]);for(var xe=[],fe=Math.ceil(K.length/15),Oe=0,ge=0,ve=0,ye=fe+K.length;Oe<ye;)Math.random()<.2&&fe>ve?(xe.push([!1,he[Math.round(Math.random()*(he.length-1))]]),ve++):K[ge]&&xe.push([!0,K[ge++]]),Oe++;return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{align:"center",children:Object(T.jsxs)(U.a,{container:!0,spacing:2,className:e.mainGrid,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,style:{float:"left"},children:[Object(T.jsx)(ne.a,{variant:"h5",style:{textAlign:"center"},children:"Trending Tags"}),Object(T.jsx)(zr,{})]}),Object(T.jsx)(U.a,{item:!0,xs:9,children:Object(T.jsx)(U.a,{container:!0,spacing:3,style:{display:"flex"},children:xe.length?xe.map((function(e){return e[0]?"pin"!==e[1].type?Object(T.jsx)(Rr,{userID:M,authorID:e[1].author._id,postID:e[1]._id,title:e[1].article.current.title,author:e[1].author.name,authorPP:e[1].author.profilePicture,publishedData:e[1].createdAt,coverImage:e[1].article.current.coverImage,likes:e[1].article.upvotes,viewCount:e[1].viewCount,readTime:e[1].article.current.readTime}):console.log(e[1]):e[1]?Object(T.jsx)(Lr,{publicName:e[1].publicName,media:e[1].advertisements[0].Media,mediaType:e[1].advertisements[0].type,link:e[1].advertisements[0].redirectLink,email:e[1].contactDetails.email,description:e[1].advertisements[0].Description}):Wr()})):Wr()})})]})}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:c,onClose:C,closeAfterTransition:!0,BackdropComponent:S.a,disableBackdropClick:!0,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:c,children:Object(T.jsx)(mt.a,{className:e.paper,children:Object(T.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t={userID:M,userType:g.userType,uniName:g.uniName,facName:g.facName,acaEmail:g.acaEmail,acaRole:g.acaRole};console.log(t);var a=G("Signup/role");W.a.post(a,t).then((function(e){console.log(e),v({userType:"",uniName:"",facName:"",acaEmail:"",acaRole:""})})).catch((function(e){console.log(e)}))},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)("h4",{children:"Are you related to Academics ?"})}),Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsxs)(Tt.a,{variant:"outlined",className:e.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Select Answer"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Advertisment type",name:"userType",onChange:function(e){v((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))})),"userType"==e.target.name&&"Yes"==e.target.value?u(!0):u(!1)},defaultValue:"No",children:[Object(T.jsx)(_t.a,{value:"Yes",defaultValue:!0,children:"Yes"}),Object(T.jsx)(_t.a,{value:"No",children:"No"})]})]})}),Object(T.jsxs)(xt.a,{in:b,children:[Object(T.jsx)("h4",{children:"Acdemic Details"}),Object(T.jsx)("div",{children:Object(T.jsxs)(Tt.a,{variant:"outlined",className:e.formControl1,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"University"}),Object(T.jsx)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Select University",name:"uniName",onChange:k,defaultValue:"",children:m.map((function(e){return Object(T.jsx)(_t.a,{value:e._id,children:e.name})}))})]})}),Object(T.jsx)("div",{children:Object(T.jsx)(Dt.a,{id:"outlined-full-width",label:"Academic Email",placeholder:"Placeholder",fullWidth:!0,variant:"outlined",className:e.textfield,value:g.acaEmail,name:"acaEmail",onChange:k})}),Object(T.jsx)("div",{children:Object(T.jsxs)(Tt.a,{variant:"outlined",className:e.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Academic Role"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Select Academic Role",name:"acaRole",onChange:k,defaultValue:"",style:{width:"250px"},children:[Object(T.jsx)(_t.a,{value:"undergraduate",defaultValue:!0,children:"Undergraduate"}),Object(T.jsx)(_t.a,{value:"staff",children:"staff"}),Object(T.jsx)(_t.a,{value:"lecturer",children:"lecturer"})]})]})})]}),Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},onclick:C,children:Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){C(),A(!0)},type:"submit",children:"Next"})})]})})})}),Object(T.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:D,onClose:B,closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(T.jsx)(ut.a,{in:D,children:Object(T.jsx)("div",{className:e.paper,children:Object(T.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t={userID:M,gender:R.gender,birthday:R.birthday};console.log(t);var a=G("/Signup/perDetails");W.a.post(a,t).then((function(e){pt()("Registered successfully","","success"),console.log(e),L({userID:"",gender:"",brithday:""}),window.location.href=_.a.applicationRoot+"/?signin=true"})).catch((function(e){console.log(e)}))},children:[Object(T.jsx)("h4",{children:"Personal Details"}),Object(T.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(T.jsxs)(Tt.a,{variant:"outlined",className:e.formControl,children:[Object(T.jsx)(At.a,{id:"demo-simple-select-outlined-label",children:"Gender"}),Object(T.jsxs)(Bt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Gender",name:"gender",onChange:z,defaultValue:"",children:[Object(T.jsx)(_t.a,{value:"Male",defaultValue:!0,children:"Male"}),Object(T.jsx)(_t.a,{value:"Female",children:"Female"})]})]})}),Object(T.jsx)("div",{style:{display:"flex"},children:Object(T.jsx)(Tt.a,{variant:"outlined",className:e.formControl,children:Object(T.jsx)(Dt.a,{id:"datetime-local",label:"Birthday",type:"date",fullWidth:!0,variant:"outlined",defaultValue:"",className:e.textField,InputLabelProps:{shrink:!0},name:"birthday",onChange:z})})}),Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)(ze.b,{to:"/components/generalUser",children:Object(T.jsx)(y.a,{variant:"contained",color:"primary",className:e.button,onClick:B,type:"submit",children:"Next"})})})]})})})})]})}var Gr=Object(j.a)({root:{width:285,height:300,margin:10,borderRadius:5,paddingTop:5,display:"grid"},profilePic:{width:80,height:80,margin:"auto"},bio:{textAlign:"center",fontSize:16,overflow:"hidden"},name:{textAlign:"center",fontWeight:"bold"}});function Yr(e){var t=e.userID,a=Gr(),i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=G("get_user_data/");return Object(n.useEffect)((function(){W.a.post(l,{_id:t}).then((function(e){e.data&&s(e.data[0])})).catch((function(){console.error("load failed")}))}),[]),Object(T.jsx)("div",{children:Object(T.jsxs)(Z.a,{className:a.root,children:[Object(T.jsx)(ae.a,{alt:"Profile image",className:a.profilePic,src:o.profilePicture}),Object(T.jsx)(Ya.a,{children:Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",className:a.name,children:Object(T.jsx)(L.a,{href:"/components/generalUser/userProfile",style:{textDecoration:"none",wordWrap:"break-word"},children:o.name})}),Object(T.jsx)(ne.a,{variant:"body2",color:"textSecondary",component:"p",className:a.bio,children:o.bio})]})})]})})}var qr=Object(j.a)({root:{width:340,margin:10},media:{height:140,borderRadius:5}});function Hr(e){var t=e.name,a=e.location,n=e.description,i=e.coverImage,c=qr();return Object(T.jsx)(Z.a,{className:c.root,children:Object(T.jsxs)(Ya.a,{children:[Object(T.jsx)($.a,{className:c.media,image:i,title:"Contemplative Reptile"}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:Object(T.jsx)(L.a,{href:"/components/generalUser/viewUniversityProfile",style:{fontWeight:600,textDecoration:"none"},children:t})}),Object(T.jsxs)(ne.a,{variant:"subtitle1",color:"textSecondary",component:"p",style:{textAlign:"justify"},children:[Object(T.jsxs)("span",{style:{fontWeight:600},children:[Object(T.jsx)(xc.a,{})," \xa0 ",a]})," ",Object(T.jsx)("br",{}),n]})]})]})})}var Kr=Object(j.a)((function(){return{root:{flexGrow:1,width:"50%"},navBar:{display:"block",position:"absolute"},pageContent:{paddingTop:100,margin:30},topOptions:{margin:"auto",display:"table"},optionUnit:{width:200,padding:10,fontWeight:550},resultSection:{margin:"auto"},sectionItems:{margin:"auto"}}}));function Qr(){var e=Kr(),t="";Ea()&&(t=Ea()._id,Ea().role);var a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s=Object(n.useState)([]),l=Object(r.a)(s,2),d=l[0],j=l[1],b=Object(n.useState)([]),u=Object(r.a)(b,2),h=u[0],p=u[1],m=G("search_operation/post"),x=G("search_operation/institute"),f=G("search_operation/people"),O={search_key:decodeURI(window.location.href.split("/").slice(-1)[0])};Object(n.useEffect)((function(){W.a.post(m,O).then((function(e){e.data&&o(e.data)})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){W.a.post(x,O).then((function(e){p(e.data)})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){W.a.post(f,O).then((function(e){j(e.data)})).catch((function(){console.error("load failed")}))}),[]);var v=Object(n.useState)(["none","#000"]),w=Object(r.a)(v,2),S=w[0],C=w[1],k=Object(n.useState)(["none","#000"]),N=Object(r.a)(k,2),I=N[0],F=N[1],D=Object(n.useState)(["none","#000"]),A=Object(r.a)(D,2),_=A[0],B=A[1];return console.log(c.length,d.length,h.length),Object(n.useEffect)((function(){C(["none","#000"]),B(["none","#000"]),F(["none","#000"]),c.length>d.length?c.length>h.length?C(["flex","#935FF9"]):B(["flex","#935FF9"]):d.length>h.length?F(["flex","#935FF9"]):B(["flex","#935FF9"])}),[c,d,h]),Object(T.jsxs)("div",{children:[Object(T.jsx)(U.a,{className:e.pageContent,children:Object(T.jsxs)(pc.a,{color:"","aria-label":"secondary button group",className:e.topOptions,children:[Object(T.jsx)(y.a,{className:e.optionUnit,style:{color:S[1]},onClick:function(){C(["flex","#935FF9"]),F(["none","#000"]),B(["none","#000"])},children:"Posts"}),Object(T.jsx)(y.a,{className:e.optionUnit,style:{color:I[1]},onClick:function(){C(["none","#000"]),F(["flex","#935FF9"]),B(["none","#000"])},children:"People"}),Object(T.jsx)(y.a,{className:e.optionUnit,style:{color:_[1]},onClick:function(){C(["none","#000"]),F(["none","#000"]),B(["flex","#935FF9"])},children:"University"})]})}),Object(T.jsxs)(U.a,{container:!0,spacing:3,className:e.resultSection,children:[Object(T.jsx)(U.a,{item:!0,xs:2}),Object(T.jsxs)(U.a,{item:!0,xs:8,children:[Object(T.jsx)(U.a,{container:!0,spacing:3,className:e.sectionItems,style:{display:S[0]},children:c.length?c.map((function(e){return Object(T.jsx)(Rr,{userID:t,postID:e._id,title:e.article.current.title,author:e.author.name,authorID:e.author._id,authorPP:e.author.profilePicture,publishedData:e.createdAt,coverImage:e.article.current.coverImage,likes:e.article.upvotes,viewCount:e.viewCount,readTime:e.article.current.readTime})})):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:80,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(g.a,{fontSize:"large"})," Search Not Found for Post Category...",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try Other Sections."})]})}),Object(T.jsx)(U.a,{container:!0,spacing:3,className:e.sectionItems,style:{display:I[0]},children:d.length?d.map((function(e){return Object(T.jsx)(Yr,{userID:e._id})})):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:80,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(g.a,{fontSize:"large"})," Search Not Found for People Category...",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try Other Sections."})]})}),Object(T.jsx)(U.a,{container:!0,spacing:3,className:e.sectionItems,style:{display:_[0]},children:h.length?h.map((function(e){return Object(T.jsx)(Hr,{name:e.name,description:e.description,location:e.contactDetails.address.city+","+e.contactDetails.address.country,coverImage:e.coverImage})})):Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:80,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(g.a,{fontSize:"large"})," Search Not Found for University Category...",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try Other Sections."})]})})]}),Object(T.jsx)(U.a,{item:!0,xs:2})]})]})}function Jr(e){var t=e.userID,a=e.objectID,c=e.goingToReport,o=Object(n.useState)(""),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Object(n.useState)(""),b=Object(r.a)(j,2),u=b[0],h=b[1],p=Object(n.useState)(""),m=Object(r.a)(p,2),x=m[0],f=m[1],O=Object(n.useState)(!1),g=Object(r.a)(O,2),v=g[0],w=g[1];Object(n.useEffect)((function(){""===t&&w(!0)}),[]);var S=G("report_operation/check_already_reported");Object(n.useEffect)((function(){var e={object_ID:a,user_ID:t,object_type:c};""!==t&&W.a.post(S,e).then((function(e){e.data.report_available&&w(!0)})).catch((function(){console.error("load failed")}))}),[]);var C=i.a.useState(!1),k=Object(r.a)(C,2),N=k[0],I=k[1],F=Object(n.useState)("1px solid black"),D=Object(r.a)(F,2),A=D[0],_=D[1],B=function(){I(!0)},P=function(){_("1px solid black"),I(!1)};return Object(T.jsxs)("div",{children:["post"===c?Object(T.jsx)(y.a,{onClick:B,disabled:v,children:"Report Abuse"}):Object(T.jsx)(y.a,{onClick:B,disabled:v,children:Object(T.jsx)("span",{children:Object(T.jsx)(rc.a,{})})}),Object(T.jsxs)(qa.a,{open:N,onClose:P,"aria-labelledby":"form-dialog-title",children:[Object(T.jsx)(dn.a,{id:"form-dialog-title",children:"Report Article/Post/Comments"}),Object(T.jsxs)(jn.a,{children:[Object(T.jsx)(bn.a,{children:"If you think this post/article/comment is not suitable to be in this system, you can report it to the system management. You can put only one report for any given post/article/comment."}),Object(T.jsxs)(Tt.a,{style:{minWidth:"100%"},children:["Type of the Report:",Object(T.jsxs)(Bt.a,{id:"demo-customized-select-q2",onChange:function(e){return f(e.target.value)},style:{borderBottom:A},fullWidth:!0,required:!0,children:[Object(T.jsx)(_t.a,{value:"spam",defaultChecked:!0,children:"Spam"}),Object(T.jsx)(_t.a,{value:"harassment",children:"Harassment"}),Object(T.jsx)(_t.a,{value:"content ownership",children:"Content Ownership"}),Object(T.jsx)(_t.a,{value:"other",children:"Other"})]})]}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Title:",Object(T.jsx)(Dt.a,{margin:"dense",style:{borderBottom:A},id:"name",label:"Title",type:"text",fullWidth:!0,required:!0,onChange:function(e){return d(e.target.value)}}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Message:",Object(T.jsx)(Dt.a,{multiline:!0,style:{borderBottom:A},rows:5,autoFocus:!0,margin:"dense",id:"name",label:"Message",fullWidth:!0,required:!0,onChange:function(e){return h(e.target.value)}})]}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:P,color:"primary",children:"Cancel"}),Object(T.jsx)(y.a,{onClick:function(){""!==l&&""!==u&&""!==x?(!function(e){var n;n="post"===c?{reportedBy:t,type:c,category:x,title:l,message:u,against:{post:a}}:{reportedBy:t,type:c,category:x,title:l,message:u,against:{comment:a}},W.a.post(G("reports"),n).then((function(e){e?(console.log("report create."),w(!0)):console.log("report not placed.")})).catch((function(){console.error("something went wrong.")}))}(),P()):_("4px solid red")},color:"primary",children:"Submit Report"})]})]})]})}function Zr(e){var t=e.tagList,a=Array("primary","default","secondary"),i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=G("tag_operation/");return Object(n.useEffect)((function(){W.a.get(l).then((function(e){e.data&&s(e.data)})).catch((function(){console.error("load failed")}))}),[]),"undefined"!==typeof t?Object(T.jsx)(ee.a,{children:o.map((function(e){return t.map((function(t){return e._id===t?Object(T.jsx)(L.a,{href:"/components/generalUser/tagLookup/"+t,style:{textDecoration:"none"},children:Object(T.jsx)(z.a,{variant:"outlined",color:a[Math.floor(3*Math.random())],label:e.verbose,style:{margin:10,fontSize:18,padding:10}})}):Object(T.jsx)("span",{})}))}))}):Object(T.jsx)("span",{})}var Xr=Object(j.a)((function(e){return{root:{flexGrow:1,marginLeft:30},media:{height:350},title:{textAlign:"left",fontWeight:"bold"},tags:{margin:e.spacing(1),fontWeight:"bold",borderRadius:"50px",fontSize:17},content:{fontSize:20,margin:20},contentFooter:{textAlign:"center",display:"block",padding:10},ccImage:{width:150,display:"block",padding:20,float:"right"}}}));function $r(e){var t=e.userID,a=e.type,n=e.articleID,i=e.customWidth,c=e.coverImage,o=e.title,r=e.tagList,s=e.content,l=e.licence;if("article"===a)s="<style>@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap');\n\n.content-wrap {\n    margin: 30px;\n    font-family: 'Noto Sans', sans-serif;\n}\n\nh2, h3, h4 {\n    color: rgba(51, 51, 51, 0.76);\n    font-weight: bold;\n    text-align: left;\n    margin-top: 7px;\n    padding-top: 0;\n    margin-bottom: 7px;\n    padding-bottom: 0;\n    display: block;\n}\n\nh2 {\n    font-size: 50px;\n}\n\nh3 {\n    font-size: 40px;\n}\n\nh4 {\n    font-size: 32px;\n}\n\np {\n    text-align: justify;\n    color: #333333;\n    font-size: 20px;\n}\n\nul, li {\n    color: #333333;\n    font-size: 20px;\n    text-align: left;\n}\n\na {\n    color: #a430c7;\n    text-decoration: underline;\n}\n\na:hover {\n    color: #333333;\n    text-decoration: underline;\n}\n\nblockquote {\n    margin: auto;\n    border: 1px solid gray;\n    border-left: 14px solid gray;\n    width: fit-content;\n    padding: 15px 100px;\n    border-radius: 10px;\n    font-size: 20px;\n\n}\n\ntable {\n    margin-top: 7px;\n    padding-top: 0;\n    border-collapse: collapse;\n    width: 75%;\n    margin-left: auto;\n    margin-right: auto;\n    font-size: 20px;\n}\n\ntable, td, th {\n    border: 1px solid #ddd;\n    text-align: left;\n}\n\n\nth, td {\n    padding: 15px;\n}\n\nth {\n    font-weight: 800;\n    text-align: center;\n    background-color: gray;\n    color: white;\n}\n\ntr:hover {\n    background-color: rgba(20, 20, 18, 0.116);\n}\n\nimg {\n    width: 500px;\n    margin: auto;\n}</style><div class='content-wrap'>"+s+"</div>",console.log(s);else if(s){var d=JSON.parse(s);if(console.log(d),"image"===d.file_class||"video"===d.file_class)s={message:"image",url:d.full_url,format:d.file_format};else if("application"===d.file_class)s={message:"No Preview Available",url:d.full_url,format:d.file_format};else if("audio"===d.file_class){s={message:"audio",url:d.full_url.replace("audio","video")+"."+d.file_format,format:d.file_format}}}var j=Xr();return console.log(s),Object(T.jsx)("div",{children:Object(T.jsx)("div",{align:"center",style:{width:i},id:"printable-article",children:Object(T.jsxs)(Z.a,{className:j.root,children:[Object(T.jsxs)(Ya.a,{children:[Object(T.jsx)($.a,{className:j.media,image:c,title:"Cover Image"}),Object(T.jsxs)(ee.a,{children:[Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h2",component:"h2",className:j.title,children:o}),Object(T.jsx)("br",{}),Object(T.jsx)(Zr,{tagList:r})]})]}),Object(T.jsx)("hr",{}),Object(T.jsx)(te.a,{children:"article"===a?Object(T.jsx)("div",{className:j.content,dangerouslySetInnerHTML:{__html:s}}):s?"No Preview Available"===s.message?Object(T.jsxs)("div",{style:{textAlign:"center",margin:"auto",padding:50},children:[Object(T.jsx)("span",{style:{fontSize:40},children:"No Preview Available"}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{style:{fontSize:30},children:"Use download option to save it to your device."}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{style:{fontSize:20},children:["After you download the file save it as .",s.format," extension."]})]}):Object(T.jsx)("iframe",{src:s.url,style:{width:"95%",height:"500px",margin:"auto"}}):Object(T.jsx)("span",{})}),Object(T.jsx)("hr",{}),Object(T.jsx)("div",{className:j.contentFooter,children:""!==l?Object(T.jsxs)("div",{children:[Object(T.jsx)(Jr,{userID:t,objectID:n,goingToReport:"post"}),Object(T.jsx)("a",{href:"https://creativecommons.org/about/cclicenses/",target:"_blank",style:{textDecoration:"none"},children:Object(T.jsx)("img",{className:j.ccImage,src:"https://mirrors.creativecommons.org/presskit/buttons/88x31/png/"+l+".png",alt:"CC Licence Image"})})]}):Object(T.jsx)("span",{})})]})})})}var es=Object(j.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),borderRadius:6},profilePic:{width:60,height:60},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},actionButton:{width:"90%",backgroundColor:"#935FF9",margin:"auto",padding:8,color:"#fff","&:hover":{backgroundColor:Object(b.a)("#935FF9",.7)}},bio:{fontWeight:530},moreInfoTitle:{fontWeight:"bold",fontSize:15,color:"#424040"},moreInfoValue:{fontSize:17}}}));function ts(e){var t=e.writerID,a=e.viewerID,i=e.name,c=e.bio,o=e.profileURL,s=e.university,l=e.status,d=es(),j=Object(n.useState)(!1),b=Object(r.a)(j,2),u=b[0],h=b[1],p=Object(n.useState)("Follow"),m=Object(r.a)(p,2),x=m[0],f=m[1];Object(n.useEffect)((function(){""!==a&&t!==a||h(!0)}),[]);var O=G("view_article/is_fallowed");Object(n.useEffect)((function(){""!==a&&W.a.post(O,{user_ID:a,writer_ID:t}).then((function(e){e.data.is_fallowed&&(h(!0),f("Followed"))})).catch((function(){console.error("load failed")}))}),[u]);return Object(T.jsx)("div",{className:d.root,children:Object(T.jsxs)(Ye.a,{className:d.paper,children:[Object(T.jsx)(ne.a,{variant:"h5",color:"primary",component:"h5",style:{fontWeight:600,paddingBottom:15,textAlign:"left"},children:"Original Author"}),Object(T.jsxs)(U.a,{container:!0,spacing:2,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(wn.a,{className:d.profilePic,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:d.profilePic,src:o})})}),Object(T.jsx)(U.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(T.jsxs)(U.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(T.jsxs)(U.a,{item:!0,xs:!0,children:[Object(T.jsx)(L.a,{href:"/components/generalUser/userProfile",style:{textDecoration:"none"},children:Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h4",children:i})}),Object(T.jsx)(ne.a,{variant:"body1",gutterBottom:!0,className:d.bio,children:c})]}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{variant:"contained",onClick:function(){var e=G("view_article/follow_writer");W.a.post(e,{user_ID:a,writer_ID:t}).then((function(e){e.data&&(h(!0),f("Followed"))})).catch((function(){console.error("load failed")}))},disabled:u,className:d.actionButton,children:x})})]})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsxs)(ne.a,{variant:"h6",component:"h6",style:{textAlign:"left"},children:[Object(T.jsx)("span",{className:d.moreInfoTitle,children:"University"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:d.moreInfoValue,children:s}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:d.moreInfoTitle,children:"Status"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:d.moreInfoValue,children:l}),Object(T.jsx)("br",{})]})})]})]})})}var as=Ec()({root:{borderRadius:15,float:"right",marginBottom:10,marginTop:10}});function ns(e){var t=e.parentComment,a=e.postID,i=e.userID,c=as(),o=Object(n.useState)("100%"),s=Object(r.a)(o,2),l=s[0],d=s[1];Object(n.useEffect)((function(){t||d("80%")}),[]);var j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],p=G("get_user_data/");Object(n.useEffect)((function(){W.a.post(p,{_id:i}).then((function(e){h(e.data[0])})).catch((function(){console.error("load failed")}))}),[]);return Object(T.jsx)(Z.a,{className:c.root,variant:"outlined",style:{width:l},children:Object(T.jsxs)(ee.a,{style:{paddingBottom:10},children:[Object(T.jsx)(X.a,{style:{paddingTop:0,textAlign:"left"},avatar:Object(T.jsx)(ae.a,{alt:"Remy Sharp",src:u.profilePicture}),title:u.name}),Object(T.jsx)(Dt.a,{id:"commentBox",label:"Comment",style:{width:"100%"},onKeyPress:function(e){if("Enter"===e.key){var n=G("post_comment/writeComment"),c={post_ID:a,user_ID:i,comment_content:e.target.value};e.target.value="",t&&W.a.post(n,c).then((function(e){console.log("done write comment"),window.location.reload()})).catch((function(){console.error("load failed")}))}}})]})})}var is=Ec()({root:{width:"100%",borderRadius:15,height:"fit-content",paddingBottom:-10,marginBottom:0,marginTop:10},actions:{paddingTop:12,marginBottom:0,paddingBottom:0}});function cs(e){var t=e.writerID,a=e.sessionUser,i=e.postID,c=e.commentID,o=e.timestamp,s=e.content,l=e.likes,d=e.dislikes,j=is(),b=!0;""===a&&(b=!1);var u=Object(n.useState)("#000"),h=Object(r.a)(u,2),p=h[0],m=h[1],x=Object(n.useState)("#000"),f=Object(r.a)(x,2),O=f[0],g=f[1],v=Object(n.useState)(0),w=Object(r.a)(v,2),S=w[0],C=w[1],k=Object(n.useState)(0),N=Object(r.a)(k,2),I=N[0],F=N[1];Object(n.useEffect)((function(){l.map((function(e){"undefined"!==typeof e.by&&C(++S),""!==a&&e.by===a&&m("#935ff9")})),d.map((function(e){"undefined"!==typeof e.by&&F(++I),""!==a&&e.by===a&&g("#935ff9")}))}),[]);var D=Object(n.useState)([]),A=Object(r.a)(D,2),_=A[0],B=A[1],P=G("get_user_data/"),E={_id:t};Object(n.useEffect)((function(){W.a.post(P,E).then((function(e){B(e.data[0])})).catch((function(){console.error("load failed")}))}),[]);return Object(T.jsx)(Z.a,{className:j.root,variant:"outlined",children:Object(T.jsxs)(ee.a,{style:{paddingBottom:0},children:[Object(T.jsx)(X.a,{style:{paddingTop:0,textAlign:"left"},avatar:Object(T.jsx)(ae.a,{alt:"Remy Sharp",src:_.profilePicture}),title:_.name,subheader:o}),Object(T.jsx)("div",{children:Object(T.jsx)("span",{id:"outlined-basic",label:"Comment",style:{width:"100%",paddingLeft:12,fontSize:18,textAlign:"justify"},children:s})}),Object(T.jsxs)(U.a,{container:!0,spacing:3,className:j.actions,children:[Object(T.jsx)(U.a,{item:!0,xs:8}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsxs)(U.a,{container:!0,spacing:2,children:[Object(T.jsx)(U.a,{item:!0,xs:3}),Object(T.jsx)(U.a,{item:!0,xs:3,children:Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_comment/"),n={user_ID:a,like_dislike:"like",post_ID:i,comment_ID:c};"#000"===p&&W.a.post(t,n).then((function(e){"#935FF9"===O&&F(--I),m("#935FF9"),g("#000"),C(++S),console.log("Thumps up recorded.")})).catch((function(){console.log("Thumps up not recorded.")}))},disabled:!b,children:Object(T.jsxs)("span",{children:[Object(T.jsx)(de.a,{style:{color:p}}),Object(T.jsx)("br",{}),S]})})}),Object(T.jsx)(U.a,{item:!0,xs:3,children:Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_comment/"),n={user_ID:a,like_dislike:"dislike",post_ID:i,comment_ID:c};"#000"===O&&W.a.post(t,n).then((function(e){"#935FF9"===p&&C(--S),m("#000"),g("#935FF9"),F(++I),console.log("Thumps down recorded.")})).catch((function(){console.log("Thumps down not recorded.")}))},disabled:!b,children:Object(T.jsxs)("span",{children:[Object(T.jsx)(zc.a,{style:{color:O}}),Object(T.jsx)("br",{}),I]})})}),Object(T.jsx)(U.a,{item:!0,xs:3,children:Object(T.jsx)(Jr,{userID:a,objectID:c,goingToReport:"comment"})})]})})]})]})})}var os=a(399),rs=a.n(os);function ss(e){var t=e.userID,a=e.postID,c=Object(n.useState)(!0),o=Object(r.a)(c,2),s=o[0],l=o[1],d=Object(n.useState)(""),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)("#000"),p=Object(r.a)(h,2),m=p[0],x=p[1];Object(n.useEffect)((function(){var e=G("pin_post/is_already_pin"),n={user_ID:t,post_ID:a};""!==t&&W.a.post(e,n).then((function(e){console.log(e.data),e.data.post_already_pin&&x("#935FF9")})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){""!==t&&l(!1)}),[]);var f=i.a.useState(!1),O=Object(r.a)(f,2),g=O[0],v=O[1],w=function(){v(!1)};return Object(T.jsxs)("div",{children:[Object(T.jsx)(Wt.a,{title:"Pin the post",children:Object(T.jsx)(y.a,{disabled:s,onClick:function(){"#000"===m&&v(!0)},children:Object(T.jsx)(rs.a,{fontSize:"large",style:{color:m}})})}),Object(T.jsxs)(qa.a,{open:g,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(dn.a,{id:"alert-dialog-title",children:"Post pin"}),Object(T.jsxs)(jn.a,{children:[Object(T.jsx)(bn.a,{id:"alert-dialog-description",children:"This option let you to pin other post on your timeline."}),Object(T.jsx)(Dt.a,{margin:"dense",id:"name",label:"Pin Message",type:"text",fullWidth:!0,onChange:function(e){return u(e.target.value)}})]}),Object(T.jsxs)(pn.a,{children:[Object(T.jsx)(y.a,{onClick:w,color:"primary",children:"Cancel"}),Object(T.jsx)(y.a,{onClick:function(e){var n=G("pin_post/make_post_pin"),i={post_ID:a,user_ID:t,pin_message:b};"#000"===m&&W.a.post(n,i).then((function(e){x("#935FF9"),console.log("post pinned."),v(!0),w()})).catch((function(){console.log("not pinned.")}))},color:"primary",autoFocus:!0,children:"Pin to me"})]})]})]})}function ls(e){var t=e.postType,a=e.userID,c=e.postID,o=e.postData,s=e.viewCount,l=Object(n.useState)(!0),d=Object(r.a)(l,2),j=d[0],b=d[1];Object(n.useEffect)((function(){""!==a&&b(!1)}),[]);var u=Object(n.useState)("#000"),h=Object(r.a)(u,2),m=h[0],x=h[1],f=Object(n.useState)("#000"),O=Object(r.a)(f,2),g=O[0],v=O[1],w=Object(n.useState)("#000"),S=Object(r.a)(w,2),C=(S[0],S[1],Object(n.useState)("#000")),k=Object(r.a)(C,2),N=(k[0],k[1]),I=Object(n.useState)(0),F=Object(r.a)(I,2),D=F[0],A=F[1],_=Object(n.useState)(0),B=Object(r.a)(_,2),P=B[0],E=B[1];Object(n.useEffect)((function(){o.upvotes.map((function(e){"undefined"!==typeof e.by&&A(++D)})),o.downvotes.map((function(e){"undefined"!==typeof e.by&&E(++P)}))}),[]);var R=G("vote_for_post/is_reacted");Object(n.useEffect)((function(){var e={user_ID:a,like_dislike:"like",post_ID:c};""!==a&&W.a.post(R,e).then((function(e){e.data.is_upvoted&&x("#935FF9")})).catch((function(){console.error("load failed")}))}),[]),Object(n.useEffect)((function(){var e={user_ID:a,like_dislike:"dislike",post_ID:c};""!==a&&W.a.post(R,e).then((function(e){e.data.is_downvoted&&v("#935FF9")})).catch((function(){console.error("load failed")}))}),[R]);var L=G("add_to_library/is_available_at_library");Object(n.useEffect)((function(){var e={post_ID:c,user_ID:a};""!==a&&W.a.post(L,e).then((function(e){e.data.post_available&&N("#935FF9")})).catch((function(){console.error("collection availability check failed")}))}),[L]);var z=i.a.useState(""),M=Object(r.a)(z,2),V=M[0],Y=M[1],q=i.a.useState(!1),H=Object(r.a)(q,2),K=H[0],Q=H[1],J=function(){Q(!1)};return Object(T.jsxs)(Z.a,{children:[Object(T.jsxs)(U.a,{container:!0,spacing:3,style:{paddingTop:10,paddingBottom:10,textAlign:"center"},children:[Object(T.jsxs)(U.a,{item:!0,xs:4,children:[Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_post/"),n={user_ID:a,like_dislike:"like",post_ID:c};"#000"===m&&W.a.post(t,n).then((function(e){"#935FF9"===g&&E(--P),x("#935FF9"),v("#000"),A(++D),Y("Thumps up recorded."),Q(!0)})).catch((function(){console.log("Thumps up not recorded.")}))},disabled:j,children:Object(T.jsx)(de.a,{fontSize:"large",style:{color:m}})}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[D," Up-votes"]})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,children:[Object(T.jsx)(y.a,{onClick:function(e){var t=G("vote_for_post/"),n={user_ID:a,like_dislike:"dislike",post_ID:c};"#000"===g&&W.a.post(t,n).then((function(e){"#935FF9"===m&&A(--D),x("#000"),v("#935FF9"),E(++P),Y("Thumps down recorded."),Q(!0)})).catch((function(){console.log("Thumps down not recorded.")}))},disabled:j,children:Object(T.jsx)(zc.a,{fontSize:"large",style:{color:g}})}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[P," Down-votes"]})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(be.a,{fontSize:"large"})}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[s," Views"]})]}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Wt.a,{title:"Share outside",children:Object(T.jsx)(y.a,{onClick:function(){navigator.clipboard.writeText(window.location.href),Y("Post link copy to clipboard."),Q(!0)},children:Object(T.jsx)(oe.a,{fontSize:"large"})})})}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Wt.a,{title:"Download content",children:Object(T.jsx)(y.a,{onClick:function(){if("document"===t)window.open(o.current.content,"_blank");else{var e=window.open("","PRINT","height=400,width=600");e.document.write("<html><head><title>Print article</title>"),e.document.write("</head><body >"),e.document.write(document.getElementById("printable-article").innerHTML),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print()}},children:Object(T.jsx)(Gc.a,{fontSize:"large"})})})}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(Wt.a,{title:"Add to library",children:Object(T.jsx)(Pr,{postID:c,userID:a})})}),Object(T.jsx)(U.a,{item:!0,xs:2}),Object(T.jsx)(U.a,{item:!0,xs:4,children:Object(T.jsx)(ss,{userID:a,postID:c})}),Object(T.jsx)(U.a,{item:!0,xs:2})]}),Object(T.jsx)(Xa.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:K,autoHideDuration:6e3,onClose:J,message:V,action:Object(T.jsx)(i.a.Fragment,{children:Object(T.jsx)(p.a,{size:"small","aria-label":"close",color:"inherit",onClick:J,children:Object(T.jsx)(ec.a,{fontSize:"small"})})})})]})}var ds=Ec()({displayCard:{width:"90%",borderRadius:15,margin:"auto",marginTop:10},topHeading:{padding:10,textAlign:"left",fontWeight:600}});function js(e){var t=e.authorID,a=e.postID,i=e.authorName,c=ds(),o=Object(n.useState)([]),s=Object(r.a)(o,2),l=s[0],d=s[1],j=G("view_article/list_latest_posts"),b={user_ID:t,post_ID:a};return Object(n.useEffect)((function(){W.a.post(j,b).then((function(e){d(e.data)})).catch((function(){console.error("load failed")}))}),[j]),0!==l.length?Object(T.jsxs)(Z.a,{style:{padding:10},children:[Object(T.jsxs)(ne.a,{variant:"h5",color:"primary",component:"h5",className:c.topHeading,children:["More from ",i.split(" ")[0]]}),Object(T.jsx)("div",{style:{padding:10},children:l.map((function(e){return Object(T.jsx)(Z.a,{className:c.displayCard,children:Object(T.jsxs)(Ya.a,{children:[Object(T.jsx)($.a,{component:"img",alt:"Contemplative Reptile",height:"130",image:e.article.current.coverImage,title:"Contemplative Reptile"}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(T.jsx)(L.a,{href:_.a.applicationRoot+"/components/generalUser/viewArticle/"+e._id,target:"_blank",style:{textDecoration:"none"},children:e.article.current.title})})})]})})}))})]}):Object(T.jsx)("span",{})}var bs=Object(j.a)((function(e){return{profilePic:{width:50,height:50},userEntry:{padding:10}}}));function us(e){var t=e.authorIndex,a=e.totalVersions,i=e.userID,c=e.postID,o=bs(),s=Object(n.useState)({}),l=Object(r.a)(s,2),d=l[0],j=l[1],b=G("get_user_data/");return Object(n.useEffect)((function(){W.a.post(b,{_id:i}).then((function(e){e.data&&j({userID:i,userName:e.data[0].name,ppLink:e.data[0].profilePicture})})).catch((function(){console.error("load failed")}))}),[]),Object(T.jsxs)(U.a,{container:!0,spacing:2,className:o.userEntry,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(wn.a,{className:o.profilePic,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:o.profilePic,src:d.ppLink})})}),Object(T.jsx)(U.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(T.jsx)(U.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(T.jsxs)(U.a,{item:!0,xs:!0,style:{textAlign:"left"},children:[Object(T.jsx)("span",{style:{margin:"auto"},children:Object(T.jsxs)(L.a,{href:"/components/generalUser/viewArticle/"+c+"?version="+(t-1),style:{textDecoration:"none"},children:["Version ",t,t===a?Object(T.jsx)(z.a,{label:"Latest",style:{margin:5},color:"primary"}):Object(T.jsx)("span",{})]})}),Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",style:{overflow:"hidden"},children:Object(T.jsx)(L.a,{href:"/components/generalUser/userProfile/"+d.userID,style:{textDecoration:"none"},children:d.userName})})]})})})]})}var hs=Object(j.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),borderRadius:6}}}));function ps(e){var t=e.versionData,a=e.postID;console.log(t);var n=hs(),i=1;return Object(T.jsx)("div",{className:n.root,children:Object(T.jsxs)(Ye.a,{className:n.paper,children:[Object(T.jsx)(ne.a,{variant:"h5",color:"primary",component:"h5",style:{fontWeight:600,textAlign:"left"},children:"Version History"}),t.map((function(e){return Object(T.jsx)(us,{postID:a,totalVersions:t.length,userID:e.contributor,authorIndex:i++})}))]})})}var ms=Object(j.a)((function(e){return{root:{flexGrow:1,width:"50%"},navBar:{display:"block",position:"absolute"},pageContent:{paddingTop:80},article:{width:"50%"},userInfo:{left:0},downloadButton:{padding:8,color:"#fff",borderRadius:5,display:"block",marginTop:20,float:"left",backgroundColor:"#935FF9"},warningMessage:{padding:20,margin:"auto",marginBottom:10,marginTop:0,width:"98%",textAlign:"center",backgroundColor:"#f14040",color:"#fff",fontSize:20}}}));function xs(){var e=ms(),t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)([]),s=Object(r.a)(o,2),l=s[0],d=s[1],j=window.location.href.split("/").slice(-1)[0],b=Object(n.useState)({}),u=Object(r.a)(b,2),h=u[0],p=u[1],m=0;-1!==j.search("version=")?(m=Number(j.split("?version=")[1]),j=j.split("?version=")[0]):m=-1;var x="Anyone",f="";Ea()&&(f=Ea()._id,"academic"===Ea().role&&(x="Academic Only")),console.log(Ea());var O={_id:j,visibility:x},g=Object(n.useState)(!0),v=Object(r.a)(g,2),y=v[0],w=v[1];Object(n.useEffect)((function(){W.a.post(G("view_article/"),O).then((function(e){e.data&&(c(e.data),-1===m&&(m=e.data.article.versions.length-1),e.data.article.versions.length-1===m&&w(!1),console.log("post version:",e.data.article.versions),p(e.data.article.versions[m]),W.a.post(G("view_article/increase_view_count"),{post_ID:j}).then((function(e){e.data&&console.log("VC Update done.")})).catch((function(){console.error("VCU failed")})))})).catch((function(){console.error("load failed")}))}),[]);var S=G("post_comment/");Object(n.useEffect)((function(){W.a.post(S,O).then((function(e){d(e.data)})).catch((function(){console.error("load failed")}))}),[]);var C=Object(n.useState)(!1),k=Object(r.a)(C,2),N=k[0],I=k[1];return Object(n.useEffect)((function(){setTimeout((function(){I(!0)}),5e3)}),[]),0!==i.length?Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:e.pageContent,children:[y?Object(T.jsxs)("div",{className:e.warningMessage,children:["You are looking at an old version of this article. Click ",Object(T.jsx)(L.a,{href:j,style:{color:"#fff"},children:"here"})," to look at the latest version."]}):Object(T.jsx)("span",{}),Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsxs)(U.a,{item:!0,xs:8,className:e.article,children:[Object(T.jsx)($r,{userID:f,type:i.type,articleID:i._id,coverImage:h.coverImage,title:h.title,content:h.content,licence:i.article.license,tagList:h.tags,customWidth:"98%"}),Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:4}),Object(T.jsxs)(Ye.a,{style:{width:"98%",margin:30,marginLeft:40,padding:15},children:[Object(T.jsx)(ne.a,{variant:"h4",component:"h4",children:"Comments..."}),Object(T.jsxs)("div",{children:[f?Object(T.jsx)(ns,{userID:f,postID:j,parentComment:!0}):Object(T.jsx)("span",{}),l.map((function(e){return Object(T.jsx)(cs,{content:e.content,dislikes:e.downvotes,writerID:e.commenter,sessionUser:f,commentID:e._id,postID:j,timestamp:e.updatedAt,likes:e.upvotes})}))]})]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(U.a,{container:!0,spacing:3,children:[Object(T.jsx)(U.a,{item:!0,xs:3}),Object(T.jsx)(U.a,{item:!0,xs:6}),Object(T.jsx)(U.a,{item:!0,xs:3})]})})]}),Object(T.jsxs)(U.a,{item:!0,xs:4,style:{paddingRight:"5%"},children:[Object(T.jsx)(ts,{name:i.author.name,bio:i.author.bio,profileURL:i.author.profilePicture,className:e.userInfo,university:i.academicInstitute.name,writerID:i.author._id,viewerID:f,status:i.author.status}),Object(T.jsx)("br",{}),Object(T.jsx)(ls,{userID:f,postID:j,postData:i.article,viewCount:i.viewCount,postType:i.type}),Object(T.jsx)("br",{}),Object(T.jsx)(ps,{versionData:i.article.versions,postID:j}),Object(T.jsx)("br",{}),Object(T.jsx)(js,{authorID:i.author._id,postID:j,authorName:i.author.name})]})]})]})}):N?Object(T.jsx)("div",{children:Object(T.jsxs)("h2",{style:{margin:"auto",paddingTop:200,fontSize:50,textAlign:"center"},children:[Object(T.jsx)(Jc.a,{fontSize:"large"})," Sorry, This article is not visible for you.",Object(T.jsx)("br",{}),Object(T.jsx)("small",{children:"Try again, if you are not login with the system."}),Object(T.jsx)("br",{})]})}):Object(T.jsx)("div",{style:{paddingTop:250},children:Object(T.jsx)(ri.a,{})})}var fs=a(400),Os=a.n(fs),gs=a(401),vs=a.n(gs),ys=Object(j.a)((function(e){return{root:{borderRadius:"15px",marginBottom:"20px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},likes:{paddingLeft:"10px"},subcard:{borderStyle:"solid",borderColor:"#a3a3c2"},iconStyles:{marginLeft:"20px",marginRight:"20px"}}}));var ws=function(){var e=ys();return Object(T.jsxs)(Z.a,{className:e.root,children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{"aria-label":"recipe",className:e.avatar,children:"R"}),title:"Artem commented on your post on Java Programming",subheader:"2 hours before"}),Object(T.jsx)(ee.a,{children:Object(T.jsx)(Z.a,{children:Object(T.jsxs)(ee.a,{className:e.subcard,children:[Object(T.jsx)(ne.a,{children:"Why did you used version 8.0?"}),Object(T.jsxs)(p.a,{children:[Object(T.jsx)(de.a,{className:e.iconStyles}),Object(T.jsx)(ne.a,{children:"Like"}),Object(T.jsx)(Os.a,{className:e.iconStyles}),Object(T.jsx)(ne.a,{children:"View"}),Object(T.jsx)(vs.a,{className:e.iconStyles}),Object(T.jsx)(ne.a,{children:"Reply"})]})]})})})]})},Ss=Object(j.a)((function(e){return{root:{flexGrow:1,marginTop:"190px",width:"80%",marginBottom:"30px",marginLeft:"130px",borderRadius:"10px"},pubPostInfo:{width:"80%",marginTop:"100px"},postsInfo:{width:"100%"},avatar:{backgroundColor:"#935FF9",marginLeft:"50px"},typography:{color:"black"}}}));var Cs=function(){return Ss(),Object(T.jsxs)("div",{children:[Object(T.jsx)(ws,{}),Object(T.jsx)(ws,{}),Object(T.jsx)(ws,{})]})};var ks=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(ws,{}),Object(T.jsx)(Ce,{}),Object(T.jsx)(ws,{})]})};var Ns=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(Ce,{}),Object(T.jsx)(Ce,{}),Object(T.jsx)(Ce,{})]})},Is=Object(j.a)((function(e){return{root:{borderRadius:"15px",marginBottom:"20px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},likes:{paddingLeft:"10px"}}}));var Fs=function(){var e=Is();return Object(T.jsx)(Z.a,{className:e.root,children:Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{"aria-label":"recipe",className:e.avatar,children:"R"}),title:"Artem reacted to your post on Java Programming",subheader:"2 hours before"})})};var Ds=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(Fs,{}),Object(T.jsx)(Fs,{}),Object(T.jsx)(Fs,{})]})},As=Object(j.a)((function(e){return{root:{flexGrow:1,width:"60%",marginTop:100},pubPostInfo:{width:"80%"},postsInfo:{width:"100%"},avatar:{backgroundColor:"#935FF9"},headerInfo:{marginTop:"90px",marginBottom:"10px",marginLeft:"110px",width:"100%"},controlStyle:{backgroundColor:"#C5B6E3"},buttonStyleMain:{backgroundColor:"#4411A8",color:"#FFFFFF","&:hover":{backgroundColor:"#935FF9"},marginBottom:"20px"},buttonStyleSub:{backgroundColor:"#b3b3cc",color:"#FFFFFF","&:hover":{backgroundColor:"#935FF9"},marginBottom:"20px"},buttonStyleSubmit:{backgroundColor:"#4411A8",color:"#FFFFFF",paddingLeft:"20px",width:"150px","&:hover":{backgroundColor:"#935FF9"},marginBottom:"20px"},buttonStyleCancel:{backgroundColor:"#FA2C2C",color:"#FFFFFF",marginLeft:"20px",width:"150px","&:hover":{backgroundColor:"#A50000"},marginBottom:"20px"},buttonStyle:{backgroundColor:"#935FF9",width:"80%",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},marginBottom:"10px"},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}}}}));var _s=function(){var e=Object(n.useState)("block"),t=Object(r.a)(e,2),a=t[0],i=(t[1],Object(n.useState)("none")),c=Object(r.a)(i,2),o=c[0],s=(c[1],Object(n.useState)("none")),l=Object(r.a)(s,2),d=l[0],j=(l[1],Object(n.useState)("none")),b=Object(r.a)(j,2),u=b[0];return b[1],Object(T.jsx)("div",{children:Object(T.jsx)("div",{align:"center",children:Object(T.jsx)("div",{className:As().root,children:Object(T.jsx)(U.a,{container:!0,spacing:2,className:As().pubPostInfo,children:Object(T.jsxs)(U.a,{item:!0,className:As().postsInfo,children:[Object(T.jsx)(U.a,{style:{display:a},children:Object(T.jsx)(ks,{})}),Object(T.jsx)(U.a,{style:{display:o},children:Object(T.jsx)(Ns,{})}),Object(T.jsx)(U.a,{style:{display:d},children:Object(T.jsx)(Cs,{})}),Object(T.jsx)(U.a,{style:{display:u},children:Object(T.jsx)(Ds,{})})]})})})})})},Ts=a(763),Bs=Object(j.a)((function(e){return{root:{backgroundColor:"#E1D4FC",marginBottom:"20px",borderRadius:"20px"},formStyles:{margin:"10px",fontFamily:"Courgette",padding:30},labelStyles:{color:"#4411A8",fontSize:"18px"},textFieldStyles:{width:"550px",marginBottom:"30px",marginLeft:"30px",marginRight:"30px","& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#4411A8",borderWidth:"3px"}}},inputStyles:{borderRadius:"30px",backgroundColor:"#FFFFFF",borderWidth:"3px",borderColor:"#0000FF",height:"40px"},saveBtnStyles:{backgroundColor:"#935FF9",width:"40%",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},marginLeft:"6%",marginRight:"8%",marginBottom:"10px"},cancelBtnStyles:{backgroundColor:"#9e9e9e",width:"40%",color:"#FFFFFF","&:hover":{backgroundColor:"#d81b60"},marginBottom:"10px"},radioBtnStyles:{marginBottom:"20px"},dateStyles:{day:{fontSize:"26px"}}}}));var Ps=function(e){var t=e.userID,a=e.userName,i=e.userBio,c=e.userFaculty,o=e.userPersonalMail,s=e.userAcaMail,l=e.userGender,d=e.userBday,j=Object(n.useState)(a),b=Object(r.a)(j,2),u=b[0],h=b[1];Object(n.useEffect)((function(){h(a)}),[a]);var p=Object(n.useState)(i),m=Object(r.a)(p,2),x=m[0],f=m[1];Object(n.useEffect)((function(){f(i)}),[i]);var O=Object(n.useState)(c),g=Object(r.a)(O,2),v=g[0],w=g[1];Object(n.useEffect)((function(){w(c)}),[c]);var S=Object(n.useState)(s),C=Object(r.a)(S,2),k=C[0],N=C[1];Object(n.useEffect)((function(){N(s)}),[s]);var I=Object(n.useState)(o),F=Object(r.a)(I,2),D=F[0],A=F[1];Object(n.useEffect)((function(){A(o)}),[o]);var _=Object(n.useState)(l),B=Object(r.a)(_,2),P=B[0],E=B[1];Object(n.useEffect)((function(){E(l)}),[l]);var R=Object(n.useState)(d),U=Object(r.a)(R,2),L=U[0],z=U[1];return Object(n.useEffect)((function(){z(d)}),[d]),Object(T.jsx)("div",{children:Object(T.jsx)(Z.a,{className:Bs().root,children:Object(T.jsxs)("form",{className:Bs().formStyles,children:[Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Bs().labelStyles,children:"Name*"}),Object(T.jsx)(Eo.a,{className:Bs().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",required:"true",value:u,onChange:function(e){h(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Bs().labelStyles,children:"Bio"}),Object(T.jsx)(Eo.a,{className:Bs().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"text",multiline:!0,value:x,onChange:function(e){f(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Bs().labelStyles,children:"Personal Email*"}),Object(T.jsx)(Eo.a,{className:Bs().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"email",value:D,onChange:function(e){A(e.target.value)}})})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Bs().labelStyles,children:"Gender"}),Object(T.jsxs)(Ts.a,{className:Bs().radioBtnStyles,"aria-label":"gender",name:"gender1",defaultValue:P,onChange:function(e){E(e.target.value)},children:[Object(T.jsx)(Ha.a,{value:"female",control:Object(T.jsx)(oi.a,{}),label:"Female"}),Object(T.jsx)(Ha.a,{value:"male",control:Object(T.jsx)(oi.a,{}),label:"Male"})]})]}),Object(T.jsxs)(Tt.a,{component:"fieldset",children:[Object(T.jsx)(Sn.a,{component:"legend",className:Bs().labelStyles,children:"Birthday"}),Object(T.jsx)(Eo.a,{className:Bs().textFieldStyles,children:Object(T.jsx)(Dt.a,{type:"date",value:L,onChange:function(e){z(e.target.value)}})})]}),Object(T.jsx)(y.a,{className:Bs().saveBtnStyles,onClick:function(){var e={userID:t,name:u,bio:x,faculty:v,academicEmail:k,personalEmail:D,gender:P,bday:L};console.log(e);var a=G("/update_profile/userProfileUpdate");W.a.post(a,e).then((function(e){Uo.a.fire({icon:"success",title:"Your profile got updated successfully",timer:1500}),console.log("User profile is updated")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("User profile update failed")}))},children:"Save Updates"}),Object(T.jsx)(y.a,{className:Bs().cancelBtnStyles,onClick:function(){Uo.a.fire({title:"Are you sure?",text:"Your updates will be discarded!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d81b60",cancelButtonColor:"#935FF9",confirmButtonText:"Yes, discard!"}).then((function(e){e.isConfirmed&&Uo.a.fire("Discarded!","Your updates did not get recorded.","success")}))},children:"Cancel"})]})})})},Es=Object(j.a)({root:{marginBottom:"20px"},cardStyle:{backgroundColor:"#E1D4FC",borderRadius:"5px","&hover":{backgroundColor:"#935FF9"}},avatar:{backgroundColor:"#935FF9",width:"40px",height:"40px",margin:"15px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"},name:{fontSize:"20px",textAlign:"center"},bio:{fontSize:"12px",textAlign:"center"},linkStyle:{"&:hover":{textDecoration:"none"}}});var Rs=function(e){var t=e.userID,a=Object(n.useState)([]),i=Object(r.a)(a,2),c=i[0],o=i[1],s={_id:t},l=G("/loggedIn_User/");return Object(n.useEffect)((function(){W.a.post(l,s).then((function(e){o(e.data)})).catch((function(){console.error("Profile loading failed")}))}),[]),console.log("Follower name: ",c.name),Object(T.jsx)("div",{className:Es().root,children:Object(T.jsx)(L.a,{className:Es().linkStyle,href:_.a.applicationRoot+"",children:Object(T.jsx)(Z.a,{className:Es().cardStyle,children:Object(T.jsxs)(U.a,{container:!0,spacing:2,children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:Es().avatar,src:c.profilePicture})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsxs)("p",{className:Es().name,children:[c.name," "]})})]})})})})},Us=Object(j.a)((function(e){return{cardStyles:{backgroundColor:"#E1D4FC",height:"250px",borderRadius:"15px"},iconStyles:{width:"100px",height:"100px",marginTop:"40px",marginLeft:"150px",color:"#935FF9"},textStyle:{fontSize:"24px",textAlign:"center"}}}));var Ls=function(){var e=Us(),t="";Ea()&&(t=Ea()._id,Ea().role);var a=t;console.log(a);var i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=G("/loggedIn_User/get_followingUsers");Object(n.useEffect)((function(){W.a.post(l,{user_id:a}).then((function(e){console.log(e.data),e.data&&s(e.data)})).catch((function(){console.error("Following Users loading failed")}))}),[]);var d=0;o.map((function(e){return d+=1})),console.log("Folowing user count: ",d);var j=o.map((function(t){return console.log("Follower id: ",t._id),0==d?Object(T.jsx)("div",{children:Object(T.jsxs)(Z.a,{className:e.cardStyles,children:[Object(T.jsx)(Ko.a,{className:e.iconStyles}),Object(T.jsx)("p",{className:e.textStyle,children:"You are not following any authors yet!"})]})}):Object(T.jsx)(Rs,{userID:t._id})}));return Object(T.jsx)("div",{children:j})},zs=Object(j.a)((function(e){return{saveBtnStyles:{backgroundColor:"#935FF9",width:"200px",marginTop:"30px",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},marginLeft:"10px",marginRight:"8%",marginBottom:"20px"},cancelBtnStyles:{backgroundColor:"#9e9e9e",width:"200px",marginTop:"30px",color:"#FFFFFF","&:hover":{backgroundColor:"#d81b60"},marginBottom:"20px"},root:{marginLeft:"55px"}}}));var Ms=function(){var e="";Ea()&&(e=Ea()._id,Ea().role);var t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o=G("/loggedIn_User/get_allTags");Object(n.useEffect)((function(){W.a.post(o).then((function(e){e.data&&c(e.data)})).catch((function(){console.error("Tags got loaded failed!")}))}),[]);var s=Object(n.useState)([]),l=Object(r.a)(s,2),d=l[0],j=l[1],b=G("/loggedIn_User/get_all_tags");Object(n.useEffect)((function(){W.a.post(b,{user_id:e}).then((function(e){e.data&&j(e.data)})).catch((function(){console.error("My Tags loaded failed!")}))}),[]);var u=0,h=[];d.map((function(e){u+=1,h.push(e.tagId)})),console.log("myTagsCount: ",u),console.log("myTags initially: ",h);var p=Object(n.useState)(h),m=Object(r.a)(p,2),x=(m[0],m[1]),f=i.map((function(e){if(h.includes(e._id))return Object(T.jsxs)("div",{children:[Object(T.jsx)(Ka.a,{id:e._id,icon:Object(T.jsx)(Xo.a,{}),checkedIcon:Object(T.jsx)(er.a,{}),onClick:function(){return function(e){if(console.log("Inside handleMyTags"),console.log(h),h.includes(e)){for(var t=0;t<h.length;t++)h[t]==e&&h.splice(t,1);console.log("removed: ",e),console.log(h)}else h.push(e),console.log("Added: ",e),console.log(h)}(e._id)}}),e.verbose]})})),O=i.map((function(e){if(!h.includes(e._id))return Object(T.jsxs)("div",{children:[Object(T.jsx)(Ka.a,{id:e._id,onClick:function(){return function(e){if(console.log("Inside handleAllTags"),console.log(h),h.includes(e)){for(var t=0;t<h.length;t++)h[t]==e&&h.splice(t,1);console.log("removed: ",e),console.log(h)}else h.push(e),console.log("Added: ",e),console.log(h)}(e._id)}}),e.verbose]})}));return Object(T.jsxs)("div",{className:zs().root,children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Following: "}),f]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Do not Following: "}),O]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{className:zs().saveBtnStyles,onClick:function(){x(h),console.log("inside saveUpdates all tags: ",h);var t={userID:e,followingTags:h},a=G("/update_profile/updateFollowingTags");W.a.post(a,t).then((function(e){Uo.a.fire({icon:"success",title:"Your updates got saved successfully",timer:1500}),console.log("Following tags got updated")})).catch((function(){Uo.a.fire({icon:"error",title:"Sorry!",text:"Something went wrong. Try again later."}),console.error("Following tags update failed")}))},children:"Save changes"}),Object(T.jsx)(y.a,{className:zs().cancelBtnStyles,onClick:function(){Uo.a.fire({title:"Are you sure?",text:"Your updates will be discarded!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d81b60",cancelButtonColor:"#935FF9",confirmButtonText:"Yes, discard!"}).then((function(e){e.isConfirmed&&Uo.a.fire("Discarded!","Your updates did not get recorded.","success")}))},children:"Cancel changes"})]})]})},Ws=Object(j.a)((function(e){return{root:{flexGrow:1,width:"80%"},cardStyles:{backgroundColor:"#FFFFFF",width:"96%",marginLeft:"150px",marginTop:"100px",borderRadius:"10px",marginBottom:"20px",padding:10},gridOneStyle:{marginTop:"10px",marginBottom:"20px",width:"100%"},gridOneItemTwoStyle:{fontSize:"24px",marginTop:"10px",marginBottom:"20px",color:"#4411A8",textAlign:"center"},gridTwoStyle:{marginTop:10,width:"100%",marginBottom:"15px"},gridTwoItemOneStyle:{marginLeft:"20px"},gridTwoItemTwoStyle:{marginLeft:"20px"},avatar:{backgroundColor:"#935FF9",width:"100px",height:"100px",alignSelf:"center",justifySelf:""},buttonStyle:{backgroundColor:"#935FF9",width:"80%",color:"#FFFFFF","&:hover":{backgroundColor:"#4411A8"},"&:focus":{backgroundColor:"#4411A8"},marginBottom:"10px",marginLeft:"30px"}}}));var Vs=function(){var e="";Ea()&&(e=Ea()._id,Ea().role);var t=Object(n.useState)("block"),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)("none"),s=Object(r.a)(o,2),l=(s[0],s[1]),d=Object(n.useState)("none"),j=Object(r.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)("none"),p=Object(r.a)(h,2),m=p[0],x=p[1],f=Object(n.useState)("none"),O=Object(r.a)(f,2),g=(O[0],O[1]),v=Object(n.useState)("none"),w=Object(r.a)(v,2),S=w[0],C=w[1],k=Object(n.useState)([]),N=Object(r.a)(k,2),I=N[0],F=N[1],D={_id:e},A=G("/loggedIn_User/");return Object(n.useEffect)((function(){W.a.post(A,D).then((function(e){F(e.data),console.log(e.data)})).catch((function(){console.error("Profile loading failed")}))}),[]),Object(T.jsx)("div",{className:Ws().root,children:Object(T.jsxs)(Z.a,{className:Ws().cardStyles,children:[Object(T.jsx)(U.a,{container:!0,className:Ws().gridOneStyle,spacing:3,style:{justifyContent:"center",alignContent:"center"},children:Object(T.jsx)(U.a,{item:!0,style:{margin:"auto"},children:Object(T.jsx)(ae.a,{alt:"Profile image",className:Ws().avatar,src:I.profilePicture})})}),Object(T.jsx)(U.a,{children:Object(T.jsxs)(U.a,{item:!0,className:Ws().gridOneItemTwoStyle,children:["Hi, ",I.name," !"]})}),Object(T.jsx)(De.a,{}),Object(T.jsxs)(U.a,{container:!0,spacing:1,className:Ws().gridTwoStyle,children:[Object(T.jsxs)(U.a,{item:!0,xs:3,className:Ws().gridTwoItemOneStyle,children:[Object(T.jsx)(y.a,{className:Ws().buttonStyle,onClick:function(){c("block"),l("none"),u("none"),x("none"),g("none"),C("none")},children:"My Profile"}),Object(T.jsx)(y.a,{className:Ws().buttonStyle,onClick:function(){c("none"),l("none"),u("block"),x("none"),g("none"),C("none")},children:"Profile Picture"}),Object(T.jsx)(y.a,{className:Ws().buttonStyle,onClick:function(){c("none"),l("none"),u("none"),x("block"),g("none"),C("none")},children:"Following Tags"}),Object(T.jsx)(y.a,{className:Ws().buttonStyle,onClick:function(){c("none"),l("none"),u("none"),x("none"),g("none"),C("block")},children:"Following"})]}),Object(T.jsxs)(U.a,{item:!0,xs:8,className:Ws().gridTwoItemTwoStyle,children:[Object(T.jsx)(U.a,{style:{display:i},children:Object(T.jsx)(Ps,{userID:I._id,userName:I.name,userBio:I.bio,userFaculty:I.faculty,userPersonalMail:I.personalEmail,userAcaMail:I.academicEmail,userGender:I.gender,userBday:I.birthday})}),Object(T.jsx)(U.a,{style:{display:b},children:Object(T.jsx)(sr,{})}),Object(T.jsx)(U.a,{style:{display:S},children:Object(T.jsx)(Ls,{})}),Object(T.jsx)(U.a,{style:{display:m},children:Object(T.jsx)(Ms,{})})]})]})]})})},Gs=Object(j.a)((function(e){return{root:{borderRadius:"5px",marginBottom:"20px",maxWidth:"550px",height:"400px"},media:{height:0,paddingTop:"56.25%"},avatar:{backgroundColor:ie.a[500],width:"70px",height:"70px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"},titleStyle:{fontSize:"24px",textAlign:"center"},readTimeStyle:{fontSize:"14px",marginBottom:"0px"},authorStyle:{fontSize:"20px",marginBottom:"0px"}}}));function Ys(e){var t=e.author,a=e.profilePic,n=e.title,i=e.coverImg,c=e.readTime,o=Gs();return Object(T.jsx)("div",{children:Object(T.jsxs)(Z.a,{className:o.root,children:[Object(T.jsx)(X.a,{avatar:Object(T.jsx)(ae.a,{"aria-label":"recipe",className:o.avatar,alt:"Profile image",src:a}),title:Object(T.jsx)("p",{className:o.titleStyle,children:n}),subheader:Object(T.jsxs)("div",{children:[Object(T.jsxs)("p",{className:o.authorStyle,children:["Written by ",t]}),Object(T.jsxs)("p",{className:o.readTimeStyle,children:[" ",c," minutes read"]})]})}),Object(T.jsx)($.a,{className:o.media,image:i,title:"Cover Image"})]})})}var qs=Object(j.a)({cardStyles:{width:"300px",padding:10},userBasicDetails:{textAlign:"center",fontSize:16},iconStyles:{color:"#4411A8",marginRight:20}});var Hs=function(e){var t=e.userID;e.postCount,t="",Ea()&&(t=Ea()._id,Ea().role);var a=t,i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],s=c[1],l=G("loggedIn_User/get_all_tags");Object(n.useEffect)((function(){W.a.post(l,{user_id:a}).then((function(e){e.data&&s(e.data)})).catch((function(){console.error("Tags loading failed")}))}),[]);var d=0;o.map((function(e){return d+=1}));var j=Object(n.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],p=G("loggedIn_User/get_followingUsers");Object(n.useEffect)((function(){W.a.post(p,{user_id:a}).then((function(e){e.data&&h(e.data)})).catch((function(){console.error("Following Users loading failed")}))}),[]);var m=0;u.map((function(e){return m+=1}));var x=Object(n.useState)([]),f=Object(r.a)(x,2),O=f[0],g=f[1],v=G("loggedIn_User/get_followedBy");Object(n.useEffect)((function(){W.a.post(v,{user_id:a}).then((function(e){e.data&&g(e.data)})).catch((function(){console.error("Followed By loading failed")}))}),[]);var y=0;return O.map((function(e){return y+=1})),Object(T.jsx)("div",{children:Object(T.jsx)(Z.a,{className:qs().cardStyles,children:Object(T.jsx)(ee.a,{children:Object(T.jsxs)(ne.a,{variant:"body2",color:"textSecondary",component:"p",className:qs().userBasicDetails,children:[Object(T.jsx)(De.a,{}),Object(T.jsxs)("p",{children:[Object(T.jsx)(mr.a,{className:qs().iconStyles}),"Tags following: ",d]}),Object(T.jsx)(De.a,{}),Object(T.jsxs)("p",{children:[Object(T.jsx)(li.a,{className:qs().iconStyles}),"Following authors: ",m]}),Object(T.jsx)(De.a,{})]})})})})},Ks=Object(j.a)({root:{flexGrow:1,marginTop:100,width:"77%",marginLeft:150,borderRadius:5},avatar:{backgroundColor:"#935FF9",marginBottom:"10px",marginLeft:"120px",width:80,height:80,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"},buttonStyle:{backgroundColor:"#935FF9",color:"#FFFFFF",marginTop:30,"&:hover":{backgroundColor:"#4411A8"},marginBottom:"20px"},linkStyles:{color:"#FFFFFF",textDecoration:"none","&:hover":{color:"#FFFFFF",textDecoration:"none"}},typographyStyle:Object(d.a)({textAlign:"center",fontSize:"16px"},"textAlign","center"),title:{textAlign:"center",color:"#4411A8"},secondGrid:{marginTop:10},cardStyles:{width:"300px",padding:10},userBasicDetails:{textAlign:"left",fontSize:16},iconStyles:{color:"#4411A8",marginRight:20}});var Qs=function(){var e="";Ea()&&(e=Ea()._id,Ea().role);var t=Object(n.useState)([]),a=Object(r.a)(t,2),i=a[0],c=a[1],o={_id:e},s=G("/loggedIn_User");Object(n.useEffect)((function(){W.a.post(s,o).then((function(e){c(e.data)})).catch((function(){console.error("Profile loading failed")}))}),[]);var l=Object(n.useState)([]),d=Object(r.a)(l,2),j=d[0],b=d[1],u=G("/loggedIn_User/get_all_publication");Object(n.useEffect)((function(){W.a.post(u,{user_id:e}).then((function(e){e.data&&b(e.data)})).catch((function(){console.error("Posts loading failed")}))}),[]);var h=0;j.map((function(e){return h+=1}));var p=j.map((function(e){return e.article&&e.article.current?Object(T.jsx)(Ys,{author:i.name,profilePic:i.profilePicture,title:e.article.current.title,coverImg:e.article.current.coverImage,readTime:e.article.current.readTime}):(console.log(e),Object(T.jsx)("span",{}))}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsx)(Z.a,{className:Ks().root,children:Object(T.jsxs)(ee.a,{children:[Object(T.jsxs)(U.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(ae.a,{alt:"Profile image",className:Ks().avatar,src:i.profilePicture})}),Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(y.a,{"aria-label":"recipe",className:Ks().buttonStyle,children:Object(T.jsx)(ze.b,{className:Ks().linkStyles,to:"/components/generalUser/UpdateProfile",children:"Edit Profile"})})})]}),Object(T.jsx)(ne.a,{gutterBottom:!0,variant:"h5",component:"h2",className:Ks().title,children:i.name}),Object(T.jsxs)(ne.a,{variant:"body2",color:"textSecondary",component:"p",className:Ks().typographyStyle,children:[Object(T.jsx)("p",{style:{textAlign:"center"},children:i.bio}),Object(T.jsx)("p",{style:{textAlign:"center"},children:i.faculty})]})]})})}),Object(T.jsx)("div",{children:Object(T.jsxs)(U.a,{className:Ks().secondGrid,container:!0,spacing:3,justifyContent:"center",children:[Object(T.jsx)(U.a,{item:!0,children:Object(T.jsx)(Hs,{postCount:h})}),Object(T.jsx)(U.a,{item:!0,children:p})]})})]})},Js=Object(j.a)((function(e){return{navBar:{display:"block",position:"absolute"}}}));function Zs(){var e=Js();return Object(T.jsxs)(ze.a,{children:[Object(T.jsx)(Br,{className:e.navBar}),Object(T.jsxs)(ke.c,{children:[Object(T.jsx)(ke.a,{path:"/components/generalUser",exact:!0,component:Vr}),Object(T.jsx)(ke.a,{path:"/components/generalUser/new",component:Vr}),Object(T.jsx)(ke.a,{path:"/components/generalUser/tagLookup",component:Vr}),Object(T.jsx)(ke.a,{path:"/components/generalUser/search",component:Qr}),Object(T.jsx)(ke.a,{path:"/components/generalUser/viewArticle",component:xs}),Object(T.jsx)(ke.a,{path:"/components/generalUser/userProfile",component:Dr}),Object(T.jsx)(ke.a,{path:"/components/generalUser/AllNotifications",component:_s}),Object(T.jsx)(ke.a,{path:"/components/generalUser/ProfileInfo",component:Qs}),Object(T.jsx)(ke.a,{path:"/components/generalUser/UpdateProfile",component:Vs})]})]})}var Xs=a(764),$s=a.p+"static/media/1.257fbea1.jpg",el=a.p+"static/media/2.66a81154.jpg",tl=a.p+"static/media/3.15afc6b1.png",al=a.p+"static/media/4.ba889185.jpg";a(654);var nl=function(){return Object(T.jsx)("div",{className:"App",children:Object(T.jsxs)(ke.c,{children:[Object(T.jsx)(ke.a,{path:"/",exact:!0,component:il}),Object(T.jsx)(ke.a,{path:"/components/admin/AdminHome",component:Oa}),Object(T.jsx)(ke.a,{path:"/moderator/dashboard",component:Ln}),Object(T.jsx)(ke.a,{path:"/components/academicUser",component:_r}),Object(T.jsx)(ke.a,{path:"/components/generalUser",component:Zs})]})})},il=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],i=t[1];return a?Object(T.jsxs)("div",{children:[Object(T.jsx)(R,{}),Object(T.jsx)("div",{align:"center",children:Object(T.jsxs)(U.a,{container:!0,spacing:3,style:{marginTop:"80px",width:"80%"},children:[Object(T.jsxs)(U.a,{item:!0,xs:!0,children:[Object(T.jsx)("h3",{children:"Trending Tags"}),Object(T.jsx)(Y,{})]}),Object(T.jsx)(U.a,{item:!0,xs:6,children:Object(T.jsx)(Ce,{})}),Object(T.jsx)(U.a,{item:!0,xs:!0,children:Object(T.jsx)(J,{})})]})})]}):Object(T.jsxs)("div",{style:{position:"relative"},align:"center",className:"use-bootstrap",children:[Object(T.jsxs)(Xs.a,{variant:"dark",children:[Object(T.jsx)(Xs.a.Item,{interval:3e3,children:Object(T.jsx)("img",{className:"d-block w-100",src:$s,alt:"First slide",style:{backgroundSize:"cover",height:"100vh",width:"100vw"}})}),Object(T.jsx)(Xs.a.Item,{interval:3e3,children:Object(T.jsx)("img",{className:"d-block w-100",src:el,alt:"Second slide",style:{backgroundSize:"cover",height:"100vh",width:"100vw"}})}),Object(T.jsx)(Xs.a.Item,{interval:3e3,children:Object(T.jsx)("img",{className:"d-block w-100",src:tl,alt:"Third slide",style:{backgroundSize:"cover",height:"100vh",width:"100vw"}})}),Object(T.jsx)(Xs.a.Item,{interval:3e3,children:Object(T.jsx)("img",{className:"d-block w-100",src:al,alt:"Third slide",style:{backgroundSize:"cover",height:"100vh",width:"100vw"}})})]}),Object(T.jsx)(y.a,{variant:"contained",color:"primary",style:{position:"absolute",bottom:"70px",right:"200px",borderRadius:"20px",padding:"10px 20px",backgroundColor:"#4411A8"},onClick:function(){i(!0)},children:"Continue to Edupulse"})]})},cl=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],i=t[1],c=Object(ke.f)(),o=new URLSearchParams(window.location.search).get("signin"),s=new URLSearchParams(window.location.search).get("signout"),l=function(e){if(e)switch(e.role){case"admin":c.push("/components/admin/AdminHome");break;case"moderator":c.push("/moderator/dashboard");break;case"academic":c.push("/components/academicUser");break;case"general":c.push("/components/generalUser");break;case"none":c.push("/components/generalUser/new");break;default:c.push("/")}else c.push("/");i(!0)};if(o&&"true"===o)new Promise((function(e,t){fetch("".concat(_.a.applicationRoot,"/openid/user")).then((function(a){200===a.status?a.json().then((function(t){Pa(t),e(t)})).catch((function(e){t(e)})):t(a.statusText)})).catch((function(e){t(e)}))})).then((function(e){console.log("signed in"),l(e)})).catch((function(e){console.error(e),l()}));else{if(!s||"true"!==s)return nl();!function(){try{localStorage.removeItem("user"),console.log("user logged out")}catch(e){console.error(e)}}(),l()}return a?nl():null};o.a.render(Object(T.jsx)(ze.a,{children:Object(T.jsx)(cl,{})}),document.getElementById("root"))}},[[655,1,2]]]);
//# sourceMappingURL=main.0b1a6114.chunk.js.map